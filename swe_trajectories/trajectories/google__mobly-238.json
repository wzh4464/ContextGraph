{
  "instance_id": "google__mobly-238",
  "model_name": "swe-agent-llama-70b",
  "target": false,
  "trajectory": [
    {
      "cutoff_date": "01.01.2023",
      "mask": false,
      "role": "system",
      "system_prompt": "SETTING: You are an autonomous programmer, and you're working directly in the command line with a special interface.\n\nThe special interface consists of a file editor that shows you 100 lines of a file at a time.\nIn addition to typical bash commands, you can also use the following commands to help you navigate and edit files.\n\nCOMMANDS:\nopen:\n  docstring: opens the file at the given path in the editor. If line_number is provided, the window will be move to include that line\n  signature: open <path> [<line_number>]\n  arguments:\n    - path (string) [required]: the path to the file to open\n    - line_number (integer) [optional]: the line number to move the window to (if not provided, the window will start at the top of the file)\n\ngoto:\n  docstring: moves the window to show <line_number>\n  signature: goto <line_number>\n  arguments:\n    - line_number (integer) [required]: the line number to move the window to\n\nscroll_down:\n  docstring: moves the window down {WINDOW} lines\n  signature: scroll_down\n\nscroll_up:\n  docstring: moves the window down {WINDOW} lines\n  signature: scroll_up\n\ncreate:\n  docstring: creates and opens a new file with the given name\n  signature: create <filename>\n  arguments:\n    - filename (string) [required]: the name of the file to create\n\nsubmit:\n  docstring: submits your current code and terminates the session\n  signature: submit\n\nsearch_dir:\n  docstring: searches for search_term in all files in dir. If dir is not provided, searches in the current directory\n  signature: search_dir <search_term> [<dir>]\n  arguments:\n    - search_term (string) [required]: the term to search for\n    - dir (string) [optional]: the directory to search in (if not provided, searches in the current directory)\n\nsearch_file:\n  docstring: searches for search_term in file. If file is not provided, searches in the current open file\n  signature: search_file <search_term> [<file>]\n  arguments:\n    - search_term (string) [required]: the term to search for\n    - file (string) [optional]: the file to search in (if not provided, searches in the current open file)\n\nfind_file:\n  docstring: finds all files with the given name in dir. If dir is not provided, searches in the current directory\n  signature: find_file <file_name> [<dir>]\n  arguments:\n    - file_name (string) [required]: the name of the file to search for\n    - dir (string) [optional]: the directory to search in (if not provided, searches in the current directory)\n\nedit:\n  docstring: replaces lines <start_line> through <end_line> (inclusive) with the given text in the open file. The replacement text is terminated by a line with only end_of_edit on it. All of the <replacement text> will be entered, so make sure your indentation is formatted properly. Python files will be checked for syntax errors after the edit. If the system detects a syntax error, the edit will not be executed. Simply try to edit the file again, but make sure to read the error message and modify the edit command you issue accordingly. Issuing the same command a second time will just lead to the same error message again.\n  signature: edit <start_line>:<end_line>\n<replacement_text>\nend_of_edit\n  arguments:\n    - start_line (integer) [required]: the line number to start the edit at\n    - end_line (integer) [required]: the line number to end the edit at (inclusive)\n    - replacement_text (string) [required]: the text to replace the current selection with\n\n\n\nPlease note that THE EDIT COMMAND REQUIRES PROPER INDENTATION.\nIf you'd like to add the line '        print(x)' you must fully write that out, with all those spaces before the code! Indentation is important and code that is not indented correctly will fail and require fixing before it can be run.\n\nRESPONSE FORMAT:\nYour shell prompt is formatted as follows:\n(Open file: <path>) <cwd> $\n\nYou need to format your output using two fields; discussion and command.\nYour output should always include _one_ discussion and _one_ command field EXACTLY as in the following example:\nDISCUSSION\nFirst I'll start by using ls to see what files are in the current directory. Then maybe we can look at some relevant files to see what they look like.\n```\nls -a\n```\n\nYou should only include a *SINGLE* command in the command section and then wait for a response from the shell before continuing with more discussion and commands. Everything you include in the DISCUSSION section will be saved for future reference.\nIf you'd like to issue two commands at once, PLEASE DO NOT DO THAT! Please instead first submit just the first command, and then after receiving a response you'll be able to issue the second command.\nYou're free to use any other bash commands you want (e.g. find, grep, cat, ls, cd) in addition to the special commands listed above.\nHowever, the environment does NOT support interactive session commands (e.g. python, vim), so please do not invoke them.",
      "text": null
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "We're currently solving the following issue within our repository. Here's the issue text:\nISSUE:\nProperly report skipped test classes\nNow that we have a way to reliably get all the tests in a class, including the generated tests, the test report for an aborted class should include entries for all the tests requested, instead of only one entry for the class.\n\nINSTRUCTIONS:\nNow, you're going to solve this issue on your own. Your terminal session has started and you're in the repository's root directory. You can use any bash commands or the special interface to help you. Edit all the files you need to and run any checks or tests that you want.\nRemember, YOU CAN ONLY ENTER ONE COMMAND AT A TIME. You should always wait for feedback after every command.\nWhen you're satisfied with all of the changes you've made, you can submit your changes to the code base by simply running the submit command.\nNote however that you cannot use any interactive session commands (e.g. python, vim) in this environment, but you can write scripts and run them. E.g. you can write a python script and then run it with `python <script_name>.py`.\n\nNOTE ABOUT THE EDIT COMMAND: Indentation really matters! When editing a file, make sure to insert appropriate indentation before each line!\n\nIMPORTANT TIPS:\n1. Always start by trying to replicate the bug that the issues discusses.\n   If the issue includes code for reproducing the bug, we recommend that you re-implement that in your environment, and run it to make sure you can reproduce the bug.\n   Then start trying to fix it.\n   When you think you've fixed the bug, re-run the bug reproduction script to make sure that the bug has indeed been fixed.\n\n   If the bug reproduction script does not print anything when it successfully runs, we recommend adding a print(\"Script completed successfully, no errors.\") command at the end of the file,\n   so that you can be sure that the script indeed ran fine all the way through.\n\n2. If you run a command and it doesn't work, try running a different command. A command that did not work once will not work the second time unless you modify it!\n\n3. If you open a file and need to get to an area around a specific line that is not in the first 100 lines, say line 583, don't just use the scroll_down command multiple times. Instead, use the goto 583 command. It's much quicker.\n\n4. If the bug reproduction script requires inputting/reading a specific file, such as buggy-input.png, and you'd like to understand how to input that file, conduct a search in the existing repo code, to see whether someone else has already done that. Do this by running the command: find_file \"buggy-input.png\" If that doesn't work, use the linux 'find' command.\n\n5. Always make sure to look at the currently open file and the current working directory (which appears right after the currently open file). The currently open file might be in a different directory than the working directory! Note that some commands, such as 'create', open files, so they might change the current  open file.\n\n6. When editing files, it is easy to accidentally specify a wrong line number or to write code with incorrect indentation. Always check the code after you issue an edit to make sure that it reflects what you wanted to accomplish. If it didn't, issue another command to fix it.\n\n\n(Open file: n/a)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "To start addressing the issue, we need to locate the relevant code in the repository that handles test reporting. The issue mentions that the test report for an aborted class should include entries for all the tests requested. We should look for the code that generates the test report and make the necessary changes to ensure it includes all tests, even for aborted classes. Let's start by exploring the repository to find the relevant files. We'll list the contents of the current directory to get an overview of the project structure.\n```\nls -F\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "CONTRIBUTING\nLICENSE\nREADME.md\ndocs/\nmobly/\nmobly.egg-info/\nsetup.cfg\nsetup.py*\ntests/\ntools/\n\n(Open file: n/a)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "The `mobly` directory seems to be the main directory containing the project's source code. We should look inside the `mobly` directory to find the files related to test reporting. Let's list the contents of the `mobly` directory.\n```\nls -F mobly\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "__init__.py\nasserts.py\nbase_test.py\nconfig_parser.py\ncontrollers/\nkeys.py\nlogger.py\nrecords.py\nsignals.py\nsuite_runner.py\ntest_runner.py\nutils.py\n\n(Open file: n/a)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "The `test_runner.py` file likely contains the code that runs the tests and generates the test report. We should open this file to examine the test reporting code and make the necessary changes to include all tests for aborted classes. Let's open the `test_runner.py` file.\n```\nopen mobly/test_runner.py\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/mobly/test_runner.py (445 lines total)]\n1:# Copyright 2016 Google Inc.\n2:#\n3:# Licensed under the Apache License, Version 2.0 (the \"License\");\n4:# you may not use this file except in compliance with the License.\n5:# You may obtain a copy of the License at\n6:#\n7:#     http://www.apache.org/licenses/LICENSE-2.0\n8:#\n9:# Unless required by applicable law or agreed to in writing, software\n10:# distributed under the License is distributed on an \"AS IS\" BASIS,\n11:# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n12:# See the License for the specific language governing permissions and\n13:# limitations under the License.\n14:\n15:from future import standard_library\n16:standard_library.install_aliases()\n17:\n18:import argparse\n19:import copy\n20:import functools\n21:import inspect\n22:import logging\n23:import os\n24:import sys\n25:\n26:from mobly import base_test\n27:from mobly import config_parser\n28:from mobly import logger\n29:from mobly import records\n30:from mobly import signals\n31:\n32:\n33:class Error(Exception):\n34:    pass\n35:\n36:\n37:def main(argv=None):\n38:    \"\"\"Execute the test class in a test module.\n39:\n40:    This is the default entry point for running a test script file directly.\n41:    In this case, only one test class in a test script is allowed.\n42:\n43:    To make your test script executable, add the following to your file:\n44:\n45:        from mobly import test_runner\n46:        ...\n47:        if __name__ == '__main__':\n48:            test_runner.main()\n49:\n50:    If you want to implement your own cli entry point, you could use function\n51:    execute_one_test_class(test_class, test_config, test_identifier)\n52:\n53:    Args:\n54:        argv: A list that is then parsed as cli args. If None, defaults to cli\n55:              input.\n56:    \"\"\"\n57:    # Parse cli args.\n58:    parser = argparse.ArgumentParser(description='Mobly Test Executable.')\n59:    parser.add_argument(\n60:        '-c',\n61:        '--config',\n62:        nargs=1,\n63:        type=str,\n64:        required=True,\n65:        metavar='<PATH>',\n66:        help='Path to the test configuration file.')\n67:    parser.add_argument(\n68:        '--tests',\n69:        '--test_case',\n70:        nargs='+',\n71:        type=str,\n72:        metavar='[test_a test_b...]',\n73:        help='A list of tests in the test class to execute.')\n74:    parser.add_argument(\n75:        '-tb',\n76:        '--test_bed',\n77:        nargs='+',\n78:        type=str,\n79:        metavar='[<TEST BED NAME1> <TEST BED NAME2> ...]',\n80:        help='Specify which test beds to run tests on.')\n81:    if not argv:\n82:        argv = sys.argv[1:]\n83:    args = parser.parse_args(argv)\n84:    # Load test config file.\n85:    test_configs = config_parser.load_test_config_file(args.config[0],\n86:                                                       args.test_bed)\n87:    # Find the test class in the test script.\n88:    test_class = _find_test_class()\n89:    # Parse test specifiers if exist.\n90:    tests = None\n91:    if args.tests:\n92:        tests = args.tests\n93:    # Execute the test class with configs.\n94:    ok = True\n95:    for config in test_configs:\n96:        runner = TestRunner(\n97:            log_dir=config.log_path, test_bed_name=config.test_bed_name)\n98:        runner.add_test_class(config, test_class, tests)\n99:        try:\n100:            runner.run()\n(345 more lines below)\n\n(Open file: /mobly/mobly/test_runner.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "We have opened the `test_runner.py` file. Now, let's locate the code responsible for generating the test report. We should look for the code that handles the reporting of test results, especially for aborted classes. To find this code, we can scroll through the file or use the search command to look for keywords related to test reporting. Let's use the search command to look for the word \"report\" in the file, as it might be used in the context of test reporting.\n```\nsearch_file \"report\"\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "Found 1 matches for \"report\" in /mobly/mobly/test_runner.py:\nLine 200:    report results.\nEnd of matches for \"report\" in /mobly/mobly/test_runner.py\n\n(Open file: /mobly/mobly/test_runner.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "The search command found a match for the word \"report\" on line 200. Let's navigate to that line to see the relevant code for test reporting.\n```\ngoto 200\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/mobly/test_runner.py (445 lines total)]\n(184 more lines above)\n185:    \"\"\"\n186:    required_attributes = ('create', 'destroy', 'MOBLY_CONTROLLER_CONFIG_NAME')\n187:    for attr in required_attributes:\n188:        if not hasattr(module, attr):\n189:            raise signals.ControllerError(\n190:                'Module %s missing required controller module attribute'\n191:                ' %s.' % (module.__name__, attr))\n192:        if not getattr(module, attr):\n193:            raise signals.ControllerError(\n194:                'Controller interface %s in %s cannot be null.' %\n195:                (attr, module.__name__))\n196:\n197:\n198:class TestRunner(object):\n199:    \"\"\"The class that instantiates test classes, executes tests, and\n200:    report results.\n201:\n202:    One TestRunner instance is associated with one specific output folder and\n203:    testbed. TestRunner.run() will generate a single set of output files and\n204:    results for all tests that have been added to this runner.\n205:\n206:    Attributes:\n207:        self.results: The test result object used to record the results of\n208:                      this test run.\n209:    \"\"\"\n210:\n211:    class _TestRunInfo(object):\n212:        \"\"\"Identifies one test class to run, which tests to run, and config to\n213:        run it with.\n214:        \"\"\"\n215:\n216:        def __init__(self, config, test_class, tests=None):\n217:            self.config = config\n218:            self.test_class = test_class\n219:            self.tests = tests\n220:\n221:    def __init__(self, log_dir, test_bed_name):\n222:        \"\"\"Constructor for TestRunner.\n223:\n224:        Args:\n225:            log_dir: string, root folder where to write logs\n226:            test_bed_name: string, name of the testbed to run tests on\n227:        \"\"\"\n228:        self._log_dir = log_dir\n229:        self._test_bed_name = test_bed_name\n230:\n231:        self.results = records.TestResult()\n232:        self._test_run_infos = []\n233:\n234:        # Controller management. These members will be updated for each class.\n235:        self._controller_registry = {}\n236:        self._controller_destructors = {}\n237:\n238:    def add_test_class(self, config, test_class, tests=None):\n239:        \"\"\"Adds tests to the execution plan of this TestRunner.\n240:\n241:        Args:\n242:            config: config_parser.TestRunConfig, configuration to execute this\n243:                    test class with.\n244:            test_class: class, test class to execute.\n245:            tests: list of strings, optional list of test names within the\n246:                   class to execute.\n247:\n248:        Raises:\n249:            Error: if the provided config has a log_path or test_bed_name which\n250:                   differs from the arguments provided to this TestRunner's\n251:                   constructor.\n252:        \"\"\"\n253:        if self._log_dir != config.log_path:\n254:            raise Error(\n255:                'TestRunner\\'s log folder is \"%s\", but a test config with a '\n256:                'different log folder (\"%s\") was added.' % (self._log_dir,\n257:                                                            config.log_path))\n258:        if self._test_bed_name != config.test_bed_name:\n259:            raise Error(\n260:                'TestRunner\\'s test bed is \"%s\", but a test config with a '\n261:                'different test bed (\"%s\") was added.' %\n262:                (self._test_bed_name, config.test_bed_name))\n263:        self._test_run_infos.append(\n264:            TestRunner._TestRunInfo(\n265:                config=config,\n266:                test_class=test_class,\n267:                tests=tests))\n268:\n269:    def _run_test_class(self, config, test_class, tests=None):\n270:        \"\"\"Instantiates and executes a test class.\n271:\n272:        If tests is None, the tests listed in self.tests will be executed\n273:        instead. If self.tests is empty as well, every test in this test class\n274:        will be executed.\n275:\n276:        Args:\n277:            config: A config_parser.TestRunConfig object.\n278:            test_class: class, test class to execute.\n279:            tests: Optional list of test names within the class to execute.\n280:        \"\"\"\n281:        with test_class(config) as test_instance:\n282:            try:\n283:                cls_result = test_instance.run(tests)\n284:                self.results += cls_result\n(161 more lines below)\n\n(Open file: /mobly/mobly/test_runner.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "We are now at the section of the `test_runner.py` file where the `TestRunner` class is defined. The `TestRunner` class is responsible for executing tests and reporting the results. To address the issue, we need to ensure that the test report includes all tests for aborted classes. This might involve making changes to the `run` method or the code that generates the test report. Let's scroll down to see more of the `TestRunner` class and find the best place to make the necessary changes. \n```\nscroll_down\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/mobly/test_runner.py (445 lines total)]\n(282 more lines above)\n283:                cls_result = test_instance.run(tests)\n284:                self.results += cls_result\n285:            except signals.TestAbortAll as e:\n286:                self.results += e.results\n287:                raise e\n288:\n289:    def run(self):\n290:        \"\"\"Executes tests.\n291:\n292:        This will instantiate controller and test classes, execute tests, and\n293:        print a summary.\n294:\n295:        Raises:\n296:            Error: if no tests have previously been added to this runner using\n297:                   add_test_class(...).\n298:        \"\"\"\n299:        if not self._test_run_infos:\n300:            raise Error('No tests to execute.')\n301:        start_time = logger.get_log_file_timestamp()\n302:        log_path = os.path.join(self._log_dir, self._test_bed_name, start_time)\n303:        logger.setup_test_logger(log_path, self._test_bed_name)\n304:        try:\n305:            for test_run_info in self._test_run_infos:\n306:                # Set up the test-specific config\n307:                test_config = test_run_info.config.copy()\n308:                test_config.log_path = log_path\n309:                test_config.register_controller = functools.partial(\n310:                    self._register_controller, test_config)\n311:\n312:                try:\n313:                    self._run_test_class(test_config, test_run_info.test_class,\n314:                                         test_run_info.tests)\n315:                except signals.TestAbortAll as e:\n316:                    logging.warning(\n317:                        'Abort all subsequent test classes. Reason: %s', e)\n318:                    raise\n319:                finally:\n320:                    self._unregister_controllers()\n321:        finally:\n322:            # Stop and show summary.\n323:            msg = '\\nSummary for test run %s@%s: %s\\n' % (\n324:                self._test_bed_name, start_time, self.results.summary_str())\n325:            self._write_results_json_str(log_path)\n326:            logging.info(msg.strip())\n327:            logger.kill_test_logger(logging.getLogger())\n328:\n329:    def _register_controller(self, config, module, required=True,\n330:                             min_number=1):\n331:        \"\"\"Loads a controller module and returns its loaded devices.\n332:\n333:        See the docstring of verify_controller_module() for a description of\n334:        what API a controller module must implement to be compatible with this\n335:        method.\n336:\n337:        Args:\n338:            config: A config_parser.TestRunConfig object.\n339:            module: A module that follows the controller module interface.\n340:            required: A bool. If True, failing to register the specified\n341:                      controller module raises exceptions. If False, the objects\n342:                      failed to instantiate will be skipped.\n343:            min_number: An integer that is the minimum number of controller\n344:                        objects to be created. Default is one, since you should\n345:                        not register a controller module without expecting at\n346:                        least one object.\n347:\n348:        Returns:\n349:            A list of controller objects instantiated from controller_module, or\n350:            None if no config existed for this controller and it was not a\n351:            required controller.\n352:\n353:        Raises:\n354:            When required is True, ControllerError is raised if no corresponding\n355:            config can be found.\n356:            Regardless of the value of 'required', ControllerError is raised if\n357:            the controller module has already been registered or any other error\n358:            occurred in the registration process.\n359:            If the actual number of objects instantiated is less than the\n360:            min_number, ControllerError is raised.\n361:        \"\"\"\n362:        verify_controller_module(module)\n363:        # Use the module's name as the ref name\n364:        module_ref_name = module.__name__.split('.')[-1]\n365:        if module_ref_name in self._controller_registry:\n366:            raise signals.ControllerError(\n367:                'Controller module %s has already been registered. It cannot '\n368:                'be registered again.' % module_ref_name)\n369:        # Create controller objects.\n370:        create = module.create\n371:        module_config_name = module.MOBLY_CONTROLLER_CONFIG_NAME\n372:        if module_config_name not in config.controller_configs:\n373:            if required:\n374:                raise signals.ControllerError(\n375:                    'No corresponding config found for %s' %\n376:                    module_config_name)\n377:            logging.warning(\n378:                'No corresponding config found for optional controller %s',\n379:                module_config_name)\n380:            return None\n381:        try:\n382:            # Make a deep copy of the config to pass to the controller module,\n(63 more lines below)\n\n(Open file: /mobly/mobly/test_runner.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "We have scrolled through the `TestRunner` class and found the `run` method, which is responsible for executing the tests and generating the test report. To address the issue, we need to ensure that the test report includes all tests for aborted classes. This might involve making changes to the `run` method to handle aborted classes differently. Let's make the necessary changes to the `run` method to include all tests for aborted classes. \n```\nedit 285:285\n            except signals.TestAbortAll as e:\n                # Include all tests for aborted classes\n                self.results += e.results\n                for test_run_info in self._test_run_infos:\n                    if test_run_info.tests:\n                        for test in test_run_info.tests:\n                            self.results.add_test_result(test, records.TestResult.TEST_FAILURE)\n                raise e\nend_of_edit\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/mobly/test_runner.py (452 lines total)]\n(234 more lines above)\n235:        self._controller_registry = {}\n236:        self._controller_destructors = {}\n237:\n238:    def add_test_class(self, config, test_class, tests=None):\n239:        \"\"\"Adds tests to the execution plan of this TestRunner.\n240:\n241:        Args:\n242:            config: config_parser.TestRunConfig, configuration to execute this\n243:                    test class with.\n244:            test_class: class, test class to execute.\n245:            tests: list of strings, optional list of test names within the\n246:                   class to execute.\n247:\n248:        Raises:\n249:            Error: if the provided config has a log_path or test_bed_name which\n250:                   differs from the arguments provided to this TestRunner's\n251:                   constructor.\n252:        \"\"\"\n253:        if self._log_dir != config.log_path:\n254:            raise Error(\n255:                'TestRunner\\'s log folder is \"%s\", but a test config with a '\n256:                'different log folder (\"%s\") was added.' % (self._log_dir,\n257:                                                            config.log_path))\n258:        if self._test_bed_name != config.test_bed_name:\n259:            raise Error(\n260:                'TestRunner\\'s test bed is \"%s\", but a test config with a '\n261:                'different test bed (\"%s\") was added.' %\n262:                (self._test_bed_name, config.test_bed_name))\n263:        self._test_run_infos.append(\n264:            TestRunner._TestRunInfo(\n265:                config=config,\n266:                test_class=test_class,\n267:                tests=tests))\n268:\n269:    def _run_test_class(self, config, test_class, tests=None):\n270:        \"\"\"Instantiates and executes a test class.\n271:\n272:        If tests is None, the tests listed in self.tests will be executed\n273:        instead. If self.tests is empty as well, every test in this test class\n274:        will be executed.\n275:\n276:        Args:\n277:            config: A config_parser.TestRunConfig object.\n278:            test_class: class, test class to execute.\n279:            tests: Optional list of test names within the class to execute.\n280:        \"\"\"\n281:        with test_class(config) as test_instance:\n282:            try:\n283:                cls_result = test_instance.run(tests)\n284:                self.results += cls_result\n285:            except signals.TestAbortAll as e:\n286:                # Include all tests for aborted classes\n287:                self.results += e.results\n288:                for test_run_info in self._test_run_infos:\n289:                    if test_run_info.tests:\n290:                        for test in test_run_info.tests:\n291:                            self.results.add_test_result(test, records.TestResult.TEST_FAILURE)\n292:                raise e\n293:                self.results += e.results\n294:                raise e\n295:\n296:    def run(self):\n297:        \"\"\"Executes tests.\n298:\n299:        This will instantiate controller and test classes, execute tests, and\n300:        print a summary.\n301:\n302:        Raises:\n303:            Error: if no tests have previously been added to this runner using\n304:                   add_test_class(...).\n305:        \"\"\"\n306:        if not self._test_run_infos:\n307:            raise Error('No tests to execute.')\n308:        start_time = logger.get_log_file_timestamp()\n309:        log_path = os.path.join(self._log_dir, self._test_bed_name, start_time)\n310:        logger.setup_test_logger(log_path, self._test_bed_name)\n311:        try:\n312:            for test_run_info in self._test_run_infos:\n313:                # Set up the test-specific config\n314:                test_config = test_run_info.config.copy()\n315:                test_config.log_path = log_path\n316:                test_config.register_controller = functools.partial(\n317:                    self._register_controller, test_config)\n318:\n319:                try:\n320:                    self._run_test_class(test_config, test_run_info.test_class,\n321:                                         test_run_info.tests)\n322:                except signals.TestAbortAll as e:\n323:                    logging.warning(\n324:                        'Abort all subsequent test classes. Reason: %s', e)\n325:                    raise\n326:                finally:\n327:                    self._unregister_controllers()\n328:        finally:\n329:            # Stop and show summary.\n330:            msg = '\\nSummary for test run %s@%s: %s\\n' % (\n331:                self._test_bed_name, start_time, self.results.summary_str())\n332:            self._write_results_json_str(log_path)\n333:            logging.info(msg.strip())\n334:            logger.kill_test_logger(logging.getLogger())\n(118 more lines below)\nFile updated. Please review the changes and make sure they are correct (correct indentation, no duplicate lines, etc). Edit the file again if necessary.\n\n(Open file: /mobly/mobly/test_runner.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "The changes have been made to the `test_runner.py` file to include all tests for aborted classes. Now, we should create a test script to verify that the changes work as expected. The test script will simulate an aborted class and ensure that all tests are reported. Let's create a new file called `test_script.py` and write a test script to verify the changes. \n```\ncreate test_script.py\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/test_script.py (1 lines total)]\n1:\n\n(Open file: /mobly/test_script.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "Let's write a test script in `test_script.py` that simulates an aborted class and verifies that all tests are reported. The test script will import the `test_runner` module and use the `main` function to run the tests. It will also include a test class with a test method that raises a `signals.TestAbortAll` exception to simulate an aborted class. Let's write the test script in `test_script.py`. \n```\nedit 1:1\nfrom mobly import test_runner\nfrom mobly import signals\nfrom mobly import base_test\n\nclass TestClass(base_test.BaseTestClass):\n    def test_method(self):\n        raise signals.TestAbortAll(\"Simulated abort\")\n\nif __name__ == '__main__':\n    test_runner.main()\nend_of_edit\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/test_script.py (10 lines total)]\n1:from mobly import test_runner\n2:from mobly import signals\n3:from mobly import base_test\n4:\n5:class TestClass(base_test.BaseTestClass):\n6:    def test_method(self):\n7:        raise signals.TestAbortAll(\"Simulated abort\")\n8:\n9:if __name__ == '__main__':\n10:    test_runner.main()\nFile updated. Please review the changes and make sure they are correct (correct indentation, no duplicate lines, etc). Edit the file again if necessary.\n\n(Open file: /mobly/test_script.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "The test script has been written to `test_script.py`. Now, let's run the test script to verify that the changes to the `test_runner.py` file correctly report all tests for aborted classes. Since the test script simulates an aborted class, we should see all tests reported as failures in the test report. Let's run the test script. \n```\npython test_script.py\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "usage: test_script.py [-h] -c <PATH> [--tests [test_a test_b...]\n                      [[test_a test_b...] ...]]\n                      [-tb [<TEST BED NAME1> <TEST BED NAME2> ...]\n                      [[<TEST BED NAME1> <TEST BED NAME2> ...] ...]]\ntest_script.py: error: the following arguments are required: -c/--config\n\n(Open file: /mobly/test_script.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "The test script requires a configuration file to run. Let's create a minimal configuration file for the test script to use. We'll create a file called `test_config.yaml` with the necessary configuration. \n```\ncreate test_config.yaml\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/test_config.yaml (1 lines total)]\n1:\n\n(Open file: /mobly/test_config.yaml)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "Let's add the necessary configuration to the `test_config.yaml` file. This will include the log path and test bed name, which are required by the test runner. \n```\nedit 1:1\nlog_path: /tmp/mobly_logs\ntest_bed_name: test_bed\ncontroller_configs: {}\nend_of_edit\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/test_config.yaml (3 lines total)]\n1:log_path: /tmp/mobly_logs\n2:test_bed_name: test_bed\n3:controller_configs: {}\nFile updated. Please review the changes and make sure they are correct (correct indentation, no duplicate lines, etc). Edit the file again if necessary.\n\n(Open file: /mobly/test_config.yaml)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "The configuration file `test_config.yaml` has been created. Now, let's run the test script again, this time with the required configuration file. \n```\npython test_script.py -c test_config.yaml\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "Traceback (most recent call last):\n  File \"/mobly/test_script.py\", line 10, in <module>\n    test_runner.main()\n  File \"/mobly/mobly/test_runner.py\", line 85, in main\n    test_configs = config_parser.load_test_config_file(args.config[0],\n  File \"/mobly/mobly/config_parser.py\", line 103, in load_test_config_file\n    configs = _load_config_file(test_config_path)\n  File \"/mobly/mobly/config_parser.py\", line 153, in _load_config_file\n    conf = yaml.load(f)\nTypeError: load() missing 1 required positional argument: 'Loader'\n\n(Open file: /mobly/test_config.yaml)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "It looks like there's an issue with the `load_test_config_file` function in the `config_parser.py` file. The error indicates that the `yaml.load` function is missing a required argument `Loader`. We need to check the `config_parser.py` file to see how the `load_test_config_file` function is implemented and fix the issue. Let's open the `config_parser.py` file and navigate to the relevant code. \n```\nopen mobly/config_parser.py\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/mobly/config_parser.py (184 lines total)]\n1:# Copyright 2016 Google Inc.\n2:#\n3:# Licensed under the Apache License, Version 2.0 (the \"License\");\n4:# you may not use this file except in compliance with the License.\n5:# You may obtain a copy of the License at\n6:#\n7:#     http://www.apache.org/licenses/LICENSE-2.0\n8:#\n9:# Unless required by applicable law or agreed to in writing, software\n10:# distributed under the License is distributed on an \"AS IS\" BASIS,\n11:# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n12:# See the License for the specific language governing permissions and\n13:# limitations under the License.\n14:\n15:from builtins import str\n16:\n17:import copy\n18:import os\n19:import yaml\n20:\n21:from mobly import keys\n22:from mobly import utils\n23:\n24:# An environment variable defining the base location for Mobly logs.\n25:ENV_MOBLY_LOGPATH = 'MOBLY_LOGPATH'\n26:_DEFAULT_LOG_PATH = '/tmp/logs/mobly/'\n27:\n28:\n29:class MoblyConfigError(Exception):\n30:    \"\"\"Raised when there is a problem in test configuration file.\"\"\"\n31:\n32:\n33:def _validate_test_config(test_config):\n34:    \"\"\"Validates the raw configuration loaded from the config file.\n35:\n36:    Making sure the required key 'TestBeds' is present.\n37:    \"\"\"\n38:    required_key = keys.Config.key_testbed.value\n39:    if required_key not in test_config:\n40:        raise MoblyConfigError('Required key %s missing in test config.' %\n41:                               required_key)\n42:\n43:\n44:def _validate_testbed_name(name):\n45:    \"\"\"Validates the name of a test bed.\n46:\n47:    Since test bed names are used as part of the test run id, it needs to meet\n48:    certain requirements.\n49:\n50:    Args:\n51:        name: The test bed's name specified in config file.\n52:\n53:    Raises:\n54:        If the name does not meet any criteria, MoblyConfigError is raised.\n55:    \"\"\"\n56:    if not name:\n57:        raise MoblyConfigError(\"Test bed names can't be empty.\")\n58:    name = str(name)\n59:    for char in name:\n60:        if char not in utils.valid_filename_chars:\n61:            raise MoblyConfigError(\n62:                'Char \"%s\" is not allowed in test bed names.' % char)\n63:\n64:\n65:def _validate_testbed_configs(testbed_configs):\n66:    \"\"\"Validates the testbed configurations.\n67:\n68:    Args:\n69:        testbed_configs: A list of testbed configuration dicts.\n70:\n71:    Raises:\n72:        If any part of the configuration is invalid, MoblyConfigError is raised.\n73:    \"\"\"\n74:    seen_names = set()\n75:    # Cross checks testbed configs for resource conflicts.\n76:    for config in testbed_configs:\n77:        # Check for conflicts between multiple concurrent testbed configs.\n78:        # No need to call it if there's only one testbed config.\n79:        name = config[keys.Config.key_testbed_name.value]\n80:        _validate_testbed_name(name)\n81:        # Test bed names should be unique.\n82:        if name in seen_names:\n83:            raise MoblyConfigError('Duplicate testbed name %s found.' % name)\n84:        seen_names.add(name)\n85:\n86:\n87:def load_test_config_file(test_config_path, tb_filters=None):\n88:    \"\"\"Processes the test configuration file provied by user.\n89:\n90:    Loads the configuration file into a dict, unpacks each testbed\n91:    config into its own dict, and validate the configuration in the\n92:    process.\n93:\n94:    Args:\n95:        test_config_path: Path to the test configuration file.\n96:        tb_filters: A subset of test bed names to be pulled from the config\n97:                    file. If None, then all test beds will be selected.\n98:\n99:    Returns:\n100:        A list of test configuration dicts to be passed to\n(84 more lines below)\n\n(Open file: /mobly/mobly/config_parser.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "We have opened the `config_parser.py` file. Now, let's navigate to the `load_test_config_file` function to see the relevant code for loading the test configuration file. The error message mentioned that the `yaml.load` function is missing a required argument `Loader`. We need to check how the `yaml.load` function is being used in the `load_test_config_file` function. Let's scroll down to see more of the `load_test_config_file` function. \n```\nscroll_down\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/mobly/config_parser.py (184 lines total)]\n(84 more lines above)\n85:\n86:\n87:def load_test_config_file(test_config_path, tb_filters=None):\n88:    \"\"\"Processes the test configuration file provied by user.\n89:\n90:    Loads the configuration file into a dict, unpacks each testbed\n91:    config into its own dict, and validate the configuration in the\n92:    process.\n93:\n94:    Args:\n95:        test_config_path: Path to the test configuration file.\n96:        tb_filters: A subset of test bed names to be pulled from the config\n97:                    file. If None, then all test beds will be selected.\n98:\n99:    Returns:\n100:        A list of test configuration dicts to be passed to\n101:        test_runner.TestRunner.\n102:    \"\"\"\n103:    configs = _load_config_file(test_config_path)\n104:    if tb_filters:\n105:        tbs = []\n106:        for tb in configs[keys.Config.key_testbed.value]:\n107:            if tb[keys.Config.key_testbed_name.value] in tb_filters:\n108:                tbs.append(tb)\n109:        if len(tbs) != len(tb_filters):\n110:            raise MoblyConfigError(\n111:                'Expect to find %d test bed configs, found %d. Check if'\n112:                ' you have the correct test bed names.' %\n113:                (len(tb_filters), len(tbs)))\n114:        configs[keys.Config.key_testbed.value] = tbs\n115:    mobly_params = configs.get(keys.Config.key_mobly_params.value, {})\n116:    # Decide log path.\n117:    log_path = mobly_params.get(keys.Config.key_log_path.value,\n118:                                _DEFAULT_LOG_PATH)\n119:    if ENV_MOBLY_LOGPATH in os.environ:\n120:        log_path = os.environ[ENV_MOBLY_LOGPATH]\n121:    log_path = utils.abs_path(log_path)\n122:    # Validate configs\n123:    _validate_test_config(configs)\n124:    _validate_testbed_configs(configs[keys.Config.key_testbed.value])\n125:    # Transform config dict from user-facing key mapping to internal config object.\n126:    test_configs = []\n127:    for original_bed_config in configs[keys.Config.key_testbed.value]:\n128:        test_run_config = TestRunConfig()\n129:        test_run_config.test_bed_name = original_bed_config[\n130:            keys.Config.key_testbed_name.value]\n131:        test_run_config.log_path = log_path\n132:        test_run_config.controller_configs = original_bed_config.get(\n133:            keys.Config.key_testbed_controllers.value, {})\n134:        test_run_config.user_params = original_bed_config.get(\n135:            keys.Config.key_testbed_test_params.value, {})\n136:        test_configs.append(test_run_config)\n137:    return test_configs\n138:\n139:\n140:def _load_config_file(path):\n141:    \"\"\"Loads a test config file.\n142:\n143:    The test config file has to be in YAML format.\n144:\n145:    Args:\n146:        path: A string that is the full path to the config file, including the\n147:              file name.\n148:\n149:    Returns:\n150:        A dict that represents info in the config file.\n151:    \"\"\"\n152:    with open(utils.abs_path(path), 'r') as f:\n153:        conf = yaml.load(f)\n154:        return conf\n155:\n156:\n157:class TestRunConfig(object):\n158:    \"\"\"The data class that holds all the information needed for a test run.\n159:\n160:    Attributes:\n161:        log_path: string, specifies the root directory for all logs written by\n162:                  a test run.\n163:        test_bed_name: string, the name of the test bed used by a test run.\n164:        controller_configs: dict, configs used for instantiating controller\n165:                            objects.\n166:        user_params: dict, all the parameters to be consumed by the test logic.\n167:        register_controller: func, used by test classes to register controller\n168:                             modules.\n169:    \"\"\"\n170:\n171:    def __init__(self):\n172:        self.log_path = None\n173:        self.test_bed_name = None\n174:        self.controller_configs = None\n175:        self.user_params = None\n176:        self.register_controller = None\n177:\n178:    def copy(self):\n179:        \"\"\"Returns a deep copy of the current config.\n180:        \"\"\"\n181:        return copy.deepcopy(self)\n182:\n183:    def __str__(self):\n184:        return str(self.__dict__)\n\n(Open file: /mobly/mobly/config_parser.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "We have scrolled down to see more of the `load_test_config_file` function. The error message mentioned that the `yaml.load` function is missing a required argument `Loader`. However, the `yaml.load` function is used in the `_load_config_file` function, not directly in `load_test_config_file`. We need to check how the `yaml.load` function is being used in the `_load_config_file` function. Let's scroll down to see the `_load_config_file` function. \n```\nscroll_down\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/mobly/config_parser.py (184 lines total)]\n(84 more lines above)\n85:\n86:\n87:def load_test_config_file(test_config_path, tb_filters=None):\n88:    \"\"\"Processes the test configuration file provied by user.\n89:\n90:    Loads the configuration file into a dict, unpacks each testbed\n91:    config into its own dict, and validate the configuration in the\n92:    process.\n93:\n94:    Args:\n95:        test_config_path: Path to the test configuration file.\n96:        tb_filters: A subset of test bed names to be pulled from the config\n97:                    file. If None, then all test beds will be selected.\n98:\n99:    Returns:\n100:        A list of test configuration dicts to be passed to\n101:        test_runner.TestRunner.\n102:    \"\"\"\n103:    configs = _load_config_file(test_config_path)\n104:    if tb_filters:\n105:        tbs = []\n106:        for tb in configs[keys.Config.key_testbed.value]:\n107:            if tb[keys.Config.key_testbed_name.value] in tb_filters:\n108:                tbs.append(tb)\n109:        if len(tbs) != len(tb_filters):\n110:            raise MoblyConfigError(\n111:                'Expect to find %d test bed configs, found %d. Check if'\n112:                ' you have the correct test bed names.' %\n113:                (len(tb_filters), len(tbs)))\n114:        configs[keys.Config.key_testbed.value] = tbs\n115:    mobly_params = configs.get(keys.Config.key_mobly_params.value, {})\n116:    # Decide log path.\n117:    log_path = mobly_params.get(keys.Config.key_log_path.value,\n118:                                _DEFAULT_LOG_PATH)\n119:    if ENV_MOBLY_LOGPATH in os.environ:\n120:        log_path = os.environ[ENV_MOBLY_LOGPATH]\n121:    log_path = utils.abs_path(log_path)\n122:    # Validate configs\n123:    _validate_test_config(configs)\n124:    _validate_testbed_configs(configs[keys.Config.key_testbed.value])\n125:    # Transform config dict from user-facing key mapping to internal config object.\n126:    test_configs = []\n127:    for original_bed_config in configs[keys.Config.key_testbed.value]:\n128:        test_run_config = TestRunConfig()\n129:        test_run_config.test_bed_name = original_bed_config[\n130:            keys.Config.key_testbed_name.value]\n131:        test_run_config.log_path = log_path\n132:        test_run_config.controller_configs = original_bed_config.get(\n133:            keys.Config.key_testbed_controllers.value, {})\n134:        test_run_config.user_params = original_bed_config.get(\n135:            keys.Config.key_testbed_test_params.value, {})\n136:        test_configs.append(test_run_config)\n137:    return test_configs\n138:\n139:\n140:def _load_config_file(path):\n141:    \"\"\"Loads a test config file.\n142:\n143:    The test config file has to be in YAML format.\n144:\n145:    Args:\n146:        path: A string that is the full path to the config file, including the\n147:              file name.\n148:\n149:    Returns:\n150:        A dict that represents info in the config file.\n151:    \"\"\"\n152:    with open(utils.abs_path(path), 'r') as f:\n153:        conf = yaml.load(f)\n154:        return conf\n155:\n156:\n157:class TestRunConfig(object):\n158:    \"\"\"The data class that holds all the information needed for a test run.\n159:\n160:    Attributes:\n161:        log_path: string, specifies the root directory for all logs written by\n162:                  a test run.\n163:        test_bed_name: string, the name of the test bed used by a test run.\n164:        controller_configs: dict, configs used for instantiating controller\n165:                            objects.\n166:        user_params: dict, all the parameters to be consumed by the test logic.\n167:        register_controller: func, used by test classes to register controller\n168:                             modules.\n169:    \"\"\"\n170:\n171:    def __init__(self):\n172:        self.log_path = None\n173:        self.test_bed_name = None\n174:        self.controller_configs = None\n175:        self.user_params = None\n176:        self.register_controller = None\n177:\n178:    def copy(self):\n179:        \"\"\"Returns a deep copy of the current config.\n180:        \"\"\"\n181:        return copy.deepcopy(self)\n182:\n183:    def __str__(self):\n184:        return str(self.__dict__)\n\n(Open file: /mobly/mobly/config_parser.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "We have scrolled down to see the `_load_config_file` function. The error message mentioned that the `yaml.load` function is missing a required argument `Loader`. However, the `yaml.load` function is used without any arguments in the `_load_config_file` function. This is likely the cause of the error. We need to check the `yaml.load` function documentation to see how it should be used. Let's use the internet to search for the `yaml.load` function documentation. \n```\nsearch \"yaml.load function documentation\"\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "/bin/bash: line 460: search: command not found\n\n(Open file: /mobly/mobly/config_parser.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "It seems that the `search` command is not available in this environment. Let's use the `wget` command to download the `yaml.load` function documentation from a reputable website. \n```\nwget https://pyyaml.org/wiki/PyYAMLDocumentation\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "--2024-09-01 02:57:44--  https://pyyaml.org/wiki/PyYAMLDocumentation\nResolving pyyaml.org (pyyaml.org)... 185.199.108.153, 185.199.109.153\nConnecting to pyyaml.org (pyyaml.org)|185.199.108.153|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 151060 (148K) [text/html]\nSaving to: PyYAMLDocumentation\n\n     0K .......... .......... .......... .......... .......... 33% 1.65M 0s\n    50K .......... .......... .......... .......... .......... 67% 2.05M 0s\n   100K .......... .......... .......... .......... .......   100% 2.13M=0.08s\n\n2024-09-01 02:57:44 (1.92 MB/s) - PyYAMLDocumentation saved [151060/151060]\n\n\n(Open file: /mobly/mobly/config_parser.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "The `yaml.load` function documentation has been downloaded. Now, let's open the `PyYAMLDocumentation` file to see the relevant documentation for the `yaml.load` function. \n```\nopen PyYAMLDocumentation\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/PyYAMLDocumentation (1440 lines total)]\n1:<!DOCTYPE html>\n2:<html xmlns=\"http://www.w3.org/1999/xhtml\" lang xml:lang>\n3:<head>\n4:  <meta charset=\"utf-8\" />\n5:  <meta name=\"generator\" content=\"pandoc\" />\n6:  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=yes\" />\n7:  <title></title>\n8:  <style type=\"text/css\">\n9:      code{white-space: pre-wrap;}\n10:      span.smallcaps{font-variant: small-caps;}\n11:      span.underline{text-decoration: underline;}\n12:      div.column{display: inline-block; vertical-align: top; width: 50%;}\n13:  </style>\n14:  <style type=\"text/css\">\n15:a.sourceLine { display: inline-block; line-height: 1.25; }\n16:a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }\n17:a.sourceLine:empty { height: 1.2em; }\n18:.sourceCode { overflow: visible; }\n19:code.sourceCode { white-space: pre; position: relative; }\n20:div.sourceCode { margin: 1em 0; }\n21:pre.sourceCode { margin: 0; }\n22:@media screen {\n23:div.sourceCode { overflow: auto; }\n24:}\n25:@media print {\n26:code.sourceCode { white-space: pre-wrap; }\n27:a.sourceLine { text-indent: -1em; padding-left: 1em; }\n28:}\n29:pre.numberSource a.sourceLine\n30:  { position: relative; left: -4em; }\n31:pre.numberSource a.sourceLine::before\n32:  { content: attr(title);\n33:    position: relative; left: -1em; text-align: right; vertical-align: baseline;\n34:    border: none; pointer-events: all; display: inline-block;\n35:    -webkit-touch-callout: none; -webkit-user-select: none;\n36:    -khtml-user-select: none; -moz-user-select: none;\n37:    -ms-user-select: none; user-select: none;\n38:    padding: 0 4px; width: 4em;\n39:    color: #aaaaaa;\n40:  }\n41:pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }\n42:div.sourceCode\n43:  {  }\n44:@media screen {\n45:a.sourceLine::before { text-decoration: underline; }\n46:}\n47:code span.al { color: #ff0000; font-weight: bold; } /* Alert */\n48:code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */\n49:code span.at { color: #7d9029; } /* Attribute */\n50:code span.bn { color: #40a070; } /* BaseN */\n51:code span.bu { } /* BuiltIn */\n52:code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */\n53:code span.ch { color: #4070a0; } /* Char */\n54:code span.cn { color: #880000; } /* Constant */\n55:code span.co { color: #60a0b0; font-style: italic; } /* Comment */\n56:code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */\n57:code span.do { color: #ba2121; font-style: italic; } /* Documentation */\n58:code span.dt { color: #902000; } /* DataType */\n59:code span.dv { color: #40a070; } /* DecVal */\n60:code span.er { color: #ff0000; font-weight: bold; } /* Error */\n61:code span.ex { } /* Extension */\n62:code span.fl { color: #40a070; } /* Float */\n63:code span.fu { color: #06287e; } /* Function */\n64:code span.im { } /* Import */\n65:code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */\n66:code span.kw { color: #007020; font-weight: bold; } /* Keyword */\n67:code span.op { color: #666666; } /* Operator */\n68:code span.ot { color: #007020; } /* Other */\n69:code span.pp { color: #bc7a00; } /* Preprocessor */\n70:code span.sc { color: #4070a0; } /* SpecialChar */\n71:code span.ss { color: #bb6688; } /* SpecialString */\n72:code span.st { color: #4070a0; } /* String */\n73:code span.va { color: #19177c; } /* Variable */\n74:code span.vs { color: #4070a0; } /* VerbatimString */\n75:code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */\n76:  </style>\n77:  <style type=\"text/css\">\n78:\n79:\n80:html {\n81:line-height: 1.15; \n82:-ms-text-size-adjust: 100%; \n83:-webkit-text-size-adjust: 100%; \n84:}\n85:\n86:\n87:body {\n88:margin: 0;\n89:}\n90:\n91:article,\n92:aside,\n93:footer,\n94:header,\n95:nav,\n96:section {\n97:display: block;\n98:}\n99:\n100:h1 {\n(1340 more lines below)\n\n(Open file: /mobly/PyYAMLDocumentation)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "The `yaml.load` function documentation has been downloaded. However, the file is very large and it will be time-consuming to navigate through it. Since we are looking for the `yaml.load` function, we can use the search command to find it within the file. Let's use the search command to locate the `yaml.load` function in the `PyYAMLDocumentation` file. \n```\nsearch_file \"yaml.load\"\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "Found 21 matches for \"yaml.load\" in /mobly/PyYAMLDocumentation:\nLine 359:<a class=\"sourceLine\" id=\"cb5-8\" title=\"8\"><span class=\"bu\">print</span> yaml.dump(yaml.load(document))</a></code></pre></div>\nLine 367:<div class=\"sourceCode\" id=\"cb7\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb7-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.dump(yaml.load(document), default_flow_style<span class=\"op\">=</span><span class=\"va\">False</span>)</a>\nLine 394:<p><strong>Warning: It is not safe to call <code>yaml.load</code> with any data received from an untrusted source! <code>yaml.load</code> is as powerful as <code>pickle.load</code> and so may call any Python function.</strong> Check the <code>yaml.safe_load</code> function though.</p>\nLine 395:<p>The function <code>yaml.load</code> converts a YAML document to a Python object.</p>\nLine 396:<div class=\"sourceCode\" id=\"cb9\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb9-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.load(<span class=\"st\">&quot;&quot;&quot;</span></a>\nLine 404:<p><code>yaml.load</code> accepts a byte string, a Unicode string, an open binary file object, or an open text file object. A byte string or a file must be encoded with <em>utf-8</em>, <em>utf-16-be</em> or <em>utf-16-le</em> encoding. <code>yaml.load</code> detects the encoding by checking the <em>BOM</em> (byte order mark) sequence at the beginning of the string/file. If no <em>BOM</em> is present, the <em>utf-8</em> encoding is assumed.</p>\nLine 405:<p><code>yaml.load</code> returns a Python object.</p>\nLine 406:<div class=\"sourceCode\" id=\"cb10\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb10-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.load(<span class=\"st\">u&quot;&quot;&quot;</span></a>\nLine 413:<a class=\"sourceLine\" id=\"cb10-8\" title=\"8\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.load(stream)</a>\nLine 415:<p>If a string or a file contains several documents, you may load them all with the <code>yaml.load_all</code> function.</p>\nLine 433:<a class=\"sourceLine\" id=\"cb11-18\" title=\"18\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"cf\">for</span> data <span class=\"kw\">in</span> yaml.load_all(documents):</a>\nLine 443:<div class=\"sourceCode\" id=\"cb12\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb12-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.load(<span class=\"st\">&quot;&quot;&quot;</span></a>\nLine 465:<a class=\"sourceLine\" id=\"cb13-10\" title=\"10\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.load(<span class=\"st\">&quot;&quot;&quot;</span></a>\nLine 474:<p>A python object can be marked as safe and thus be recognized by <code>yaml.safe_load</code>. To do this, derive it from <code>yaml.YAMLObject</code> (as explained in section <em>Constructors, representers, resolvers</em>) and explicitly set its class property <code>yaml_loader</code> to <code>yaml.SafeLoader</code>.</p>\nLine 553:<div class=\"sourceCode\" id=\"cb20\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb20-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.load(<span class=\"st\">&quot;&quot;&quot;</span></a>\nLine 606:<div class=\"sourceCode\" id=\"cb27\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb27-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.load(<span class=\"st\">&quot;&quot;&quot;</span></a>\nLine 620:<a class=\"sourceLine\" id=\"cb29-5\" title=\"5\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.load(<span class=\"st\">&quot;&quot;&quot;</span></a>\nLine 1043:<p>A python object can be marked as safe and thus be recognized by <code>yaml.safe_load</code>. To do this, derive it from <code>yaml.YAMLObject</code> (as explained in section <em>Constructors, representers, resolvers</em>) and explicitly set its class property <code>yaml_loader</code> to <code>yaml.SafeLoader</code>.</p>\nLine 1084:<a class=\"sourceLine\" id=\"cb73-2\" title=\"2\">    config <span class=\"op\">=</span> yaml.load(<span class=\"bu\">file</span>(<span class=\"st\">'config.yaml'</span>, <span class=\"st\">'r'</span>))</a>\nLine 1089:<a class=\"sourceLine\" id=\"cb74-2\" title=\"2\">...     yaml.load(<span class=\"st\">&quot;unbalanced blackets: ][&quot;</span>)</a>\nLine 1412:<a class=\"sourceLine\" id=\"cb92-2\" title=\"2\">    yaml_loader <span class=\"op\">=</span> Loader</a>\nEnd of matches for \"yaml.load\" in /mobly/PyYAMLDocumentation\n\n(Open file: /mobly/PyYAMLDocumentation)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "The search command found several matches for the `yaml.load` function in the `PyYAMLDocumentation` file. The relevant documentation for the `yaml.load` function is likely to be around the first few matches. Let's navigate to line 395, which seems to be the start of the documentation for the `yaml.load` function. \n```\ngoto 395\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/PyYAMLDocumentation (1440 lines total)]\n(379 more lines above)\n380:<li><code>yaml.dump(data, encoding=None)</code> produces a <code>unicode</code> object.</li>\n381:</ul>\n382:<p><em>In Python 3:</em></p>\n383:<ul>\n384:<li><code>str</code> objects are converted to <code>!!str</code> nodes.</li>\n385:<li><code>bytes</code> objects are converted to <code>!!binary</code> nodes.</li>\n386:<li>For compatibility reasons, <code>!!python/str</code> and <code>!python/unicode</code> tags are still supported and the corresponding nodes are converted to <code>str</code> objects.</li>\n387:<li><code>yaml.dump(data)</code> produces the document as a <code>str</code> object.</li>\n388:<li><code>yaml.dump(data, encoding=('utf-8'|'utf-16-be'|'utf-16-le'))</code> produces a <code>bytes</code> object in the specified encoding.</li>\n389:</ul>\n390:<h2 id=\"tutorial\">Tutorial</h2>\n391:<p>Start with importing the <code>yaml</code> package.</p>\n392:<div class=\"sourceCode\" id=\"cb8\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb8-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"im\">import</span> yaml</a></code></pre></div>\n393:<h3 id=\"loading-yaml\">Loading YAML</h3>\n394:<p><strong>Warning: It is not safe to call <code>yaml.load</code> with any data received from an untrusted source! <code>yaml.load</code> is as powerful as <code>pickle.load</code> and so may call any Python function.</strong> Check the <code>yaml.safe_load</code> function though.</p>\n395:<p>The function <code>yaml.load</code> converts a YAML document to a Python object.</p>\n396:<div class=\"sourceCode\" id=\"cb9\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb9-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.load(<span class=\"st\">&quot;&quot;&quot;</span></a>\n397:<a class=\"sourceLine\" id=\"cb9-2\" title=\"2\"><span class=\"st\">... - Hesperiidae</span></a>\n398:<a class=\"sourceLine\" id=\"cb9-3\" title=\"3\"><span class=\"st\">... - Papilionidae</span></a>\n399:<a class=\"sourceLine\" id=\"cb9-4\" title=\"4\"><span class=\"st\">... - Apatelodidae</span></a>\n400:<a class=\"sourceLine\" id=\"cb9-5\" title=\"5\"><span class=\"st\">... - Epiplemidae</span></a>\n401:<a class=\"sourceLine\" id=\"cb9-6\" title=\"6\"><span class=\"st\">... &quot;&quot;&quot;</span>)</a>\n402:<a class=\"sourceLine\" id=\"cb9-7\" title=\"7\"></a>\n403:<a class=\"sourceLine\" id=\"cb9-8\" title=\"8\">[<span class=\"st\">'Hesperiidae'</span>, <span class=\"st\">'Papilionidae'</span>, <span class=\"st\">'Apatelodidae'</span>, <span class=\"st\">'Epiplemidae'</span>]</a></code></pre></div>\n404:<p><code>yaml.load</code> accepts a byte string, a Unicode string, an open binary file object, or an open text file object. A byte string or a file must be encoded with <em>utf-8</em>, <em>utf-16-be</em> or <em>utf-16-le</em> encoding. <code>yaml.load</code> detects the encoding by checking the <em>BOM</em> (byte order mark) sequence at the beginning of the string/file. If no <em>BOM</em> is present, the <em>utf-8</em> encoding is assumed.</p>\n405:<p><code>yaml.load</code> returns a Python object.</p>\n406:<div class=\"sourceCode\" id=\"cb10\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb10-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.load(<span class=\"st\">u&quot;&quot;&quot;</span></a>\n407:<a class=\"sourceLine\" id=\"cb10-2\" title=\"2\"><span class=\"st\">... hello: !</span></a>\n408:<a class=\"sourceLine\" id=\"cb10-3\" title=\"3\"><span class=\"st\">... &quot;&quot;&quot;</span>)    <span class=\"co\"># In Python 3, do not use the 'u' prefix</span></a>\n409:<a class=\"sourceLine\" id=\"cb10-4\" title=\"4\"></a>\n410:<a class=\"sourceLine\" id=\"cb10-5\" title=\"5\">{<span class=\"st\">'hello'</span>: <span class=\"st\">u'</span><span class=\"ch\">\\u041f\\u0440\\u0438\\u0432\\u0435\\u0442</span><span class=\"st\">!'</span>}</a>\n411:<a class=\"sourceLine\" id=\"cb10-6\" title=\"6\"></a>\n412:<a class=\"sourceLine\" id=\"cb10-7\" title=\"7\"><span class=\"op\">&gt;&gt;&gt;</span> stream <span class=\"op\">=</span> <span class=\"bu\">file</span>(<span class=\"st\">'document.yaml'</span>, <span class=\"st\">'r'</span>)    <span class=\"co\"># 'document.yaml' contains a single YAML document.</span></a>\n413:<a class=\"sourceLine\" id=\"cb10-8\" title=\"8\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.load(stream)</a>\n414:<a class=\"sourceLine\" id=\"cb10-9\" title=\"9\">[...]    <span class=\"co\"># A Python object corresponding to the document.</span></a></code></pre></div>\n415:<p>If a string or a file contains several documents, you may load them all with the <code>yaml.load_all</code> function.</p>\n416:<div class=\"sourceCode\" id=\"cb11\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb11-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> documents <span class=\"op\">=</span> <span class=\"st\">&quot;&quot;&quot;</span></a>\n417:<a class=\"sourceLine\" id=\"cb11-2\" title=\"2\"><span class=\"st\">... ---</span></a>\n418:<a class=\"sourceLine\" id=\"cb11-3\" title=\"3\"><span class=\"st\">... name: The Set of Gauntlets 'Pauraegen'</span></a>\n419:<a class=\"sourceLine\" id=\"cb11-4\" title=\"4\"><span class=\"st\">... description: &gt;</span></a>\n420:<a class=\"sourceLine\" id=\"cb11-5\" title=\"5\"><span class=\"st\">...     A set of handgear with sparks that crackle</span></a>\n421:<a class=\"sourceLine\" id=\"cb11-6\" title=\"6\"><span class=\"st\">...     across its knuckleguards.</span></a>\n422:<a class=\"sourceLine\" id=\"cb11-7\" title=\"7\"><span class=\"st\">... ---</span></a>\n423:<a class=\"sourceLine\" id=\"cb11-8\" title=\"8\"><span class=\"st\">... name: The Set of Gauntlets 'Paurnen'</span></a>\n424:<a class=\"sourceLine\" id=\"cb11-9\" title=\"9\"><span class=\"st\">... description: &gt;</span></a>\n425:<a class=\"sourceLine\" id=\"cb11-10\" title=\"10\"><span class=\"st\">...   A set of gauntlets that gives off a foul,</span></a>\n426:<a class=\"sourceLine\" id=\"cb11-11\" title=\"11\"><span class=\"st\">...   acrid odour yet remains untarnished.</span></a>\n427:<a class=\"sourceLine\" id=\"cb11-12\" title=\"12\"><span class=\"st\">... ---</span></a>\n428:<a class=\"sourceLine\" id=\"cb11-13\" title=\"13\"><span class=\"st\">... name: The Set of Gauntlets 'Paurnimmen'</span></a>\n429:<a class=\"sourceLine\" id=\"cb11-14\" title=\"14\"><span class=\"st\">... description: &gt;</span></a>\n430:<a class=\"sourceLine\" id=\"cb11-15\" title=\"15\"><span class=\"st\">...   A set of handgear, freezing with unnatural cold.</span></a>\n431:<a class=\"sourceLine\" id=\"cb11-16\" title=\"16\"><span class=\"st\">... &quot;&quot;&quot;</span></a>\n432:<a class=\"sourceLine\" id=\"cb11-17\" title=\"17\"></a>\n433:<a class=\"sourceLine\" id=\"cb11-18\" title=\"18\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"cf\">for</span> data <span class=\"kw\">in</span> yaml.load_all(documents):</a>\n434:<a class=\"sourceLine\" id=\"cb11-19\" title=\"19\">...     <span class=\"bu\">print</span> data</a>\n435:<a class=\"sourceLine\" id=\"cb11-20\" title=\"20\"></a>\n436:<a class=\"sourceLine\" id=\"cb11-21\" title=\"21\">{<span class=\"st\">'description'</span>: <span class=\"st\">'A set of handgear with sparks that crackle across its knuckleguards.</span><span class=\"ch\">\\n</span><span class=\"st\">'</span>,</a>\n437:<a class=\"sourceLine\" id=\"cb11-22\" title=\"22\"><span class=\"st\">'name'</span>: <span class=\"st\">&quot;The Set of Gauntlets 'Pauraegen'&quot;</span>}</a>\n438:<a class=\"sourceLine\" id=\"cb11-23\" title=\"23\">{<span class=\"st\">'description'</span>: <span class=\"st\">'A set of gauntlets that gives off a foul, acrid odour yet remains untarnished.</span><span class=\"ch\">\\n</span><span class=\"st\">'</span>,</a>\n439:<a class=\"sourceLine\" id=\"cb11-24\" title=\"24\"><span class=\"st\">'name'</span>: <span class=\"st\">&quot;The Set of Gauntlets 'Paurnen'&quot;</span>}</a>\n440:<a class=\"sourceLine\" id=\"cb11-25\" title=\"25\">{<span class=\"st\">'description'</span>: <span class=\"st\">'A set of handgear, freezing with unnatural cold.</span><span class=\"ch\">\\n</span><span class=\"st\">'</span>,</a>\n441:<a class=\"sourceLine\" id=\"cb11-26\" title=\"26\"><span class=\"st\">'name'</span>: <span class=\"st\">&quot;The Set of Gauntlets 'Paurnimmen'&quot;</span>}</a></code></pre></div>\n442:<p>PyYAML allows you to construct a Python object of any type.</p>\n443:<div class=\"sourceCode\" id=\"cb12\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb12-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.load(<span class=\"st\">&quot;&quot;&quot;</span></a>\n444:<a class=\"sourceLine\" id=\"cb12-2\" title=\"2\"><span class=\"st\">... none: [~, null]</span></a>\n445:<a class=\"sourceLine\" id=\"cb12-3\" title=\"3\"><span class=\"st\">... bool: [true, false, on, off]</span></a>\n446:<a class=\"sourceLine\" id=\"cb12-4\" title=\"4\"><span class=\"st\">... int: 42</span></a>\n447:<a class=\"sourceLine\" id=\"cb12-5\" title=\"5\"><span class=\"st\">... float: 3.14159</span></a>\n448:<a class=\"sourceLine\" id=\"cb12-6\" title=\"6\"><span class=\"st\">... list: [LITE, RES_ACID, SUS_DEXT]</span></a>\n449:<a class=\"sourceLine\" id=\"cb12-7\" title=\"7\"><span class=\"st\">... dict: {hp: 13, sp: 5}</span></a>\n450:<a class=\"sourceLine\" id=\"cb12-8\" title=\"8\"><span class=\"st\">... &quot;&quot;&quot;</span>)</a>\n451:<a class=\"sourceLine\" id=\"cb12-9\" title=\"9\"></a>\n452:<a class=\"sourceLine\" id=\"cb12-10\" title=\"10\">{<span class=\"st\">'none'</span>: [<span class=\"va\">None</span>, <span class=\"va\">None</span>], <span class=\"st\">'int'</span>: <span class=\"dv\">42</span>, <span class=\"st\">'float'</span>: <span class=\"fl\">3.1415899999999999</span>,</a>\n453:<a class=\"sourceLine\" id=\"cb12-11\" title=\"11\"><span class=\"st\">'list'</span>: [<span class=\"st\">'LITE'</span>, <span class=\"st\">'RES_ACID'</span>, <span class=\"st\">'SUS_DEXT'</span>], <span class=\"st\">'dict'</span>: {<span class=\"st\">'hp'</span>: <span class=\"dv\">13</span>, <span class=\"st\">'sp'</span>: <span class=\"dv\">5</span>},</a>\n454:<a class=\"sourceLine\" id=\"cb12-12\" title=\"12\"><span class=\"st\">'bool'</span>: [<span class=\"va\">True</span>, <span class=\"va\">False</span>, <span class=\"va\">True</span>, <span class=\"va\">False</span>]}</a></code></pre></div>\n455:<p>Even instances of Python classes can be constructed using the <code>!!python/object</code> tag.</p>\n456:<div class=\"sourceCode\" id=\"cb13\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb13-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"kw\">class</span> Hero:</a>\n457:<a class=\"sourceLine\" id=\"cb13-2\" title=\"2\">...     <span class=\"kw\">def</span> <span class=\"fu\">__init__</span>(<span class=\"va\">self</span>, name, hp, sp):</a>\n458:<a class=\"sourceLine\" id=\"cb13-3\" title=\"3\">...         <span class=\"va\">self</span>.name <span class=\"op\">=</span> name</a>\n459:<a class=\"sourceLine\" id=\"cb13-4\" title=\"4\">...         <span class=\"va\">self</span>.hp <span class=\"op\">=</span> hp</a>\n460:<a class=\"sourceLine\" id=\"cb13-5\" title=\"5\">...         <span class=\"va\">self</span>.sp <span class=\"op\">=</span> sp</a>\n461:<a class=\"sourceLine\" id=\"cb13-6\" title=\"6\">...     <span class=\"kw\">def</span> <span class=\"fu\">__repr__</span>(<span class=\"va\">self</span>):</a>\n462:<a class=\"sourceLine\" id=\"cb13-7\" title=\"7\">...         <span class=\"cf\">return</span> <span class=\"st\">&quot;</span><span class=\"sc\">%s</span><span class=\"st\">(name=</span><span class=\"sc\">%r</span><span class=\"st\">, hp=</span><span class=\"sc\">%r</span><span class=\"st\">, sp=</span><span class=\"sc\">%r</span><span class=\"st\">)&quot;</span> <span class=\"op\">%</span> (</a>\n463:<a class=\"sourceLine\" id=\"cb13-8\" title=\"8\">...             <span class=\"va\">self</span>.__class__.<span class=\"va\">__name__</span>, <span class=\"va\">self</span>.name, <span class=\"va\">self</span>.hp, <span class=\"va\">self</span>.sp)</a>\n464:<a class=\"sourceLine\" id=\"cb13-9\" title=\"9\"></a>\n465:<a class=\"sourceLine\" id=\"cb13-10\" title=\"10\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.load(<span class=\"st\">&quot;&quot;&quot;</span></a>\n466:<a class=\"sourceLine\" id=\"cb13-11\" title=\"11\"><span class=\"st\">... !!python/object:__main__.Hero</span></a>\n467:<a class=\"sourceLine\" id=\"cb13-12\" title=\"12\"><span class=\"st\">... name: Welthyr Syxgon</span></a>\n468:<a class=\"sourceLine\" id=\"cb13-13\" title=\"13\"><span class=\"st\">... hp: 1200</span></a>\n469:<a class=\"sourceLine\" id=\"cb13-14\" title=\"14\"><span class=\"st\">... sp: 0</span></a>\n470:<a class=\"sourceLine\" id=\"cb13-15\" title=\"15\"><span class=\"st\">... &quot;&quot;&quot;</span>)</a>\n471:<a class=\"sourceLine\" id=\"cb13-16\" title=\"16\"></a>\n472:<a class=\"sourceLine\" id=\"cb13-17\" title=\"17\">Hero(name<span class=\"op\">=</span><span class=\"st\">'Welthyr Syxgon'</span>, hp<span class=\"op\">=</span><span class=\"dv\">1200</span>, sp<span class=\"op\">=</span><span class=\"dv\">0</span>)</a></code></pre></div>\n473:<p>Note that the ability to construct an arbitrary Python object may be dangerous if you receive a YAML document from an untrusted source such as the Internet. The function <code>yaml.safe_load</code> limits this ability to simple Python objects like integers or lists.</p>\n474:<p>A python object can be marked as safe and thus be recognized by <code>yaml.safe_load</code>. To do this, derive it from <code>yaml.YAMLObject</code> (as explained in section <em>Constructors, representers, resolvers</em>) and explicitly set its class property <code>yaml_loader</code> to <code>yaml.SafeLoader</code>.</p>\n475:<h3 id=\"dumping-yaml\">Dumping YAML</h3>\n476:<p>The <code>yaml.dump</code> function accepts a Python object and produces a YAML document.</p>\n477:<div class=\"sourceCode\" id=\"cb14\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb14-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.dump({<span class=\"st\">'name'</span>: <span class=\"st\">'Silenthand Olleander'</span>, <span class=\"st\">'race'</span>: <span class=\"st\">'Human'</span>,</a>\n478:<a class=\"sourceLine\" id=\"cb14-2\" title=\"2\">... <span class=\"st\">'traits'</span>: [<span class=\"st\">'ONE_HAND'</span>, <span class=\"st\">'ONE_EYE'</span>]})</a>\n479:<a class=\"sourceLine\" id=\"cb14-3\" title=\"3\"></a>\n(961 more lines below)\n\n(Open file: /mobly/PyYAMLDocumentation)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "We have navigated to the section of the `PyYAMLDocumentation` file that contains the documentation for the `yaml.load` function. The documentation explains that the `yaml.load` function converts a YAML document to a Python object and accepts a byte string, a Unicode string, an open binary file object, or an open text file object. It also warns that it is not safe to call `yaml.load` with any data received from an untrusted source.\n\nSince the `yaml.load` function is used in the `_load_config_file` function in the `config_parser.py` file, we should ensure that it is used correctly. The error message mentioned that the `yaml.load` function is missing a required argument `Loader`. However, the documentation does not mention any required `Loader` argument. This suggests that the error message might be incorrect or misleading.\n\nLet's go back to the `config_parser.py` file and check how the `yaml.load` function is being used in the `_load_config_file` function. We should open the `config_parser.py` file again and navigate to the `_load_config_file` function. \n```\nopen mobly/config_parser.py\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/mobly/config_parser.py (184 lines total)]\n1:# Copyright 2016 Google Inc.\n2:#\n3:# Licensed under the Apache License, Version 2.0 (the \"License\");\n4:# you may not use this file except in compliance with the License.\n5:# You may obtain a copy of the License at\n6:#\n7:#     http://www.apache.org/licenses/LICENSE-2.0\n8:#\n9:# Unless required by applicable law or agreed to in writing, software\n10:# distributed under the License is distributed on an \"AS IS\" BASIS,\n11:# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n12:# See the License for the specific language governing permissions and\n13:# limitations under the License.\n14:\n15:from builtins import str\n16:\n17:import copy\n18:import os\n19:import yaml\n20:\n21:from mobly import keys\n22:from mobly import utils\n23:\n24:# An environment variable defining the base location for Mobly logs.\n25:ENV_MOBLY_LOGPATH = 'MOBLY_LOGPATH'\n26:_DEFAULT_LOG_PATH = '/tmp/logs/mobly/'\n27:\n28:\n29:class MoblyConfigError(Exception):\n30:    \"\"\"Raised when there is a problem in test configuration file.\"\"\"\n31:\n32:\n33:def _validate_test_config(test_config):\n34:    \"\"\"Validates the raw configuration loaded from the config file.\n35:\n36:    Making sure the required key 'TestBeds' is present.\n37:    \"\"\"\n38:    required_key = keys.Config.key_testbed.value\n39:    if required_key not in test_config:\n40:        raise MoblyConfigError('Required key %s missing in test config.' %\n41:                               required_key)\n42:\n43:\n44:def _validate_testbed_name(name):\n45:    \"\"\"Validates the name of a test bed.\n46:\n47:    Since test bed names are used as part of the test run id, it needs to meet\n48:    certain requirements.\n49:\n50:    Args:\n51:        name: The test bed's name specified in config file.\n52:\n53:    Raises:\n54:        If the name does not meet any criteria, MoblyConfigError is raised.\n55:    \"\"\"\n56:    if not name:\n57:        raise MoblyConfigError(\"Test bed names can't be empty.\")\n58:    name = str(name)\n59:    for char in name:\n60:        if char not in utils.valid_filename_chars:\n61:            raise MoblyConfigError(\n62:                'Char \"%s\" is not allowed in test bed names.' % char)\n63:\n64:\n65:def _validate_testbed_configs(testbed_configs):\n66:    \"\"\"Validates the testbed configurations.\n67:\n68:    Args:\n69:        testbed_configs: A list of testbed configuration dicts.\n70:\n71:    Raises:\n72:        If any part of the configuration is invalid, MoblyConfigError is raised.\n73:    \"\"\"\n74:    seen_names = set()\n75:    # Cross checks testbed configs for resource conflicts.\n76:    for config in testbed_configs:\n77:        # Check for conflicts between multiple concurrent testbed configs.\n78:        # No need to call it if there's only one testbed config.\n79:        name = config[keys.Config.key_testbed_name.value]\n80:        _validate_testbed_name(name)\n81:        # Test bed names should be unique.\n82:        if name in seen_names:\n83:            raise MoblyConfigError('Duplicate testbed name %s found.' % name)\n84:        seen_names.add(name)\n85:\n86:\n87:def load_test_config_file(test_config_path, tb_filters=None):\n88:    \"\"\"Processes the test configuration file provied by user.\n89:\n90:    Loads the configuration file into a dict, unpacks each testbed\n91:    config into its own dict, and validate the configuration in the\n92:    process.\n93:\n94:    Args:\n95:        test_config_path: Path to the test configuration file.\n96:        tb_filters: A subset of test bed names to be pulled from the config\n97:                    file. If None, then all test beds will be selected.\n98:\n99:    Returns:\n100:        A list of test configuration dicts to be passed to\n(84 more lines below)\n\n(Open file: /mobly/mobly/config_parser.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "We have opened the `config_parser.py` file again. Now, let's navigate to the `_load_config_file` function to see how the `yaml.load` function is being used. \n```\ngoto 140\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/mobly/config_parser.py (184 lines total)]\n(84 more lines above)\n85:\n86:\n87:def load_test_config_file(test_config_path, tb_filters=None):\n88:    \"\"\"Processes the test configuration file provied by user.\n89:\n90:    Loads the configuration file into a dict, unpacks each testbed\n91:    config into its own dict, and validate the configuration in the\n92:    process.\n93:\n94:    Args:\n95:        test_config_path: Path to the test configuration file.\n96:        tb_filters: A subset of test bed names to be pulled from the config\n97:                    file. If None, then all test beds will be selected.\n98:\n99:    Returns:\n100:        A list of test configuration dicts to be passed to\n101:        test_runner.TestRunner.\n102:    \"\"\"\n103:    configs = _load_config_file(test_config_path)\n104:    if tb_filters:\n105:        tbs = []\n106:        for tb in configs[keys.Config.key_testbed.value]:\n107:            if tb[keys.Config.key_testbed_name.value] in tb_filters:\n108:                tbs.append(tb)\n109:        if len(tbs) != len(tb_filters):\n110:            raise MoblyConfigError(\n111:                'Expect to find %d test bed configs, found %d. Check if'\n112:                ' you have the correct test bed names.' %\n113:                (len(tb_filters), len(tbs)))\n114:        configs[keys.Config.key_testbed.value] = tbs\n115:    mobly_params = configs.get(keys.Config.key_mobly_params.value, {})\n116:    # Decide log path.\n117:    log_path = mobly_params.get(keys.Config.key_log_path.value,\n118:                                _DEFAULT_LOG_PATH)\n119:    if ENV_MOBLY_LOGPATH in os.environ:\n120:        log_path = os.environ[ENV_MOBLY_LOGPATH]\n121:    log_path = utils.abs_path(log_path)\n122:    # Validate configs\n123:    _validate_test_config(configs)\n124:    _validate_testbed_configs(configs[keys.Config.key_testbed.value])\n125:    # Transform config dict from user-facing key mapping to internal config object.\n126:    test_configs = []\n127:    for original_bed_config in configs[keys.Config.key_testbed.value]:\n128:        test_run_config = TestRunConfig()\n129:        test_run_config.test_bed_name = original_bed_config[\n130:            keys.Config.key_testbed_name.value]\n131:        test_run_config.log_path = log_path\n132:        test_run_config.controller_configs = original_bed_config.get(\n133:            keys.Config.key_testbed_controllers.value, {})\n134:        test_run_config.user_params = original_bed_config.get(\n135:            keys.Config.key_testbed_test_params.value, {})\n136:        test_configs.append(test_run_config)\n137:    return test_configs\n138:\n139:\n140:def _load_config_file(path):\n141:    \"\"\"Loads a test config file.\n142:\n143:    The test config file has to be in YAML format.\n144:\n145:    Args:\n146:        path: A string that is the full path to the config file, including the\n147:              file name.\n148:\n149:    Returns:\n150:        A dict that represents info in the config file.\n151:    \"\"\"\n152:    with open(utils.abs_path(path), 'r') as f:\n153:        conf = yaml.load(f)\n154:        return conf\n155:\n156:\n157:class TestRunConfig(object):\n158:    \"\"\"The data class that holds all the information needed for a test run.\n159:\n160:    Attributes:\n161:        log_path: string, specifies the root directory for all logs written by\n162:                  a test run.\n163:        test_bed_name: string, the name of the test bed used by a test run.\n164:        controller_configs: dict, configs used for instantiating controller\n165:                            objects.\n166:        user_params: dict, all the parameters to be consumed by the test logic.\n167:        register_controller: func, used by test classes to register controller\n168:                             modules.\n169:    \"\"\"\n170:\n171:    def __init__(self):\n172:        self.log_path = None\n173:        self.test_bed_name = None\n174:        self.controller_configs = None\n175:        self.user_params = None\n176:        self.register_controller = None\n177:\n178:    def copy(self):\n179:        \"\"\"Returns a deep copy of the current config.\n180:        \"\"\"\n181:        return copy.deepcopy(self)\n182:\n183:    def __str__(self):\n184:        return str(self.__dict__)\n\n(Open file: /mobly/mobly/config_parser.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "We have navigated to the `_load_config_file` function. The `yaml.load` function is used on line 153. The error message mentioned that the `yaml.load` function is missing a required argument `Loader`. However, the documentation does not mention any required `Loader` argument, and the `yaml.load` function is used without any arguments in the `_load_config_file` function. This suggests that the error message might be incorrect or misleading.\n\nSince the `yaml.load` function is used without any arguments, it should automatically detect the encoding and load the YAML document correctly. We should not need to pass a `Loader` argument. However, to be sure, we can try passing the `Loader` argument to see if it resolves the issue. Let's edit the `_load_config_file` function to pass the `Loader` argument to the `yaml.load` function. \n```\nedit 153:153\n        conf = yaml.load(f, Loader=yaml.Loader)\nend_of_edit\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/mobly/config_parser.py (184 lines total)]\n(84 more lines above)\n85:\n86:\n87:def load_test_config_file(test_config_path, tb_filters=None):\n88:    \"\"\"Processes the test configuration file provied by user.\n89:\n90:    Loads the configuration file into a dict, unpacks each testbed\n91:    config into its own dict, and validate the configuration in the\n92:    process.\n93:\n94:    Args:\n95:        test_config_path: Path to the test configuration file.\n96:        tb_filters: A subset of test bed names to be pulled from the config\n97:                    file. If None, then all test beds will be selected.\n98:\n99:    Returns:\n100:        A list of test configuration dicts to be passed to\n101:        test_runner.TestRunner.\n102:    \"\"\"\n103:    configs = _load_config_file(test_config_path)\n104:    if tb_filters:\n105:        tbs = []\n106:        for tb in configs[keys.Config.key_testbed.value]:\n107:            if tb[keys.Config.key_testbed_name.value] in tb_filters:\n108:                tbs.append(tb)\n109:        if len(tbs) != len(tb_filters):\n110:            raise MoblyConfigError(\n111:                'Expect to find %d test bed configs, found %d. Check if'\n112:                ' you have the correct test bed names.' %\n113:                (len(tb_filters), len(tbs)))\n114:        configs[keys.Config.key_testbed.value] = tbs\n115:    mobly_params = configs.get(keys.Config.key_mobly_params.value, {})\n116:    # Decide log path.\n117:    log_path = mobly_params.get(keys.Config.key_log_path.value,\n118:                                _DEFAULT_LOG_PATH)\n119:    if ENV_MOBLY_LOGPATH in os.environ:\n120:        log_path = os.environ[ENV_MOBLY_LOGPATH]\n121:    log_path = utils.abs_path(log_path)\n122:    # Validate configs\n123:    _validate_test_config(configs)\n124:    _validate_testbed_configs(configs[keys.Config.key_testbed.value])\n125:    # Transform config dict from user-facing key mapping to internal config object.\n126:    test_configs = []\n127:    for original_bed_config in configs[keys.Config.key_testbed.value]:\n128:        test_run_config = TestRunConfig()\n129:        test_run_config.test_bed_name = original_bed_config[\n130:            keys.Config.key_testbed_name.value]\n131:        test_run_config.log_path = log_path\n132:        test_run_config.controller_configs = original_bed_config.get(\n133:            keys.Config.key_testbed_controllers.value, {})\n134:        test_run_config.user_params = original_bed_config.get(\n135:            keys.Config.key_testbed_test_params.value, {})\n136:        test_configs.append(test_run_config)\n137:    return test_configs\n138:\n139:\n140:def _load_config_file(path):\n141:    \"\"\"Loads a test config file.\n142:\n143:    The test config file has to be in YAML format.\n144:\n145:    Args:\n146:        path: A string that is the full path to the config file, including the\n147:              file name.\n148:\n149:    Returns:\n150:        A dict that represents info in the config file.\n151:    \"\"\"\n152:    with open(utils.abs_path(path), 'r') as f:\n153:        conf = yaml.load(f, Loader=yaml.Loader)\n154:        return conf\n155:\n156:\n157:class TestRunConfig(object):\n158:    \"\"\"The data class that holds all the information needed for a test run.\n159:\n160:    Attributes:\n161:        log_path: string, specifies the root directory for all logs written by\n162:                  a test run.\n163:        test_bed_name: string, the name of the test bed used by a test run.\n164:        controller_configs: dict, configs used for instantiating controller\n165:                            objects.\n166:        user_params: dict, all the parameters to be consumed by the test logic.\n167:        register_controller: func, used by test classes to register controller\n168:                             modules.\n169:    \"\"\"\n170:\n171:    def __init__(self):\n172:        self.log_path = None\n173:        self.test_bed_name = None\n174:        self.controller_configs = None\n175:        self.user_params = None\n176:        self.register_controller = None\n177:\n178:    def copy(self):\n179:        \"\"\"Returns a deep copy of the current config.\n180:        \"\"\"\n181:        return copy.deepcopy(self)\n182:\n183:    def __str__(self):\n184:        return str(self.__dict__)\nFile updated. Please review the changes and make sure they are correct (correct indentation, no duplicate lines, etc). Edit the file again if necessary.\n\n(Open file: /mobly/mobly/config_parser.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "The edit has been made to the `_load_config_file` function to pass the `Loader` argument to the `yaml.load` function. Now, let's run the test script again to see if the changes have resolved the issue. \n```\npython test_script.py -c test_config.yaml\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "Traceback (most recent call last):\n  File \"/mobly/test_script.py\", line 10, in <module>\n    test_runner.main()\n  File \"/mobly/mobly/test_runner.py\", line 85, in main\n    test_configs = config_parser.load_test_config_file(args.config[0],\n  File \"/mobly/mobly/config_parser.py\", line 123, in load_test_config_file\n    _validate_test_config(configs)\n  File \"/mobly/mobly/config_parser.py\", line 40, in _validate_test_config\n    raise MoblyConfigError('Required key %s missing in test config.' %\nmobly.config_parser.MoblyConfigError: Required key TestBeds missing in test config.\n\n(Open file: /mobly/mobly/config_parser.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "The error message indicates that the `TestBeds` key is missing in the test config. This suggests that the issue is not with the `yaml.load` function, but rather with the structure of the test configuration file. The `TestBeds` key is required by the `_validate_test_config` function in the `config_parser.py` file. Let's check the `test_config.yaml` file to see if it contains the `TestBeds` key. \n```\nopen test_config.yaml\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/test_config.yaml (3 lines total)]\n1:log_path: /tmp/mobly_logs\n2:test_bed_name: test_bed\n3:controller_configs: {}\n\n(Open file: /mobly/test_config.yaml)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "The `test_config.yaml` file does not contain the `TestBeds` key. The `TestBeds` key is required by the `_validate_test_config` function in the `config_parser.py` file. We need to add the `TestBeds` key to the `test_config.yaml` file. Let's edit the `test_config.yaml` file to include the `TestBeds` key. \n```\nedit 1:3\nlog_path: /tmp/mobly_logs\ntest_bed_name: test_bed\ncontroller_configs: {}\nTestBeds: test_bed\nend_of_edit\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/test_config.yaml (4 lines total)]\n1:log_path: /tmp/mobly_logs\n2:test_bed_name: test_bed\n3:controller_configs: {}\n4:TestBeds: test_bed\nFile updated. Please review the changes and make sure they are correct (correct indentation, no duplicate lines, etc). Edit the file again if necessary.\n\n(Open file: /mobly/test_config.yaml)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "The `test_config.yaml` file has been updated to include the `TestBeds` key. Now, let's run the test script again to see if the changes have resolved the issue. \n```\npython test_script.py -c test_config.yaml\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "Traceback (most recent call last):\n  File \"/mobly/test_script.py\", line 10, in <module>\n    test_runner.main()\n  File \"/mobly/mobly/test_runner.py\", line 85, in main\n    test_configs = config_parser.load_test_config_file(args.config[0],\n  File \"/mobly/mobly/config_parser.py\", line 124, in load_test_config_file\n    _validate_testbed_configs(configs[keys.Config.key_testbed.value])\n  File \"/mobly/mobly/config_parser.py\", line 79, in _validate_testbed_configs\n    name = config[keys.Config.key_testbed_name.value]\nTypeError: string indices must be integers\n\n(Open file: /mobly/test_config.yaml)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "The error message indicates that there's a `TypeError` in the `_validate_testbed_configs` function in the `config_parser.py` file. The error message suggests that the `config` variable is a string, and the code is trying to access it with a non-integer index. This is likely because the `config` variable should be a dictionary, but it is being treated as a string somewhere in the code. We need to check the `config_parser.py` file to see how the `config` variable is being used in the `_validate_testbed_configs` function. Let's open the `config_parser.py` file again and navigate to the `_validate_testbed_configs` function. \n```\nopen mobly/config_parser.py\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/mobly/config_parser.py (184 lines total)]\n1:# Copyright 2016 Google Inc.\n2:#\n3:# Licensed under the Apache License, Version 2.0 (the \"License\");\n4:# you may not use this file except in compliance with the License.\n5:# You may obtain a copy of the License at\n6:#\n7:#     http://www.apache.org/licenses/LICENSE-2.0\n8:#\n9:# Unless required by applicable law or agreed to in writing, software\n10:# distributed under the License is distributed on an \"AS IS\" BASIS,\n11:# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n12:# See the License for the specific language governing permissions and\n13:# limitations under the License.\n14:\n15:from builtins import str\n16:\n17:import copy\n18:import os\n19:import yaml\n20:\n21:from mobly import keys\n22:from mobly import utils\n23:\n24:# An environment variable defining the base location for Mobly logs.\n25:ENV_MOBLY_LOGPATH = 'MOBLY_LOGPATH'\n26:_DEFAULT_LOG_PATH = '/tmp/logs/mobly/'\n27:\n28:\n29:class MoblyConfigError(Exception):\n30:    \"\"\"Raised when there is a problem in test configuration file.\"\"\"\n31:\n32:\n33:def _validate_test_config(test_config):\n34:    \"\"\"Validates the raw configuration loaded from the config file.\n35:\n36:    Making sure the required key 'TestBeds' is present.\n37:    \"\"\"\n38:    required_key = keys.Config.key_testbed.value\n39:    if required_key not in test_config:\n40:        raise MoblyConfigError('Required key %s missing in test config.' %\n41:                               required_key)\n42:\n43:\n44:def _validate_testbed_name(name):\n45:    \"\"\"Validates the name of a test bed.\n46:\n47:    Since test bed names are used as part of the test run id, it needs to meet\n48:    certain requirements.\n49:\n50:    Args:\n51:        name: The test bed's name specified in config file.\n52:\n53:    Raises:\n54:        If the name does not meet any criteria, MoblyConfigError is raised.\n55:    \"\"\"\n56:    if not name:\n57:        raise MoblyConfigError(\"Test bed names can't be empty.\")\n58:    name = str(name)\n59:    for char in name:\n60:        if char not in utils.valid_filename_chars:\n61:            raise MoblyConfigError(\n62:                'Char \"%s\" is not allowed in test bed names.' % char)\n63:\n64:\n65:def _validate_testbed_configs(testbed_configs):\n66:    \"\"\"Validates the testbed configurations.\n67:\n68:    Args:\n69:        testbed_configs: A list of testbed configuration dicts.\n70:\n71:    Raises:\n72:        If any part of the configuration is invalid, MoblyConfigError is raised.\n73:    \"\"\"\n74:    seen_names = set()\n75:    # Cross checks testbed configs for resource conflicts.\n76:    for config in testbed_configs:\n77:        # Check for conflicts between multiple concurrent testbed configs.\n78:        # No need to call it if there's only one testbed config.\n79:        name = config[keys.Config.key_testbed_name.value]\n80:        _validate_testbed_name(name)\n81:        # Test bed names should be unique.\n82:        if name in seen_names:\n83:            raise MoblyConfigError('Duplicate testbed name %s found.' % name)\n84:        seen_names.add(name)\n85:\n86:\n87:def load_test_config_file(test_config_path, tb_filters=None):\n88:    \"\"\"Processes the test configuration file provied by user.\n89:\n90:    Loads the configuration file into a dict, unpacks each testbed\n91:    config into its own dict, and validate the configuration in the\n92:    process.\n93:\n94:    Args:\n95:        test_config_path: Path to the test configuration file.\n96:        tb_filters: A subset of test bed names to be pulled from the config\n97:                    file. If None, then all test beds will be selected.\n98:\n99:    Returns:\n100:        A list of test configuration dicts to be passed to\n(84 more lines below)\n\n(Open file: /mobly/mobly/config_parser.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "We have opened the `config_parser.py` file again. Now, let's navigate to the `_validate_testbed_configs` function to see how the `config` variable is being used. The error message suggests that the `config` variable is a string, and the code is trying to access it with a non-integer index. This is likely because the `config` variable should be a dictionary, but it is being treated as a string somewhere in the code. \n```\ngoto 65\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/mobly/config_parser.py (184 lines total)]\n(49 more lines above)\n50:    Args:\n51:        name: The test bed's name specified in config file.\n52:\n53:    Raises:\n54:        If the name does not meet any criteria, MoblyConfigError is raised.\n55:    \"\"\"\n56:    if not name:\n57:        raise MoblyConfigError(\"Test bed names can't be empty.\")\n58:    name = str(name)\n59:    for char in name:\n60:        if char not in utils.valid_filename_chars:\n61:            raise MoblyConfigError(\n62:                'Char \"%s\" is not allowed in test bed names.' % char)\n63:\n64:\n65:def _validate_testbed_configs(testbed_configs):\n66:    \"\"\"Validates the testbed configurations.\n67:\n68:    Args:\n69:        testbed_configs: A list of testbed configuration dicts.\n70:\n71:    Raises:\n72:        If any part of the configuration is invalid, MoblyConfigError is raised.\n73:    \"\"\"\n74:    seen_names = set()\n75:    # Cross checks testbed configs for resource conflicts.\n76:    for config in testbed_configs:\n77:        # Check for conflicts between multiple concurrent testbed configs.\n78:        # No need to call it if there's only one testbed config.\n79:        name = config[keys.Config.key_testbed_name.value]\n80:        _validate_testbed_name(name)\n81:        # Test bed names should be unique.\n82:        if name in seen_names:\n83:            raise MoblyConfigError('Duplicate testbed name %s found.' % name)\n84:        seen_names.add(name)\n85:\n86:\n87:def load_test_config_file(test_config_path, tb_filters=None):\n88:    \"\"\"Processes the test configuration file provied by user.\n89:\n90:    Loads the configuration file into a dict, unpacks each testbed\n91:    config into its own dict, and validate the configuration in the\n92:    process.\n93:\n94:    Args:\n95:        test_config_path: Path to the test configuration file.\n96:        tb_filters: A subset of test bed names to be pulled from the config\n97:                    file. If None, then all test beds will be selected.\n98:\n99:    Returns:\n100:        A list of test configuration dicts to be passed to\n101:        test_runner.TestRunner.\n102:    \"\"\"\n103:    configs = _load_config_file(test_config_path)\n104:    if tb_filters:\n105:        tbs = []\n106:        for tb in configs[keys.Config.key_testbed.value]:\n107:            if tb[keys.Config.key_testbed_name.value] in tb_filters:\n108:                tbs.append(tb)\n109:        if len(tbs) != len(tb_filters):\n110:            raise MoblyConfigError(\n111:                'Expect to find %d test bed configs, found %d. Check if'\n112:                ' you have the correct test bed names.' %\n113:                (len(tb_filters), len(tbs)))\n114:        configs[keys.Config.key_testbed.value] = tbs\n115:    mobly_params = configs.get(keys.Config.key_mobly_params.value, {})\n116:    # Decide log path.\n117:    log_path = mobly_params.get(keys.Config.key_log_path.value,\n118:                                _DEFAULT_LOG_PATH)\n119:    if ENV_MOBLY_LOGPATH in os.environ:\n120:        log_path = os.environ[ENV_MOBLY_LOGPATH]\n121:    log_path = utils.abs_path(log_path)\n122:    # Validate configs\n123:    _validate_test_config(configs)\n124:    _validate_testbed_configs(configs[keys.Config.key_testbed.value])\n125:    # Transform config dict from user-facing key mapping to internal config object.\n126:    test_configs = []\n127:    for original_bed_config in configs[keys.Config.key_testbed.value]:\n128:        test_run_config = TestRunConfig()\n129:        test_run_config.test_bed_name = original_bed_config[\n130:            keys.Config.key_testbed_name.value]\n131:        test_run_config.log_path = log_path\n132:        test_run_config.controller_configs = original_bed_config.get(\n133:            keys.Config.key_testbed_controllers.value, {})\n134:        test_run_config.user_params = original_bed_config.get(\n135:            keys.Config.key_testbed_test_params.value, {})\n136:        test_configs.append(test_run_config)\n137:    return test_configs\n138:\n139:\n140:def _load_config_file(path):\n141:    \"\"\"Loads a test config file.\n142:\n143:    The test config file has to be in YAML format.\n144:\n145:    Args:\n146:        path: A string that is the full path to the config file, including the\n147:              file name.\n148:\n149:    Returns:\n(35 more lines below)\n\n(Open file: /mobly/mobly/config_parser.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "We have navigated to the `_validate_testbed_configs` function. The error message suggests that the `config` variable is a string, and the code is trying to access it with a non-integer index. This is likely because the `config` variable should be a dictionary, but it is being treated as a string somewhere in the code. However, in the `_validate_testbed_configs` function, the `config` variable is expected to be a dictionary, as it is accessed with the key `keys.Config.key_testbed_name.value`.\n\nThe issue might be that the `testbed_configs` variable is not being validated or parsed correctly before it is used in the `_validate_testbed_configs` function. We should check the `load_test_config_file` function to see how the `testbed_configs` variable is being created and passed to the `_validate_testbed_configs` function. Let's scroll up to see the `load_test_config_file` function. \n```\nscroll_up\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/mobly/config_parser.py (184 lines total)]\n1:# Copyright 2016 Google Inc.\n2:#\n3:# Licensed under the Apache License, Version 2.0 (the \"License\");\n4:# you may not use this file except in compliance with the License.\n5:# You may obtain a copy of the License at\n6:#\n7:#     http://www.apache.org/licenses/LICENSE-2.0\n8:#\n9:# Unless required by applicable law or agreed to in writing, software\n10:# distributed under the License is distributed on an \"AS IS\" BASIS,\n11:# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n12:# See the License for the specific language governing permissions and\n13:# limitations under the License.\n14:\n15:from builtins import str\n16:\n17:import copy\n18:import os\n19:import yaml\n20:\n21:from mobly import keys\n22:from mobly import utils\n23:\n24:# An environment variable defining the base location for Mobly logs.\n25:ENV_MOBLY_LOGPATH = 'MOBLY_LOGPATH'\n26:_DEFAULT_LOG_PATH = '/tmp/logs/mobly/'\n27:\n28:\n29:class MoblyConfigError(Exception):\n30:    \"\"\"Raised when there is a problem in test configuration file.\"\"\"\n31:\n32:\n33:def _validate_test_config(test_config):\n34:    \"\"\"Validates the raw configuration loaded from the config file.\n35:\n36:    Making sure the required key 'TestBeds' is present.\n37:    \"\"\"\n38:    required_key = keys.Config.key_testbed.value\n39:    if required_key not in test_config:\n40:        raise MoblyConfigError('Required key %s missing in test config.' %\n41:                               required_key)\n42:\n43:\n44:def _validate_testbed_name(name):\n45:    \"\"\"Validates the name of a test bed.\n46:\n47:    Since test bed names are used as part of the test run id, it needs to meet\n48:    certain requirements.\n49:\n50:    Args:\n51:        name: The test bed's name specified in config file.\n52:\n53:    Raises:\n54:        If the name does not meet any criteria, MoblyConfigError is raised.\n55:    \"\"\"\n56:    if not name:\n57:        raise MoblyConfigError(\"Test bed names can't be empty.\")\n58:    name = str(name)\n59:    for char in name:\n60:        if char not in utils.valid_filename_chars:\n61:            raise MoblyConfigError(\n62:                'Char \"%s\" is not allowed in test bed names.' % char)\n63:\n64:\n65:def _validate_testbed_configs(testbed_configs):\n66:    \"\"\"Validates the testbed configurations.\n67:\n68:    Args:\n69:        testbed_configs: A list of testbed configuration dicts.\n70:\n71:    Raises:\n72:        If any part of the configuration is invalid, MoblyConfigError is raised.\n73:    \"\"\"\n74:    seen_names = set()\n75:    # Cross checks testbed configs for resource conflicts.\n76:    for config in testbed_configs:\n77:        # Check for conflicts between multiple concurrent testbed configs.\n78:        # No need to call it if there's only one testbed config.\n79:        name = config[keys.Config.key_testbed_name.value]\n80:        _validate_testbed_name(name)\n81:        # Test bed names should be unique.\n82:        if name in seen_names:\n83:            raise MoblyConfigError('Duplicate testbed name %s found.' % name)\n84:        seen_names.add(name)\n85:\n86:\n87:def load_test_config_file(test_config_path, tb_filters=None):\n88:    \"\"\"Processes the test configuration file provied by user.\n89:\n90:    Loads the configuration file into a dict, unpacks each testbed\n91:    config into its own dict, and validate the configuration in the\n92:    process.\n93:\n94:    Args:\n95:        test_config_path: Path to the test configuration file.\n96:        tb_filters: A subset of test bed names to be pulled from the config\n97:                    file. If None, then all test beds will be selected.\n98:\n99:    Returns:\n100:        A list of test configuration dicts to be passed to\n(84 more lines below)\n\n(Open file: /mobly/mobly/config_parser.py)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "We have scrolled up to see the `load_test_config_file` function. The `testbed_configs` variable is created and validated in the `load_test_config_file` function before it is passed to the `_validate_testbed_configs` function. The `testbed_configs` variable is expected to be a list of dictionaries, each representing a testbed configuration. The issue might be that the `testbed_configs` variable is not being parsed correctly from the YAML document.\n\nLet's check the `test_config.yaml` file again to see if the `TestBeds` key is correctly followed by a list of testbed configurations. We should open the `test_config.yaml` file and verify its structure. \n```\nopen test_config.yaml\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/test_config.yaml (4 lines total)]\n1:log_path: /tmp/mobly_logs\n2:test_bed_name: test_bed\n3:controller_configs: {}\n4:TestBeds: test_bed\n\n(Open file: /mobly/test_config.yaml)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "The `test_config.yaml` file shows that the `TestBeds` key is followed by a single string `test_bed`. However, the `_validate_testbed_configs` function expects a list of dictionaries, each representing a testbed configuration. This mismatch in structure is likely the cause of the error. We need to change the `test_config.yaml` file to make the `TestBeds` key followed by a list of dictionaries, each containing a `test_bed_name` key and other necessary configuration.\n\nLet's edit the `test_config.yaml` file to correct this structure. \n```\nedit 1:4\nlog_path: /tmp/mobly_logs\ntest_bed_name: test_bed\ncontroller_configs: {}\nTestBeds:\n  - test_bed_name: test_bed\n    controller_configs: {}\nend_of_edit\n```"
    },
    {
      "cutoff_date": null,
      "mask": false,
      "role": "user",
      "system_prompt": null,
      "text": "[File: /mobly/test_config.yaml (6 lines total)]\n1:log_path: /tmp/mobly_logs\n2:test_bed_name: test_bed\n3:controller_configs: {}\n4:TestBeds:\n5:  - test_bed_name: test_bed\n6:    controller_configs: {}\nFile updated. Please review the changes and make sure they are correct (correct indentation, no duplicate lines, etc). Edit the file again if necessary.\n\n(Open file: /mobly/test_config.yaml)\n(Current directory: /mobly)\nbash-$"
    },
    {
      "cutoff_date": null,
      "mask": true,
      "role": "ai",
      "system_prompt": null,
      "text": "The `test_config.yaml` file has been updated to have the correct structure for the `TestBeds` key. Now, let's run the test script again to see if the changes have resolved the issue. \n```\npython test_script.py -c test_config.yaml\n```"
    }
  ],
  "exit_status": "submitted (exit_context)",
  "generated_patch": "\ndiff --git a/PyYAMLDocumentation b/PyYAMLDocumentation\nnew file mode 100644\nindex 0000000..1cdf42f\n--- /dev/null\n+++ b/PyYAMLDocumentation\n@@ -0,0 +1,1440 @@\n+<!DOCTYPE html>\n+<html xmlns=\"http://www.w3.org/1999/xhtml\" lang xml:lang>\n+<head>\n+  <meta charset=\"utf-8\" />\n+  <meta name=\"generator\" content=\"pandoc\" />\n+  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=yes\" />\n+  <title></title>\n+  <style type=\"text/css\">\n+      code{white-space: pre-wrap;}\n+      span.smallcaps{font-variant: small-caps;}\n+      span.underline{text-decoration: underline;}\n+      div.column{display: inline-block; vertical-align: top; width: 50%;}\n+  </style>\n+  <style type=\"text/css\">\n+a.sourceLine { display: inline-block; line-height: 1.25; }\n+a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }\n+a.sourceLine:empty { height: 1.2em; }\n+.sourceCode { overflow: visible; }\n+code.sourceCode { white-space: pre; position: relative; }\n+div.sourceCode { margin: 1em 0; }\n+pre.sourceCode { margin: 0; }\n+@media screen {\n+div.sourceCode { overflow: auto; }\n+}\n+@media print {\n+code.sourceCode { white-space: pre-wrap; }\n+a.sourceLine { text-indent: -1em; padding-left: 1em; }\n+}\n+pre.numberSource a.sourceLine\n+  { position: relative; left: -4em; }\n+pre.numberSource a.sourceLine::before\n+  { content: attr(title);\n+    position: relative; left: -1em; text-align: right; vertical-align: baseline;\n+    border: none; pointer-events: all; display: inline-block;\n+    -webkit-touch-callout: none; -webkit-user-select: none;\n+    -khtml-user-select: none; -moz-user-select: none;\n+    -ms-user-select: none; user-select: none;\n+    padding: 0 4px; width: 4em;\n+    color: #aaaaaa;\n+  }\n+pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }\n+div.sourceCode\n+  {  }\n+@media screen {\n+a.sourceLine::before { text-decoration: underline; }\n+}\n+code span.al { color: #ff0000; font-weight: bold; } /* Alert */\n+code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */\n+code span.at { color: #7d9029; } /* Attribute */\n+code span.bn { color: #40a070; } /* BaseN */\n+code span.bu { } /* BuiltIn */\n+code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */\n+code span.ch { color: #4070a0; } /* Char */\n+code span.cn { color: #880000; } /* Constant */\n+code span.co { color: #60a0b0; font-style: italic; } /* Comment */\n+code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */\n+code span.do { color: #ba2121; font-style: italic; } /* Documentation */\n+code span.dt { color: #902000; } /* DataType */\n+code span.dv { color: #40a070; } /* DecVal */\n+code span.er { color: #ff0000; font-weight: bold; } /* Error */\n+code span.ex { } /* Extension */\n+code span.fl { color: #40a070; } /* Float */\n+code span.fu { color: #06287e; } /* Function */\n+code span.im { } /* Import */\n+code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */\n+code span.kw { color: #007020; font-weight: bold; } /* Keyword */\n+code span.op { color: #666666; } /* Operator */\n+code span.ot { color: #007020; } /* Other */\n+code span.pp { color: #bc7a00; } /* Preprocessor */\n+code span.sc { color: #4070a0; } /* SpecialChar */\n+code span.ss { color: #bb6688; } /* SpecialString */\n+code span.st { color: #4070a0; } /* String */\n+code span.va { color: #19177c; } /* Variable */\n+code span.vs { color: #4070a0; } /* VerbatimString */\n+code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */\n+  </style>\n+  <style type=\"text/css\">\n+\n+\n+html {\n+line-height: 1.15; \n+-ms-text-size-adjust: 100%; \n+-webkit-text-size-adjust: 100%; \n+}\n+\n+\n+body {\n+margin: 0;\n+}\n+\n+article,\n+aside,\n+footer,\n+header,\n+nav,\n+section {\n+display: block;\n+}\n+\n+h1 {\n+font-size: 2em;\n+margin: 0.67em 0;\n+}\n+\n+\n+figcaption,\n+figure,\n+main { \n+display: block;\n+}\n+\n+figure {\n+margin: 1em 40px;\n+}\n+\n+hr {\n+box-sizing: content-box; \n+height: 0; \n+overflow: visible; \n+}\n+\n+pre {\n+font-family: monospace, monospace; \n+font-size: 1em; \n+}\n+\n+\n+a {\n+background-color: transparent; \n+-webkit-text-decoration-skip: objects; \n+}\n+\n+abbr[title] {\n+border-bottom: none; \n+text-decoration: underline; \n+text-decoration: underline dotted; \n+}\n+\n+b,\n+strong {\n+font-weight: inherit;\n+}\n+\n+b,\n+strong {\n+font-weight: bolder;\n+}\n+\n+code,\n+kbd,\n+samp {\n+font-family: monospace, monospace; \n+font-size: 1em; \n+}\n+\n+dfn {\n+font-style: italic;\n+}\n+\n+mark {\n+background-color: #ff0;\n+color: #000;\n+}\n+\n+small {\n+font-size: 80%;\n+}\n+\n+sub,\n+sup {\n+font-size: 75%;\n+line-height: 0;\n+position: relative;\n+vertical-align: baseline;\n+}\n+sub {\n+bottom: -0.25em;\n+}\n+sup {\n+top: -0.5em;\n+}\n+\n+\n+audio,\n+video {\n+display: inline-block;\n+}\n+\n+audio:not([controls]) {\n+display: none;\n+height: 0;\n+}\n+\n+img {\n+border-style: none;\n+}\n+\n+svg:not(:root) {\n+overflow: hidden;\n+}\n+\n+\n+button,\n+input,\n+optgroup,\n+select,\n+textarea {\n+font-family: sans-serif; \n+font-size: 100%; \n+line-height: 1.15; \n+margin: 0; \n+}\n+\n+button,\n+input { \n+overflow: visible;\n+}\n+\n+button,\n+select { \n+text-transform: none;\n+}\n+\n+button,\n+html [type=\"button\"], \n+[type=\"reset\"],\n+[type=\"submit\"] {\n+-webkit-appearance: button; \n+}\n+\n+button::-moz-focus-inner,\n+[type=\"button\"]::-moz-focus-inner,\n+[type=\"reset\"]::-moz-focus-inner,\n+[type=\"submit\"]::-moz-focus-inner {\n+border-style: none;\n+padding: 0;\n+}\n+\n+button:-moz-focusring,\n+[type=\"button\"]:-moz-focusring,\n+[type=\"reset\"]:-moz-focusring,\n+[type=\"submit\"]:-moz-focusring {\n+outline: 1px dotted ButtonText;\n+}\n+\n+fieldset {\n+padding: 0.35em 0.75em 0.625em;\n+}\n+\n+legend {\n+box-sizing: border-box; \n+color: inherit; \n+display: table; \n+max-width: 100%; \n+padding: 0; \n+white-space: normal; \n+}\n+\n+progress {\n+display: inline-block; \n+vertical-align: baseline; \n+}\n+\n+textarea {\n+overflow: auto;\n+}\n+\n+[type=\"checkbox\"],\n+[type=\"radio\"] {\n+box-sizing: border-box; \n+padding: 0; \n+}\n+\n+[type=\"number\"]::-webkit-inner-spin-button,\n+[type=\"number\"]::-webkit-outer-spin-button {\n+height: auto;\n+}\n+\n+[type=\"search\"] {\n+-webkit-appearance: textfield; \n+outline-offset: -2px; \n+}\n+\n+[type=\"search\"]::-webkit-search-cancel-button,\n+[type=\"search\"]::-webkit-search-decoration {\n+-webkit-appearance: none;\n+}\n+\n+::-webkit-file-upload-button {\n+-webkit-appearance: button; \n+font: inherit; \n+}\n+\n+\n+details, \n+menu {\n+display: block;\n+}\n+\n+summary {\n+display: list-item;\n+}\n+\n+\n+canvas {\n+display: inline-block;\n+}\n+\n+template {\n+display: none;\n+}\n+\n+\n+[hidden] {\n+display: none;\n+}\n+</style>\n+  <style type=\"text/css\">body {\n+margin: auto;\n+padding: 1em;\n+max-width: 44em; }\n+</style>\n+</head>\n+<body>\n+<h1 id=\"pyyaml-documentation\">PyYAML Documentation</h1>\n+<p>PyYAML is a YAML parser and emitter for Python.</p>\n+<h2 id=\"installation\">Installation</h2>\n+<p>Simple install:</p>\n+<pre><code>pip install pyyaml</code></pre>\n+<p>To install from source, download the source package <em>PyYAML-5.1.tar.gz</em> and unpack it. Go to the directory <em>PyYAML-5.1</em> and run:</p>\n+<pre><code>$ python setup.py install</code></pre>\n+<p>If you want to use LibYAML bindings, which are much faster than the pure Python version, you need to download and install <a href=\"./LibYAML\">LibYAML</a>. Then you may build and install the bindings by executing</p>\n+<pre><code>$ python setup.py --with-libyaml install</code></pre>\n+<p>In order to use <a href=\"./LibYAML\">LibYAML</a> based parser and emitter, use the classes <code>CParser</code> and <code>CEmitter</code>. For instance,</p>\n+<div class=\"sourceCode\" id=\"cb4\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb4-1\" title=\"1\"><span class=\"im\">from</span> yaml <span class=\"im\">import</span> load, dump</a>\n+<a class=\"sourceLine\" id=\"cb4-2\" title=\"2\"><span class=\"cf\">try</span>:</a>\n+<a class=\"sourceLine\" id=\"cb4-3\" title=\"3\">    <span class=\"im\">from</span> yaml <span class=\"im\">import</span> CLoader <span class=\"im\">as</span> Loader, CDumper <span class=\"im\">as</span> Dumper</a>\n+<a class=\"sourceLine\" id=\"cb4-4\" title=\"4\"><span class=\"cf\">except</span> <span class=\"pp\">ImportError</span>:</a>\n+<a class=\"sourceLine\" id=\"cb4-5\" title=\"5\">    <span class=\"im\">from</span> yaml <span class=\"im\">import</span> Loader, Dumper</a>\n+<a class=\"sourceLine\" id=\"cb4-6\" title=\"6\"></a>\n+<a class=\"sourceLine\" id=\"cb4-7\" title=\"7\"><span class=\"co\"># ...</span></a>\n+<a class=\"sourceLine\" id=\"cb4-8\" title=\"8\"></a>\n+<a class=\"sourceLine\" id=\"cb4-9\" title=\"9\">data <span class=\"op\">=</span> load(stream, Loader<span class=\"op\">=</span>Loader)</a>\n+<a class=\"sourceLine\" id=\"cb4-10\" title=\"10\"></a>\n+<a class=\"sourceLine\" id=\"cb4-11\" title=\"11\"><span class=\"co\"># ...</span></a>\n+<a class=\"sourceLine\" id=\"cb4-12\" title=\"12\"></a>\n+<a class=\"sourceLine\" id=\"cb4-13\" title=\"13\">output <span class=\"op\">=</span> dump(data, Dumper<span class=\"op\">=</span>Dumper)</a></code></pre></div>\n+<p>Note that there are some subtle (but not really significant) differences between pure Python and <a href=\"./LibYAML\">LibYAML</a> based parsers and emitters.</p>\n+<h2 id=\"frequently-asked-questions\">Frequently Asked Questions</h2>\n+<h3 id=\"dictionaries-without-nested-collections-are-not-dumped-correctly\">Dictionaries without nested collections are not dumped correctly</h3>\n+<p><em>Why does</em></p>\n+<div class=\"sourceCode\" id=\"cb5\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb5-1\" title=\"1\"><span class=\"im\">import</span> yaml</a>\n+<a class=\"sourceLine\" id=\"cb5-2\" title=\"2\">document <span class=\"op\">=</span> <span class=\"st\">&quot;&quot;&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb5-3\" title=\"3\"><span class=\"st\">  a: 1</span></a>\n+<a class=\"sourceLine\" id=\"cb5-4\" title=\"4\"><span class=\"st\">  b:</span></a>\n+<a class=\"sourceLine\" id=\"cb5-5\" title=\"5\"><span class=\"st\">    c: 3</span></a>\n+<a class=\"sourceLine\" id=\"cb5-6\" title=\"6\"><span class=\"st\">    d: 4</span></a>\n+<a class=\"sourceLine\" id=\"cb5-7\" title=\"7\"><span class=\"st\">&quot;&quot;&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb5-8\" title=\"8\"><span class=\"bu\">print</span> yaml.dump(yaml.load(document))</a></code></pre></div>\n+<p><em>give</em></p>\n+<pre><code>a: 1\n+b: {c: 3, d: 4}</code></pre>\n+<p><em>(see #18, #24)?</em></p>\n+<p>Its a correct output despite the fact that the style of the nested mapping is different.</p>\n+<p>By default, PyYAML chooses the style of a collection depending on whether it has nested collections. If a collection has nested collections, it will be assigned the block style. Otherwise it will have the flow style.</p>\n+<p>If you want collections to be always serialized in the block style, set the parameter <code>default_flow_style</code> of <code>dump()</code> to <code>False</code>. For instance,</p>\n+<div class=\"sourceCode\" id=\"cb7\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb7-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.dump(yaml.load(document), default_flow_style<span class=\"op\">=</span><span class=\"va\">False</span>)</a>\n+<a class=\"sourceLine\" id=\"cb7-2\" title=\"2\">a: <span class=\"dv\">1</span></a>\n+<a class=\"sourceLine\" id=\"cb7-3\" title=\"3\">b:</a>\n+<a class=\"sourceLine\" id=\"cb7-4\" title=\"4\">  c: <span class=\"dv\">3</span></a>\n+<a class=\"sourceLine\" id=\"cb7-5\" title=\"5\">  d: <span class=\"dv\">4</span></a></code></pre></div>\n+<h2 id=\"python-3-support\">Python 3 support</h2>\n+<p>Starting from the <em>3.08</em> release, PyYAML and LibYAML bindings provide a complete support for Python 3. This is a short outline of differences in PyYAML API between Python 2 and Python 3 versions.</p>\n+<p><em>In Python 2:</em></p>\n+<ul>\n+<li><code>str</code> objects are converted into <code>!!str</code>, <code>!!python/str</code> or <code>!binary</code> nodes depending on whether the object is an ASCII, UTF-8 or binary string.</li>\n+<li><code>unicode</code> objects are converted into <code>!!python/unicode</code> or <code>!!str</code> nodes depending on whether the object is an ASCII string or not.</li>\n+<li><code>yaml.dump(data)</code> produces the document as a UTF-8 encoded <code>str</code> object.</li>\n+<li><code>yaml.dump(data, encoding=('utf-8'|'utf-16-be'|'utf-16-le'))</code> produces a <code>str</code> object in the specified encoding.</li>\n+<li><code>yaml.dump(data, encoding=None)</code> produces a <code>unicode</code> object.</li>\n+</ul>\n+<p><em>In Python 3:</em></p>\n+<ul>\n+<li><code>str</code> objects are converted to <code>!!str</code> nodes.</li>\n+<li><code>bytes</code> objects are converted to <code>!!binary</code> nodes.</li>\n+<li>For compatibility reasons, <code>!!python/str</code> and <code>!python/unicode</code> tags are still supported and the corresponding nodes are converted to <code>str</code> objects.</li>\n+<li><code>yaml.dump(data)</code> produces the document as a <code>str</code> object.</li>\n+<li><code>yaml.dump(data, encoding=('utf-8'|'utf-16-be'|'utf-16-le'))</code> produces a <code>bytes</code> object in the specified encoding.</li>\n+</ul>\n+<h2 id=\"tutorial\">Tutorial</h2>\n+<p>Start with importing the <code>yaml</code> package.</p>\n+<div class=\"sourceCode\" id=\"cb8\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb8-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"im\">import</span> yaml</a></code></pre></div>\n+<h3 id=\"loading-yaml\">Loading YAML</h3>\n+<p><strong>Warning: It is not safe to call <code>yaml.load</code> with any data received from an untrusted source! <code>yaml.load</code> is as powerful as <code>pickle.load</code> and so may call any Python function.</strong> Check the <code>yaml.safe_load</code> function though.</p>\n+<p>The function <code>yaml.load</code> converts a YAML document to a Python object.</p>\n+<div class=\"sourceCode\" id=\"cb9\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb9-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.load(<span class=\"st\">&quot;&quot;&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb9-2\" title=\"2\"><span class=\"st\">... - Hesperiidae</span></a>\n+<a class=\"sourceLine\" id=\"cb9-3\" title=\"3\"><span class=\"st\">... - Papilionidae</span></a>\n+<a class=\"sourceLine\" id=\"cb9-4\" title=\"4\"><span class=\"st\">... - Apatelodidae</span></a>\n+<a class=\"sourceLine\" id=\"cb9-5\" title=\"5\"><span class=\"st\">... - Epiplemidae</span></a>\n+<a class=\"sourceLine\" id=\"cb9-6\" title=\"6\"><span class=\"st\">... &quot;&quot;&quot;</span>)</a>\n+<a class=\"sourceLine\" id=\"cb9-7\" title=\"7\"></a>\n+<a class=\"sourceLine\" id=\"cb9-8\" title=\"8\">[<span class=\"st\">'Hesperiidae'</span>, <span class=\"st\">'Papilionidae'</span>, <span class=\"st\">'Apatelodidae'</span>, <span class=\"st\">'Epiplemidae'</span>]</a></code></pre></div>\n+<p><code>yaml.load</code> accepts a byte string, a Unicode string, an open binary file object, or an open text file object. A byte string or a file must be encoded with <em>utf-8</em>, <em>utf-16-be</em> or <em>utf-16-le</em> encoding. <code>yaml.load</code> detects the encoding by checking the <em>BOM</em> (byte order mark) sequence at the beginning of the string/file. If no <em>BOM</em> is present, the <em>utf-8</em> encoding is assumed.</p>\n+<p><code>yaml.load</code> returns a Python object.</p>\n+<div class=\"sourceCode\" id=\"cb10\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb10-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.load(<span class=\"st\">u&quot;&quot;&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb10-2\" title=\"2\"><span class=\"st\">... hello: !</span></a>\n+<a class=\"sourceLine\" id=\"cb10-3\" title=\"3\"><span class=\"st\">... &quot;&quot;&quot;</span>)    <span class=\"co\"># In Python 3, do not use the 'u' prefix</span></a>\n+<a class=\"sourceLine\" id=\"cb10-4\" title=\"4\"></a>\n+<a class=\"sourceLine\" id=\"cb10-5\" title=\"5\">{<span class=\"st\">'hello'</span>: <span class=\"st\">u'</span><span class=\"ch\">\\u041f\\u0440\\u0438\\u0432\\u0435\\u0442</span><span class=\"st\">!'</span>}</a>\n+<a class=\"sourceLine\" id=\"cb10-6\" title=\"6\"></a>\n+<a class=\"sourceLine\" id=\"cb10-7\" title=\"7\"><span class=\"op\">&gt;&gt;&gt;</span> stream <span class=\"op\">=</span> <span class=\"bu\">file</span>(<span class=\"st\">'document.yaml'</span>, <span class=\"st\">'r'</span>)    <span class=\"co\"># 'document.yaml' contains a single YAML document.</span></a>\n+<a class=\"sourceLine\" id=\"cb10-8\" title=\"8\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.load(stream)</a>\n+<a class=\"sourceLine\" id=\"cb10-9\" title=\"9\">[...]    <span class=\"co\"># A Python object corresponding to the document.</span></a></code></pre></div>\n+<p>If a string or a file contains several documents, you may load them all with the <code>yaml.load_all</code> function.</p>\n+<div class=\"sourceCode\" id=\"cb11\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb11-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> documents <span class=\"op\">=</span> <span class=\"st\">&quot;&quot;&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb11-2\" title=\"2\"><span class=\"st\">... ---</span></a>\n+<a class=\"sourceLine\" id=\"cb11-3\" title=\"3\"><span class=\"st\">... name: The Set of Gauntlets 'Pauraegen'</span></a>\n+<a class=\"sourceLine\" id=\"cb11-4\" title=\"4\"><span class=\"st\">... description: &gt;</span></a>\n+<a class=\"sourceLine\" id=\"cb11-5\" title=\"5\"><span class=\"st\">...     A set of handgear with sparks that crackle</span></a>\n+<a class=\"sourceLine\" id=\"cb11-6\" title=\"6\"><span class=\"st\">...     across its knuckleguards.</span></a>\n+<a class=\"sourceLine\" id=\"cb11-7\" title=\"7\"><span class=\"st\">... ---</span></a>\n+<a class=\"sourceLine\" id=\"cb11-8\" title=\"8\"><span class=\"st\">... name: The Set of Gauntlets 'Paurnen'</span></a>\n+<a class=\"sourceLine\" id=\"cb11-9\" title=\"9\"><span class=\"st\">... description: &gt;</span></a>\n+<a class=\"sourceLine\" id=\"cb11-10\" title=\"10\"><span class=\"st\">...   A set of gauntlets that gives off a foul,</span></a>\n+<a class=\"sourceLine\" id=\"cb11-11\" title=\"11\"><span class=\"st\">...   acrid odour yet remains untarnished.</span></a>\n+<a class=\"sourceLine\" id=\"cb11-12\" title=\"12\"><span class=\"st\">... ---</span></a>\n+<a class=\"sourceLine\" id=\"cb11-13\" title=\"13\"><span class=\"st\">... name: The Set of Gauntlets 'Paurnimmen'</span></a>\n+<a class=\"sourceLine\" id=\"cb11-14\" title=\"14\"><span class=\"st\">... description: &gt;</span></a>\n+<a class=\"sourceLine\" id=\"cb11-15\" title=\"15\"><span class=\"st\">...   A set of handgear, freezing with unnatural cold.</span></a>\n+<a class=\"sourceLine\" id=\"cb11-16\" title=\"16\"><span class=\"st\">... &quot;&quot;&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb11-17\" title=\"17\"></a>\n+<a class=\"sourceLine\" id=\"cb11-18\" title=\"18\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"cf\">for</span> data <span class=\"kw\">in</span> yaml.load_all(documents):</a>\n+<a class=\"sourceLine\" id=\"cb11-19\" title=\"19\">...     <span class=\"bu\">print</span> data</a>\n+<a class=\"sourceLine\" id=\"cb11-20\" title=\"20\"></a>\n+<a class=\"sourceLine\" id=\"cb11-21\" title=\"21\">{<span class=\"st\">'description'</span>: <span class=\"st\">'A set of handgear with sparks that crackle across its knuckleguards.</span><span class=\"ch\">\\n</span><span class=\"st\">'</span>,</a>\n+<a class=\"sourceLine\" id=\"cb11-22\" title=\"22\"><span class=\"st\">'name'</span>: <span class=\"st\">&quot;The Set of Gauntlets 'Pauraegen'&quot;</span>}</a>\n+<a class=\"sourceLine\" id=\"cb11-23\" title=\"23\">{<span class=\"st\">'description'</span>: <span class=\"st\">'A set of gauntlets that gives off a foul, acrid odour yet remains untarnished.</span><span class=\"ch\">\\n</span><span class=\"st\">'</span>,</a>\n+<a class=\"sourceLine\" id=\"cb11-24\" title=\"24\"><span class=\"st\">'name'</span>: <span class=\"st\">&quot;The Set of Gauntlets 'Paurnen'&quot;</span>}</a>\n+<a class=\"sourceLine\" id=\"cb11-25\" title=\"25\">{<span class=\"st\">'description'</span>: <span class=\"st\">'A set of handgear, freezing with unnatural cold.</span><span class=\"ch\">\\n</span><span class=\"st\">'</span>,</a>\n+<a class=\"sourceLine\" id=\"cb11-26\" title=\"26\"><span class=\"st\">'name'</span>: <span class=\"st\">&quot;The Set of Gauntlets 'Paurnimmen'&quot;</span>}</a></code></pre></div>\n+<p>PyYAML allows you to construct a Python object of any type.</p>\n+<div class=\"sourceCode\" id=\"cb12\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb12-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.load(<span class=\"st\">&quot;&quot;&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb12-2\" title=\"2\"><span class=\"st\">... none: [~, null]</span></a>\n+<a class=\"sourceLine\" id=\"cb12-3\" title=\"3\"><span class=\"st\">... bool: [true, false, on, off]</span></a>\n+<a class=\"sourceLine\" id=\"cb12-4\" title=\"4\"><span class=\"st\">... int: 42</span></a>\n+<a class=\"sourceLine\" id=\"cb12-5\" title=\"5\"><span class=\"st\">... float: 3.14159</span></a>\n+<a class=\"sourceLine\" id=\"cb12-6\" title=\"6\"><span class=\"st\">... list: [LITE, RES_ACID, SUS_DEXT]</span></a>\n+<a class=\"sourceLine\" id=\"cb12-7\" title=\"7\"><span class=\"st\">... dict: {hp: 13, sp: 5}</span></a>\n+<a class=\"sourceLine\" id=\"cb12-8\" title=\"8\"><span class=\"st\">... &quot;&quot;&quot;</span>)</a>\n+<a class=\"sourceLine\" id=\"cb12-9\" title=\"9\"></a>\n+<a class=\"sourceLine\" id=\"cb12-10\" title=\"10\">{<span class=\"st\">'none'</span>: [<span class=\"va\">None</span>, <span class=\"va\">None</span>], <span class=\"st\">'int'</span>: <span class=\"dv\">42</span>, <span class=\"st\">'float'</span>: <span class=\"fl\">3.1415899999999999</span>,</a>\n+<a class=\"sourceLine\" id=\"cb12-11\" title=\"11\"><span class=\"st\">'list'</span>: [<span class=\"st\">'LITE'</span>, <span class=\"st\">'RES_ACID'</span>, <span class=\"st\">'SUS_DEXT'</span>], <span class=\"st\">'dict'</span>: {<span class=\"st\">'hp'</span>: <span class=\"dv\">13</span>, <span class=\"st\">'sp'</span>: <span class=\"dv\">5</span>},</a>\n+<a class=\"sourceLine\" id=\"cb12-12\" title=\"12\"><span class=\"st\">'bool'</span>: [<span class=\"va\">True</span>, <span class=\"va\">False</span>, <span class=\"va\">True</span>, <span class=\"va\">False</span>]}</a></code></pre></div>\n+<p>Even instances of Python classes can be constructed using the <code>!!python/object</code> tag.</p>\n+<div class=\"sourceCode\" id=\"cb13\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb13-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"kw\">class</span> Hero:</a>\n+<a class=\"sourceLine\" id=\"cb13-2\" title=\"2\">...     <span class=\"kw\">def</span> <span class=\"fu\">__init__</span>(<span class=\"va\">self</span>, name, hp, sp):</a>\n+<a class=\"sourceLine\" id=\"cb13-3\" title=\"3\">...         <span class=\"va\">self</span>.name <span class=\"op\">=</span> name</a>\n+<a class=\"sourceLine\" id=\"cb13-4\" title=\"4\">...         <span class=\"va\">self</span>.hp <span class=\"op\">=</span> hp</a>\n+<a class=\"sourceLine\" id=\"cb13-5\" title=\"5\">...         <span class=\"va\">self</span>.sp <span class=\"op\">=</span> sp</a>\n+<a class=\"sourceLine\" id=\"cb13-6\" title=\"6\">...     <span class=\"kw\">def</span> <span class=\"fu\">__repr__</span>(<span class=\"va\">self</span>):</a>\n+<a class=\"sourceLine\" id=\"cb13-7\" title=\"7\">...         <span class=\"cf\">return</span> <span class=\"st\">&quot;</span><span class=\"sc\">%s</span><span class=\"st\">(name=</span><span class=\"sc\">%r</span><span class=\"st\">, hp=</span><span class=\"sc\">%r</span><span class=\"st\">, sp=</span><span class=\"sc\">%r</span><span class=\"st\">)&quot;</span> <span class=\"op\">%</span> (</a>\n+<a class=\"sourceLine\" id=\"cb13-8\" title=\"8\">...             <span class=\"va\">self</span>.__class__.<span class=\"va\">__name__</span>, <span class=\"va\">self</span>.name, <span class=\"va\">self</span>.hp, <span class=\"va\">self</span>.sp)</a>\n+<a class=\"sourceLine\" id=\"cb13-9\" title=\"9\"></a>\n+<a class=\"sourceLine\" id=\"cb13-10\" title=\"10\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.load(<span class=\"st\">&quot;&quot;&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb13-11\" title=\"11\"><span class=\"st\">... !!python/object:__main__.Hero</span></a>\n+<a class=\"sourceLine\" id=\"cb13-12\" title=\"12\"><span class=\"st\">... name: Welthyr Syxgon</span></a>\n+<a class=\"sourceLine\" id=\"cb13-13\" title=\"13\"><span class=\"st\">... hp: 1200</span></a>\n+<a class=\"sourceLine\" id=\"cb13-14\" title=\"14\"><span class=\"st\">... sp: 0</span></a>\n+<a class=\"sourceLine\" id=\"cb13-15\" title=\"15\"><span class=\"st\">... &quot;&quot;&quot;</span>)</a>\n+<a class=\"sourceLine\" id=\"cb13-16\" title=\"16\"></a>\n+<a class=\"sourceLine\" id=\"cb13-17\" title=\"17\">Hero(name<span class=\"op\">=</span><span class=\"st\">'Welthyr Syxgon'</span>, hp<span class=\"op\">=</span><span class=\"dv\">1200</span>, sp<span class=\"op\">=</span><span class=\"dv\">0</span>)</a></code></pre></div>\n+<p>Note that the ability to construct an arbitrary Python object may be dangerous if you receive a YAML document from an untrusted source such as the Internet. The function <code>yaml.safe_load</code> limits this ability to simple Python objects like integers or lists.</p>\n+<p>A python object can be marked as safe and thus be recognized by <code>yaml.safe_load</code>. To do this, derive it from <code>yaml.YAMLObject</code> (as explained in section <em>Constructors, representers, resolvers</em>) and explicitly set its class property <code>yaml_loader</code> to <code>yaml.SafeLoader</code>.</p>\n+<h3 id=\"dumping-yaml\">Dumping YAML</h3>\n+<p>The <code>yaml.dump</code> function accepts a Python object and produces a YAML document.</p>\n+<div class=\"sourceCode\" id=\"cb14\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb14-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.dump({<span class=\"st\">'name'</span>: <span class=\"st\">'Silenthand Olleander'</span>, <span class=\"st\">'race'</span>: <span class=\"st\">'Human'</span>,</a>\n+<a class=\"sourceLine\" id=\"cb14-2\" title=\"2\">... <span class=\"st\">'traits'</span>: [<span class=\"st\">'ONE_HAND'</span>, <span class=\"st\">'ONE_EYE'</span>]})</a>\n+<a class=\"sourceLine\" id=\"cb14-3\" title=\"3\"></a>\n+<a class=\"sourceLine\" id=\"cb14-4\" title=\"4\">name: Silenthand Olleander</a>\n+<a class=\"sourceLine\" id=\"cb14-5\" title=\"5\">race: Human</a>\n+<a class=\"sourceLine\" id=\"cb14-6\" title=\"6\">traits: [ONE_HAND, ONE_EYE]</a></code></pre></div>\n+<p><code>yaml.dump</code> accepts the second optional argument, which must be an open text or binary file. In this case, <code>yaml.dump</code> will write the produced YAML document into the file. Otherwise, <code>yaml.dump</code> returns the produced document.</p>\n+<div class=\"sourceCode\" id=\"cb15\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb15-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> stream <span class=\"op\">=</span> <span class=\"bu\">file</span>(<span class=\"st\">'document.yaml'</span>, <span class=\"st\">'w'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb15-2\" title=\"2\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.dump(data, stream)    <span class=\"co\"># Write a YAML representation of data to 'document.yaml'.</span></a>\n+<a class=\"sourceLine\" id=\"cb15-3\" title=\"3\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.dump(data)      <span class=\"co\"># Output the document to the screen.</span></a></code></pre></div>\n+<p>If you need to dump several YAML documents to a single stream, use the function <code>yaml.dump_all</code>. <code>yaml.dump_all</code> accepts a list or a generator producing</p>\n+<p>Python objects to be serialized into a YAML document. The second optional argument is an open file.</p>\n+<div class=\"sourceCode\" id=\"cb16\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb16-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.dump([<span class=\"dv\">1</span>,<span class=\"dv\">2</span>,<span class=\"dv\">3</span>], explicit_start<span class=\"op\">=</span><span class=\"va\">True</span>)</a>\n+<a class=\"sourceLine\" id=\"cb16-2\" title=\"2\"><span class=\"op\">---</span> [<span class=\"dv\">1</span>, <span class=\"dv\">2</span>, <span class=\"dv\">3</span>]</a>\n+<a class=\"sourceLine\" id=\"cb16-3\" title=\"3\"></a>\n+<a class=\"sourceLine\" id=\"cb16-4\" title=\"4\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.dump_all([<span class=\"dv\">1</span>,<span class=\"dv\">2</span>,<span class=\"dv\">3</span>], explicit_start<span class=\"op\">=</span><span class=\"va\">True</span>)</a>\n+<a class=\"sourceLine\" id=\"cb16-5\" title=\"5\"><span class=\"op\">---</span> <span class=\"dv\">1</span></a>\n+<a class=\"sourceLine\" id=\"cb16-6\" title=\"6\"><span class=\"op\">---</span> <span class=\"dv\">2</span></a>\n+<a class=\"sourceLine\" id=\"cb16-7\" title=\"7\"><span class=\"op\">---</span> <span class=\"dv\">3</span></a></code></pre></div>\n+<p>You may even dump instances of Python classes.</p>\n+<div class=\"sourceCode\" id=\"cb17\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb17-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"kw\">class</span> Hero:</a>\n+<a class=\"sourceLine\" id=\"cb17-2\" title=\"2\">...     <span class=\"kw\">def</span> <span class=\"fu\">__init__</span>(<span class=\"va\">self</span>, name, hp, sp):</a>\n+<a class=\"sourceLine\" id=\"cb17-3\" title=\"3\">...         <span class=\"va\">self</span>.name <span class=\"op\">=</span> name</a>\n+<a class=\"sourceLine\" id=\"cb17-4\" title=\"4\">...         <span class=\"va\">self</span>.hp <span class=\"op\">=</span> hp</a>\n+<a class=\"sourceLine\" id=\"cb17-5\" title=\"5\">...         <span class=\"va\">self</span>.sp <span class=\"op\">=</span> sp</a>\n+<a class=\"sourceLine\" id=\"cb17-6\" title=\"6\">...     <span class=\"kw\">def</span> <span class=\"fu\">__repr__</span>(<span class=\"va\">self</span>):</a>\n+<a class=\"sourceLine\" id=\"cb17-7\" title=\"7\">...         <span class=\"cf\">return</span> <span class=\"st\">&quot;</span><span class=\"sc\">%s</span><span class=\"st\">(name=</span><span class=\"sc\">%r</span><span class=\"st\">, hp=</span><span class=\"sc\">%r</span><span class=\"st\">, sp=</span><span class=\"sc\">%r</span><span class=\"st\">)&quot;</span> <span class=\"op\">%</span> (</a>\n+<a class=\"sourceLine\" id=\"cb17-8\" title=\"8\">...             <span class=\"va\">self</span>.__class__.<span class=\"va\">__name__</span>, <span class=\"va\">self</span>.name, <span class=\"va\">self</span>.hp, <span class=\"va\">self</span>.sp)</a>\n+<a class=\"sourceLine\" id=\"cb17-9\" title=\"9\"></a>\n+<a class=\"sourceLine\" id=\"cb17-10\" title=\"10\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.dump(Hero(<span class=\"st\">&quot;Galain Ysseleg&quot;</span>, hp<span class=\"op\">=-</span><span class=\"dv\">3</span>, sp<span class=\"op\">=</span><span class=\"dv\">2</span>))</a>\n+<a class=\"sourceLine\" id=\"cb17-11\" title=\"11\"></a>\n+<a class=\"sourceLine\" id=\"cb17-12\" title=\"12\"><span class=\"op\">!!</span>python<span class=\"op\">/</span><span class=\"bu\">object</span>:__main__.Hero {hp: <span class=\"dv\">-3</span>, name: Galain Ysseleg, sp: <span class=\"dv\">2</span>}</a></code></pre></div>\n+<p><code>yaml.dump</code> supports a number of keyword arguments that specify formatting details for the emitter. For instance, you may set the preferred intendation and width, use the canonical YAML format or force preferred style for scalars and collections.</p>\n+<div class=\"sourceCode\" id=\"cb18\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb18-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.dump(<span class=\"bu\">range</span>(<span class=\"dv\">50</span>))</a>\n+<a class=\"sourceLine\" id=\"cb18-2\" title=\"2\">[<span class=\"dv\">0</span>, <span class=\"dv\">1</span>, <span class=\"dv\">2</span>, <span class=\"dv\">3</span>, <span class=\"dv\">4</span>, <span class=\"dv\">5</span>, <span class=\"dv\">6</span>, <span class=\"dv\">7</span>, <span class=\"dv\">8</span>, <span class=\"dv\">9</span>, <span class=\"dv\">10</span>, <span class=\"dv\">11</span>, <span class=\"dv\">12</span>, <span class=\"dv\">13</span>, <span class=\"dv\">14</span>, <span class=\"dv\">15</span>, <span class=\"dv\">16</span>, <span class=\"dv\">17</span>, <span class=\"dv\">18</span>, <span class=\"dv\">19</span>, <span class=\"dv\">20</span>, <span class=\"dv\">21</span>, <span class=\"dv\">22</span>,</a>\n+<a class=\"sourceLine\" id=\"cb18-3\" title=\"3\">  <span class=\"dv\">23</span>, <span class=\"dv\">24</span>, <span class=\"dv\">25</span>, <span class=\"dv\">26</span>, <span class=\"dv\">27</span>, <span class=\"dv\">28</span>, <span class=\"dv\">29</span>, <span class=\"dv\">30</span>, <span class=\"dv\">31</span>, <span class=\"dv\">32</span>, <span class=\"dv\">33</span>, <span class=\"dv\">34</span>, <span class=\"dv\">35</span>, <span class=\"dv\">36</span>, <span class=\"dv\">37</span>, <span class=\"dv\">38</span>, <span class=\"dv\">39</span>, <span class=\"dv\">40</span>, <span class=\"dv\">41</span>, <span class=\"dv\">42</span>,</a>\n+<a class=\"sourceLine\" id=\"cb18-4\" title=\"4\">  <span class=\"dv\">43</span>, <span class=\"dv\">44</span>, <span class=\"dv\">45</span>, <span class=\"dv\">46</span>, <span class=\"dv\">47</span>, <span class=\"dv\">48</span>, <span class=\"dv\">49</span>]</a>\n+<a class=\"sourceLine\" id=\"cb18-5\" title=\"5\"></a>\n+<a class=\"sourceLine\" id=\"cb18-6\" title=\"6\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.dump(<span class=\"bu\">range</span>(<span class=\"dv\">50</span>), width<span class=\"op\">=</span><span class=\"dv\">50</span>, indent<span class=\"op\">=</span><span class=\"dv\">4</span>)</a>\n+<a class=\"sourceLine\" id=\"cb18-7\" title=\"7\">[<span class=\"dv\">0</span>, <span class=\"dv\">1</span>, <span class=\"dv\">2</span>, <span class=\"dv\">3</span>, <span class=\"dv\">4</span>, <span class=\"dv\">5</span>, <span class=\"dv\">6</span>, <span class=\"dv\">7</span>, <span class=\"dv\">8</span>, <span class=\"dv\">9</span>, <span class=\"dv\">10</span>, <span class=\"dv\">11</span>, <span class=\"dv\">12</span>, <span class=\"dv\">13</span>, <span class=\"dv\">14</span>, <span class=\"dv\">15</span>,</a>\n+<a class=\"sourceLine\" id=\"cb18-8\" title=\"8\">    <span class=\"dv\">16</span>, <span class=\"dv\">17</span>, <span class=\"dv\">18</span>, <span class=\"dv\">19</span>, <span class=\"dv\">20</span>, <span class=\"dv\">21</span>, <span class=\"dv\">22</span>, <span class=\"dv\">23</span>, <span class=\"dv\">24</span>, <span class=\"dv\">25</span>, <span class=\"dv\">26</span>, <span class=\"dv\">27</span>,</a>\n+<a class=\"sourceLine\" id=\"cb18-9\" title=\"9\">    <span class=\"dv\">28</span>, <span class=\"dv\">29</span>, <span class=\"dv\">30</span>, <span class=\"dv\">31</span>, <span class=\"dv\">32</span>, <span class=\"dv\">33</span>, <span class=\"dv\">34</span>, <span class=\"dv\">35</span>, <span class=\"dv\">36</span>, <span class=\"dv\">37</span>, <span class=\"dv\">38</span>, <span class=\"dv\">39</span>,</a>\n+<a class=\"sourceLine\" id=\"cb18-10\" title=\"10\">    <span class=\"dv\">40</span>, <span class=\"dv\">41</span>, <span class=\"dv\">42</span>, <span class=\"dv\">43</span>, <span class=\"dv\">44</span>, <span class=\"dv\">45</span>, <span class=\"dv\">46</span>, <span class=\"dv\">47</span>, <span class=\"dv\">48</span>, <span class=\"dv\">49</span>]</a>\n+<a class=\"sourceLine\" id=\"cb18-11\" title=\"11\"></a>\n+<a class=\"sourceLine\" id=\"cb18-12\" title=\"12\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.dump(<span class=\"bu\">range</span>(<span class=\"dv\">5</span>), canonical<span class=\"op\">=</span><span class=\"va\">True</span>)</a>\n+<a class=\"sourceLine\" id=\"cb18-13\" title=\"13\"><span class=\"op\">---</span></a>\n+<a class=\"sourceLine\" id=\"cb18-14\" title=\"14\"><span class=\"op\">!!</span>seq [</a>\n+<a class=\"sourceLine\" id=\"cb18-15\" title=\"15\">  <span class=\"op\">!!</span><span class=\"bu\">int</span> <span class=\"st\">&quot;0&quot;</span>,</a>\n+<a class=\"sourceLine\" id=\"cb18-16\" title=\"16\">  <span class=\"op\">!!</span><span class=\"bu\">int</span> <span class=\"st\">&quot;1&quot;</span>,</a>\n+<a class=\"sourceLine\" id=\"cb18-17\" title=\"17\">  <span class=\"op\">!!</span><span class=\"bu\">int</span> <span class=\"st\">&quot;2&quot;</span>,</a>\n+<a class=\"sourceLine\" id=\"cb18-18\" title=\"18\">  <span class=\"op\">!!</span><span class=\"bu\">int</span> <span class=\"st\">&quot;3&quot;</span>,</a>\n+<a class=\"sourceLine\" id=\"cb18-19\" title=\"19\">  <span class=\"op\">!!</span><span class=\"bu\">int</span> <span class=\"st\">&quot;4&quot;</span>,</a>\n+<a class=\"sourceLine\" id=\"cb18-20\" title=\"20\">]</a>\n+<a class=\"sourceLine\" id=\"cb18-21\" title=\"21\"></a>\n+<a class=\"sourceLine\" id=\"cb18-22\" title=\"22\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.dump(<span class=\"bu\">range</span>(<span class=\"dv\">5</span>), default_flow_style<span class=\"op\">=</span><span class=\"va\">False</span>)</a>\n+<a class=\"sourceLine\" id=\"cb18-23\" title=\"23\"><span class=\"op\">-</span> <span class=\"dv\">0</span></a>\n+<a class=\"sourceLine\" id=\"cb18-24\" title=\"24\"><span class=\"op\">-</span> <span class=\"dv\">1</span></a>\n+<a class=\"sourceLine\" id=\"cb18-25\" title=\"25\"><span class=\"op\">-</span> <span class=\"dv\">2</span></a>\n+<a class=\"sourceLine\" id=\"cb18-26\" title=\"26\"><span class=\"op\">-</span> <span class=\"dv\">3</span></a>\n+<a class=\"sourceLine\" id=\"cb18-27\" title=\"27\"><span class=\"op\">-</span> <span class=\"dv\">4</span></a>\n+<a class=\"sourceLine\" id=\"cb18-28\" title=\"28\"></a>\n+<a class=\"sourceLine\" id=\"cb18-29\" title=\"29\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.dump(<span class=\"bu\">range</span>(<span class=\"dv\">5</span>), default_flow_style<span class=\"op\">=</span><span class=\"va\">True</span>, default_style<span class=\"op\">=</span><span class=\"st\">'&quot;'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb18-30\" title=\"30\">[<span class=\"op\">!!</span><span class=\"bu\">int</span> <span class=\"st\">&quot;0&quot;</span>, <span class=\"op\">!!</span><span class=\"bu\">int</span> <span class=\"st\">&quot;1&quot;</span>, <span class=\"op\">!!</span><span class=\"bu\">int</span> <span class=\"st\">&quot;2&quot;</span>, <span class=\"op\">!!</span><span class=\"bu\">int</span> <span class=\"st\">&quot;3&quot;</span>, <span class=\"op\">!!</span><span class=\"bu\">int</span> <span class=\"st\">&quot;4&quot;</span>]</a></code></pre></div>\n+<h3 id=\"constructors-representers-resolvers\">Constructors, representers, resolvers</h3>\n+<p>You may define your own application-specific tags. The easiest way to do it is to define a subclass of <code>yaml.YAMLObject</code>:</p>\n+<div class=\"sourceCode\" id=\"cb19\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb19-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"kw\">class</span> Monster(yaml.YAMLObject):</a>\n+<a class=\"sourceLine\" id=\"cb19-2\" title=\"2\">...     yaml_tag <span class=\"op\">=</span> <span class=\"st\">u'!Monster'</span></a>\n+<a class=\"sourceLine\" id=\"cb19-3\" title=\"3\">...     <span class=\"kw\">def</span> <span class=\"fu\">__init__</span>(<span class=\"va\">self</span>, name, hp, ac, attacks):</a>\n+<a class=\"sourceLine\" id=\"cb19-4\" title=\"4\">...         <span class=\"va\">self</span>.name <span class=\"op\">=</span> name</a>\n+<a class=\"sourceLine\" id=\"cb19-5\" title=\"5\">...         <span class=\"va\">self</span>.hp <span class=\"op\">=</span> hp</a>\n+<a class=\"sourceLine\" id=\"cb19-6\" title=\"6\">...         <span class=\"va\">self</span>.ac <span class=\"op\">=</span> ac</a>\n+<a class=\"sourceLine\" id=\"cb19-7\" title=\"7\">...         <span class=\"va\">self</span>.attacks <span class=\"op\">=</span> attacks</a>\n+<a class=\"sourceLine\" id=\"cb19-8\" title=\"8\">...     <span class=\"kw\">def</span> <span class=\"fu\">__repr__</span>(<span class=\"va\">self</span>):</a>\n+<a class=\"sourceLine\" id=\"cb19-9\" title=\"9\">...         <span class=\"cf\">return</span> <span class=\"st\">&quot;</span><span class=\"sc\">%s</span><span class=\"st\">(name=</span><span class=\"sc\">%r</span><span class=\"st\">, hp=</span><span class=\"sc\">%r</span><span class=\"st\">, ac=</span><span class=\"sc\">%r</span><span class=\"st\">, attacks=</span><span class=\"sc\">%r</span><span class=\"st\">)&quot;</span> <span class=\"op\">%</span> (</a>\n+<a class=\"sourceLine\" id=\"cb19-10\" title=\"10\">...             <span class=\"va\">self</span>.__class__.<span class=\"va\">__name__</span>, <span class=\"va\">self</span>.name, <span class=\"va\">self</span>.hp, <span class=\"va\">self</span>.ac, <span class=\"va\">self</span>.attacks)</a></code></pre></div>\n+<p>The above definition is enough to automatically load and dump <code>Monster</code> objects:</p>\n+<div class=\"sourceCode\" id=\"cb20\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb20-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.load(<span class=\"st\">&quot;&quot;&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb20-2\" title=\"2\"><span class=\"st\">... --- !Monster</span></a>\n+<a class=\"sourceLine\" id=\"cb20-3\" title=\"3\"><span class=\"st\">... name: Cave spider</span></a>\n+<a class=\"sourceLine\" id=\"cb20-4\" title=\"4\"><span class=\"st\">... hp: [2,6]    # 2d6</span></a>\n+<a class=\"sourceLine\" id=\"cb20-5\" title=\"5\"><span class=\"st\">... ac: 16</span></a>\n+<a class=\"sourceLine\" id=\"cb20-6\" title=\"6\"><span class=\"st\">... attacks: [BITE, HURT]</span></a>\n+<a class=\"sourceLine\" id=\"cb20-7\" title=\"7\"><span class=\"st\">... &quot;&quot;&quot;</span>)</a>\n+<a class=\"sourceLine\" id=\"cb20-8\" title=\"8\"></a>\n+<a class=\"sourceLine\" id=\"cb20-9\" title=\"9\">Monster(name<span class=\"op\">=</span><span class=\"st\">'Cave spider'</span>, hp<span class=\"op\">=</span>[<span class=\"dv\">2</span>, <span class=\"dv\">6</span>], ac<span class=\"op\">=</span><span class=\"dv\">16</span>, attacks<span class=\"op\">=</span>[<span class=\"st\">'BITE'</span>, <span class=\"st\">'HURT'</span>])</a>\n+<a class=\"sourceLine\" id=\"cb20-10\" title=\"10\"></a>\n+<a class=\"sourceLine\" id=\"cb20-11\" title=\"11\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.dump(Monster(</a>\n+<a class=\"sourceLine\" id=\"cb20-12\" title=\"12\">...     name<span class=\"op\">=</span><span class=\"st\">'Cave lizard'</span>, hp<span class=\"op\">=</span>[<span class=\"dv\">3</span>,<span class=\"dv\">6</span>], ac<span class=\"op\">=</span><span class=\"dv\">16</span>, attacks<span class=\"op\">=</span>[<span class=\"st\">'BITE'</span>,<span class=\"st\">'HURT'</span>]))</a>\n+<a class=\"sourceLine\" id=\"cb20-13\" title=\"13\"></a>\n+<a class=\"sourceLine\" id=\"cb20-14\" title=\"14\"><span class=\"op\">!</span>Monster</a>\n+<a class=\"sourceLine\" id=\"cb20-15\" title=\"15\">ac: <span class=\"dv\">16</span></a>\n+<a class=\"sourceLine\" id=\"cb20-16\" title=\"16\">attacks: [BITE, HURT]</a>\n+<a class=\"sourceLine\" id=\"cb20-17\" title=\"17\">hp: [<span class=\"dv\">3</span>, <span class=\"dv\">6</span>]</a>\n+<a class=\"sourceLine\" id=\"cb20-18\" title=\"18\">name: Cave lizard</a></code></pre></div>\n+<p><code>yaml.YAMLObject</code> uses metaclass magic to register a constructor, which transforms a YAML node to a class instance, and a representer, which serializes a class instance to a YAML node.</p>\n+<p>If you dont want to use metaclasses, you may register your constructors and representers using the functions <code>yaml.add_constructor</code> and <code>yaml.add_representer</code>. For instance, you may want to add a constructor and a representer for the following <code>Dice</code> class:</p>\n+<div class=\"sourceCode\" id=\"cb21\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb21-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"kw\">class</span> Dice(<span class=\"bu\">tuple</span>):</a>\n+<a class=\"sourceLine\" id=\"cb21-2\" title=\"2\">...     <span class=\"kw\">def</span> <span class=\"fu\">__new__</span>(cls, a, b):</a>\n+<a class=\"sourceLine\" id=\"cb21-3\" title=\"3\">...         <span class=\"cf\">return</span> <span class=\"bu\">tuple</span>.<span class=\"fu\">__new__</span>(cls, [a, b])</a>\n+<a class=\"sourceLine\" id=\"cb21-4\" title=\"4\">...     <span class=\"kw\">def</span> <span class=\"fu\">__repr__</span>(<span class=\"va\">self</span>):</a>\n+<a class=\"sourceLine\" id=\"cb21-5\" title=\"5\">...         <span class=\"cf\">return</span> <span class=\"st\">&quot;Dice(</span><span class=\"sc\">%s</span><span class=\"st\">,</span><span class=\"sc\">%s</span><span class=\"st\">)&quot;</span> <span class=\"op\">%</span> <span class=\"va\">self</span></a>\n+<a class=\"sourceLine\" id=\"cb21-6\" title=\"6\"></a>\n+<a class=\"sourceLine\" id=\"cb21-7\" title=\"7\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> Dice(<span class=\"dv\">3</span>,<span class=\"dv\">6</span>)</a>\n+<a class=\"sourceLine\" id=\"cb21-8\" title=\"8\">Dice(<span class=\"dv\">3</span>,<span class=\"dv\">6</span>)</a></code></pre></div>\n+<p>The default representation for <code>Dice</code> objects is not pretty:</p>\n+<div class=\"sourceCode\" id=\"cb22\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb22-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.dump(Dice(<span class=\"dv\">3</span>,<span class=\"dv\">6</span>))</a>\n+<a class=\"sourceLine\" id=\"cb22-2\" title=\"2\"></a>\n+<a class=\"sourceLine\" id=\"cb22-3\" title=\"3\"><span class=\"op\">!!</span>python<span class=\"op\">/</span><span class=\"bu\">object</span><span class=\"op\">/</span>new:__main__.Dice</a>\n+<a class=\"sourceLine\" id=\"cb22-4\" title=\"4\"><span class=\"op\">-</span> <span class=\"op\">!!</span>python<span class=\"op\">/</span><span class=\"bu\">tuple</span> [<span class=\"dv\">3</span>, <span class=\"dv\">6</span>]</a></code></pre></div>\n+<p>Suppose you want a <code>Dice</code> object to represented as <code>AdB</code> in YAML:</p>\n+<div class=\"sourceCode\" id=\"cb23\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb23-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.dump(Dice(<span class=\"dv\">3</span>,<span class=\"dv\">6</span>))</a>\n+<a class=\"sourceLine\" id=\"cb23-2\" title=\"2\"></a>\n+<a class=\"sourceLine\" id=\"cb23-3\" title=\"3\">3d6</a></code></pre></div>\n+<p>First we define a representer that converts a dice object to a scalar node with the tag <code>!dice</code>, then we register it.</p>\n+<div class=\"sourceCode\" id=\"cb24\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb24-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"kw\">def</span> dice_representer(dumper, data):</a>\n+<a class=\"sourceLine\" id=\"cb24-2\" title=\"2\">...     <span class=\"cf\">return</span> dumper.represent_scalar(<span class=\"st\">u'!dice'</span>, <span class=\"st\">u'</span><span class=\"sc\">%s</span><span class=\"st\">d</span><span class=\"sc\">%s</span><span class=\"st\">'</span> <span class=\"op\">%</span> data)</a>\n+<a class=\"sourceLine\" id=\"cb24-3\" title=\"3\"></a>\n+<a class=\"sourceLine\" id=\"cb24-4\" title=\"4\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.add_representer(Dice, dice_representer)</a></code></pre></div>\n+<p>Now you may dump an instance of the <code>Dice</code> object:</p>\n+<div class=\"sourceCode\" id=\"cb25\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb25-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.dump({<span class=\"st\">'gold'</span>: Dice(<span class=\"dv\">10</span>,<span class=\"dv\">6</span>)})</a>\n+<a class=\"sourceLine\" id=\"cb25-2\" title=\"2\">{gold: <span class=\"op\">!</span>dice <span class=\"st\">'10d6'</span>}</a></code></pre></div>\n+<p>Let us add the code to construct a Dice object:</p>\n+<div class=\"sourceCode\" id=\"cb26\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb26-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"kw\">def</span> dice_constructor(loader, node):</a>\n+<a class=\"sourceLine\" id=\"cb26-2\" title=\"2\">...     value <span class=\"op\">=</span> loader.construct_scalar(node)</a>\n+<a class=\"sourceLine\" id=\"cb26-3\" title=\"3\">...     a, b <span class=\"op\">=</span> <span class=\"bu\">map</span>(<span class=\"bu\">int</span>, value.split(<span class=\"st\">'d'</span>))</a>\n+<a class=\"sourceLine\" id=\"cb26-4\" title=\"4\">...     <span class=\"cf\">return</span> Dice(a, b)</a>\n+<a class=\"sourceLine\" id=\"cb26-5\" title=\"5\"></a>\n+<a class=\"sourceLine\" id=\"cb26-6\" title=\"6\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.add_constructor(<span class=\"st\">u'!dice'</span>, dice_constructor)</a></code></pre></div>\n+<p>Then you may load a <code>Dice</code> object as well:</p>\n+<div class=\"sourceCode\" id=\"cb27\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb27-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.load(<span class=\"st\">&quot;&quot;&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb27-2\" title=\"2\"><span class=\"st\">... initial hit points: !dice 8d4</span></a>\n+<a class=\"sourceLine\" id=\"cb27-3\" title=\"3\"><span class=\"st\">... &quot;&quot;&quot;</span>)</a>\n+<a class=\"sourceLine\" id=\"cb27-4\" title=\"4\"></a>\n+<a class=\"sourceLine\" id=\"cb27-5\" title=\"5\">{<span class=\"st\">'initial hit points'</span>: Dice(<span class=\"dv\">8</span>,<span class=\"dv\">4</span>)}</a></code></pre></div>\n+<p>You might not want to specify the tag <code>!dice</code> everywhere. There is a way to teach PyYAML that any untagged plain scalar which looks like XdY has the implicit tag <code>!dice</code>. Use <code>add_implicit_resolver</code>:</p>\n+<div class=\"sourceCode\" id=\"cb28\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb28-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"im\">import</span> re</a>\n+<a class=\"sourceLine\" id=\"cb28-2\" title=\"2\"><span class=\"op\">&gt;&gt;&gt;</span> pattern <span class=\"op\">=</span> re.<span class=\"bu\">compile</span>(<span class=\"vs\">r'^\\d+d\\d+$'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb28-3\" title=\"3\"><span class=\"op\">&gt;&gt;&gt;</span> yaml.add_implicit_resolver(<span class=\"st\">u'!dice'</span>, pattern)</a></code></pre></div>\n+<p>Now you dont have to specify the tag to define a <code>Dice</code> object:</p>\n+<div class=\"sourceCode\" id=\"cb29\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb29-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.dump({<span class=\"st\">'treasure'</span>: Dice(<span class=\"dv\">10</span>,<span class=\"dv\">20</span>)})</a>\n+<a class=\"sourceLine\" id=\"cb29-2\" title=\"2\"></a>\n+<a class=\"sourceLine\" id=\"cb29-3\" title=\"3\">{treasure: 10d20}</a>\n+<a class=\"sourceLine\" id=\"cb29-4\" title=\"4\"></a>\n+<a class=\"sourceLine\" id=\"cb29-5\" title=\"5\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.load(<span class=\"st\">&quot;&quot;&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb29-6\" title=\"6\"><span class=\"st\">... damage: 5d10</span></a>\n+<a class=\"sourceLine\" id=\"cb29-7\" title=\"7\"><span class=\"st\">... &quot;&quot;&quot;</span>)</a>\n+<a class=\"sourceLine\" id=\"cb29-8\" title=\"8\"></a>\n+<a class=\"sourceLine\" id=\"cb29-9\" title=\"9\">{<span class=\"st\">'damage'</span>: Dice(<span class=\"dv\">5</span>,<span class=\"dv\">10</span>)}</a></code></pre></div>\n+<h2 id=\"yaml-syntax\">YAML syntax</h2>\n+<p>A good introduction to the YAML syntax is <a href=\"http://yaml.org/spec/1.1/#id857168\">Chapter 2 of the YAML specification</a>.</p>\n+<p>You may also check <a href=\"https://yaml.org/YAML_for_ruby.html\">the YAML cookbook</a>. Note that it is focused on a Ruby implementation and uses the old YAML 1.0 syntax.</p>\n+<p>Here we present most common YAML constructs together with the corresponding Python objects.</p>\n+<h3 id=\"documents\">Documents</h3>\n+<p>YAML stream is a collection of zero or more documents. An empty stream contains no documents. Documents are separated with <code>---</code>. Documents may optionally end with <code>...</code>. A single document may or may not be marked with <code>---</code>.</p>\n+<p>Example of an implicit document:</p>\n+<div class=\"sourceCode\" id=\"cb30\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb30-1\" title=\"1\"><span class=\"kw\">-</span> Multimedia</a>\n+<a class=\"sourceLine\" id=\"cb30-2\" title=\"2\"><span class=\"kw\">-</span> Internet</a>\n+<a class=\"sourceLine\" id=\"cb30-3\" title=\"3\"><span class=\"kw\">-</span> Education</a></code></pre></div>\n+<p>Example of an explicit document:</p>\n+<div class=\"sourceCode\" id=\"cb31\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb31-1\" title=\"1\"><span class=\"ot\">---</span></a>\n+<a class=\"sourceLine\" id=\"cb31-2\" title=\"2\"><span class=\"kw\">-</span> Afterstep</a>\n+<a class=\"sourceLine\" id=\"cb31-3\" title=\"3\"><span class=\"kw\">-</span> CTWM</a>\n+<a class=\"sourceLine\" id=\"cb31-4\" title=\"4\"><span class=\"kw\">-</span> Oroborus</a>\n+<a class=\"sourceLine\" id=\"cb31-5\" title=\"5\"><span class=\"co\">...</span></a></code></pre></div>\n+<p>Example of several documents in the same stream:</p>\n+<div class=\"sourceCode\" id=\"cb32\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb32-1\" title=\"1\"><span class=\"ot\">---</span></a>\n+<a class=\"sourceLine\" id=\"cb32-2\" title=\"2\"><span class=\"kw\">-</span> Ada</a>\n+<a class=\"sourceLine\" id=\"cb32-3\" title=\"3\"><span class=\"kw\">-</span> APL</a>\n+<a class=\"sourceLine\" id=\"cb32-4\" title=\"4\"><span class=\"kw\">-</span> ASP</a>\n+<a class=\"sourceLine\" id=\"cb32-5\" title=\"5\"></a>\n+<a class=\"sourceLine\" id=\"cb32-6\" title=\"6\"><span class=\"kw\">-</span> Assembly</a>\n+<a class=\"sourceLine\" id=\"cb32-7\" title=\"7\"><span class=\"kw\">-</span> Awk</a>\n+<a class=\"sourceLine\" id=\"cb32-8\" title=\"8\"><span class=\"ot\">---</span></a>\n+<a class=\"sourceLine\" id=\"cb32-9\" title=\"9\"><span class=\"kw\">-</span> Basic</a>\n+<a class=\"sourceLine\" id=\"cb32-10\" title=\"10\"><span class=\"ot\">---</span></a>\n+<a class=\"sourceLine\" id=\"cb32-11\" title=\"11\"><span class=\"kw\">-</span> C</a>\n+<a class=\"sourceLine\" id=\"cb32-12\" title=\"12\"><span class=\"kw\">-</span> C<span class=\"co\">#    # Note that comments are denoted with ' #' (space then #).</span></a>\n+<a class=\"sourceLine\" id=\"cb32-13\" title=\"13\"><span class=\"kw\">-</span> C++</a>\n+<a class=\"sourceLine\" id=\"cb32-14\" title=\"14\"><span class=\"kw\">-</span> Cold Fusion</a></code></pre></div>\n+<h3 id=\"block-sequences\">Block sequences</h3>\n+<p>In the block context, sequence entries are denoted by <code>-</code> (dash then space):</p>\n+<div class=\"sourceCode\" id=\"cb33\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb33-1\" title=\"1\"><span class=\"co\"># YAML</span></a>\n+<a class=\"sourceLine\" id=\"cb33-2\" title=\"2\"><span class=\"kw\">-</span> The Dagger <span class=\"st\">'Narthanc'</span></a>\n+<a class=\"sourceLine\" id=\"cb33-3\" title=\"3\"><span class=\"kw\">-</span> The Dagger <span class=\"st\">'Nimthanc'</span></a>\n+<a class=\"sourceLine\" id=\"cb33-4\" title=\"4\"><span class=\"kw\">-</span> The Dagger <span class=\"st\">'Dethanc'</span></a></code></pre></div>\n+<div class=\"sourceCode\" id=\"cb34\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb34-1\" title=\"1\"><span class=\"co\"># Python</span></a>\n+<a class=\"sourceLine\" id=\"cb34-2\" title=\"2\">[<span class=\"st\">&quot;The Dagger 'Narthanc'&quot;</span>, <span class=\"st\">&quot;The Dagger 'Nimthanc'&quot;</span>, <span class=\"st\">&quot;The Dagger 'Dethanc'&quot;</span>]</a></code></pre></div>\n+<p>Block sequences can be nested:</p>\n+<div class=\"sourceCode\" id=\"cb35\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb35-1\" title=\"1\"><span class=\"co\"># YAML</span></a>\n+<a class=\"sourceLine\" id=\"cb35-2\" title=\"2\"><span class=\"kw\">-</span></a>\n+<a class=\"sourceLine\" id=\"cb35-3\" title=\"3\">  <span class=\"kw\">-</span> HTML</a>\n+<a class=\"sourceLine\" id=\"cb35-4\" title=\"4\">  <span class=\"kw\">-</span> LaTeX</a>\n+<a class=\"sourceLine\" id=\"cb35-5\" title=\"5\">  <span class=\"kw\">-</span> SGML</a>\n+<a class=\"sourceLine\" id=\"cb35-6\" title=\"6\">  <span class=\"kw\">-</span> VRML</a>\n+<a class=\"sourceLine\" id=\"cb35-7\" title=\"7\">  <span class=\"kw\">-</span> XML</a>\n+<a class=\"sourceLine\" id=\"cb35-8\" title=\"8\">  <span class=\"kw\">-</span> YAML</a>\n+<a class=\"sourceLine\" id=\"cb35-9\" title=\"9\"><span class=\"kw\">-</span></a>\n+<a class=\"sourceLine\" id=\"cb35-10\" title=\"10\">  <span class=\"kw\">-</span> BSD</a>\n+<a class=\"sourceLine\" id=\"cb35-11\" title=\"11\">  <span class=\"kw\">-</span> GNU Hurd</a>\n+<a class=\"sourceLine\" id=\"cb35-12\" title=\"12\">  <span class=\"kw\">-</span> Linux</a></code></pre></div>\n+<div class=\"sourceCode\" id=\"cb36\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb36-1\" title=\"1\"><span class=\"co\"># Python</span></a>\n+<a class=\"sourceLine\" id=\"cb36-2\" title=\"2\">[[<span class=\"st\">'HTML'</span>, <span class=\"st\">'LaTeX'</span>, <span class=\"st\">'SGML'</span>, <span class=\"st\">'VRML'</span>, <span class=\"st\">'XML'</span>, <span class=\"st\">'YAML'</span>], [<span class=\"st\">'BSD'</span>, <span class=\"st\">'GNU Hurd'</span>, <span class=\"st\">'Linux'</span>]]</a></code></pre></div>\n+<p>Its not necessary to start a nested sequence with a new line:</p>\n+<div class=\"sourceCode\" id=\"cb37\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb37-1\" title=\"1\"><span class=\"co\"># YAML</span></a>\n+<a class=\"sourceLine\" id=\"cb37-2\" title=\"2\"><span class=\"kw\">-</span> <span class=\"fl\">1.1</span></a>\n+<a class=\"sourceLine\" id=\"cb37-3\" title=\"3\"><span class=\"kw\">-</span> <span class=\"kw\">-</span> <span class=\"fl\">2.1</span></a>\n+<a class=\"sourceLine\" id=\"cb37-4\" title=\"4\">  <span class=\"kw\">-</span> <span class=\"fl\">2.2</span></a>\n+<a class=\"sourceLine\" id=\"cb37-5\" title=\"5\"><span class=\"kw\">-</span> <span class=\"kw\">-</span> <span class=\"kw\">-</span> <span class=\"fl\">3.1</span></a>\n+<a class=\"sourceLine\" id=\"cb37-6\" title=\"6\">    <span class=\"kw\">-</span> <span class=\"fl\">3.2</span></a>\n+<a class=\"sourceLine\" id=\"cb37-7\" title=\"7\">    <span class=\"kw\">-</span> <span class=\"fl\">3.3</span></a></code></pre></div>\n+<div class=\"sourceCode\" id=\"cb38\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb38-1\" title=\"1\"><span class=\"co\"># Python</span></a>\n+<a class=\"sourceLine\" id=\"cb38-2\" title=\"2\">[<span class=\"fl\">1.1</span>, [<span class=\"fl\">2.1</span>, <span class=\"fl\">2.2</span>], [[<span class=\"fl\">3.1</span>, <span class=\"fl\">3.2</span>, <span class=\"fl\">3.3</span>]]]</a></code></pre></div>\n+<p>A block sequence may be nested to a block mapping. Note that in this case it is not necessary to indent the sequence.</p>\n+<div class=\"sourceCode\" id=\"cb39\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb39-1\" title=\"1\"><span class=\"co\"># YAML</span></a>\n+<a class=\"sourceLine\" id=\"cb39-2\" title=\"2\"><span class=\"fu\">left hand:</span></a>\n+<a class=\"sourceLine\" id=\"cb39-3\" title=\"3\"><span class=\"kw\">-</span> Ring of Teleportation</a>\n+<a class=\"sourceLine\" id=\"cb39-4\" title=\"4\"><span class=\"kw\">-</span> Ring of Speed</a>\n+<a class=\"sourceLine\" id=\"cb39-5\" title=\"5\"></a>\n+<a class=\"sourceLine\" id=\"cb39-6\" title=\"6\"><span class=\"fu\">right hand:</span></a>\n+<a class=\"sourceLine\" id=\"cb39-7\" title=\"7\"><span class=\"kw\">-</span> Ring of Resist Fire</a>\n+<a class=\"sourceLine\" id=\"cb39-8\" title=\"8\"><span class=\"kw\">-</span> Ring of Resist Cold</a>\n+<a class=\"sourceLine\" id=\"cb39-9\" title=\"9\"><span class=\"kw\">-</span> Ring of Resist Poison</a></code></pre></div>\n+<div class=\"sourceCode\" id=\"cb40\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb40-1\" title=\"1\"><span class=\"co\"># Python</span></a>\n+<a class=\"sourceLine\" id=\"cb40-2\" title=\"2\">{<span class=\"st\">'right hand'</span>: [<span class=\"st\">'Ring of Resist Fire'</span>, <span class=\"st\">'Ring of Resist Cold'</span>, <span class=\"st\">'Ring of Resist Poison'</span>],</a>\n+<a class=\"sourceLine\" id=\"cb40-3\" title=\"3\"><span class=\"st\">'left hand'</span>: [<span class=\"st\">'Ring of Teleportation'</span>, <span class=\"st\">'Ring of Speed'</span>]}</a></code></pre></div>\n+<h3 id=\"block-mappings\">Block mappings</h3>\n+<p>In the block context, keys and values of mappings are separated by <code>:</code> (colon then space):</p>\n+<div class=\"sourceCode\" id=\"cb41\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb41-1\" title=\"1\"><span class=\"co\"># YAML</span></a>\n+<a class=\"sourceLine\" id=\"cb41-2\" title=\"2\"><span class=\"fu\">base armor class:</span><span class=\"at\"> </span><span class=\"dv\">0</span></a>\n+<a class=\"sourceLine\" id=\"cb41-3\" title=\"3\"><span class=\"fu\">base damage:</span><span class=\"at\"> </span><span class=\"kw\">[</span><span class=\"dv\">4</span><span class=\"kw\">,</span><span class=\"dv\">4</span><span class=\"kw\">]</span></a>\n+<a class=\"sourceLine\" id=\"cb41-4\" title=\"4\"><span class=\"fu\">plus to-hit:</span><span class=\"at\"> </span><span class=\"dv\">12</span></a>\n+<a class=\"sourceLine\" id=\"cb41-5\" title=\"5\"><span class=\"fu\">plus to-dam:</span><span class=\"at\"> </span><span class=\"dv\">16</span></a>\n+<a class=\"sourceLine\" id=\"cb41-6\" title=\"6\"><span class=\"fu\">plus to-ac:</span><span class=\"at\"> </span><span class=\"dv\">0</span></a></code></pre></div>\n+<div class=\"sourceCode\" id=\"cb42\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb42-1\" title=\"1\"><span class=\"co\"># Python</span></a>\n+<a class=\"sourceLine\" id=\"cb42-2\" title=\"2\">{<span class=\"st\">'plus to-hit'</span>: <span class=\"dv\">12</span>, <span class=\"st\">'base damage'</span>: [<span class=\"dv\">4</span>, <span class=\"dv\">4</span>], <span class=\"st\">'base armor class'</span>: <span class=\"dv\">0</span>, <span class=\"st\">'plus to-ac'</span>: <span class=\"dv\">0</span>, <span class=\"st\">'plus to-dam'</span>: <span class=\"dv\">16</span>}</a></code></pre></div>\n+<p>Complex keys are denoted with <code>?</code> (question mark then space):</p>\n+<div class=\"sourceCode\" id=\"cb43\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb43-1\" title=\"1\"><span class=\"co\"># YAML</span></a>\n+<a class=\"sourceLine\" id=\"cb43-2\" title=\"2\"><span class=\"kw\">?</span> <span class=\"dt\">!!python/tuple</span> <span class=\"kw\">[</span><span class=\"dv\">0</span><span class=\"kw\">,</span><span class=\"dv\">0</span><span class=\"kw\">]</span></a>\n+<a class=\"sourceLine\" id=\"cb43-3\" title=\"3\"><span class=\"fu\">:</span><span class=\"at\"> The Hero</span></a>\n+<a class=\"sourceLine\" id=\"cb43-4\" title=\"4\"><span class=\"kw\">?</span> <span class=\"dt\">!!python/tuple</span> <span class=\"kw\">[</span><span class=\"dv\">0</span><span class=\"kw\">,</span><span class=\"dv\">1</span><span class=\"kw\">]</span></a>\n+<a class=\"sourceLine\" id=\"cb43-5\" title=\"5\"><span class=\"fu\">:</span><span class=\"at\"> Treasure</span></a>\n+<a class=\"sourceLine\" id=\"cb43-6\" title=\"6\"><span class=\"kw\">?</span> <span class=\"dt\">!!python/tuple</span> <span class=\"kw\">[</span><span class=\"dv\">1</span><span class=\"kw\">,</span><span class=\"dv\">0</span><span class=\"kw\">]</span></a>\n+<a class=\"sourceLine\" id=\"cb43-7\" title=\"7\"><span class=\"fu\">:</span><span class=\"at\"> Treasure</span></a>\n+<a class=\"sourceLine\" id=\"cb43-8\" title=\"8\"><span class=\"kw\">?</span> <span class=\"dt\">!!python/tuple</span> <span class=\"kw\">[</span><span class=\"dv\">1</span><span class=\"kw\">,</span><span class=\"dv\">1</span><span class=\"kw\">]</span></a>\n+<a class=\"sourceLine\" id=\"cb43-9\" title=\"9\"><span class=\"fu\">:</span><span class=\"at\"> The Dragon</span></a></code></pre></div>\n+<div class=\"sourceCode\" id=\"cb44\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb44-1\" title=\"1\"><span class=\"co\"># Python</span></a>\n+<a class=\"sourceLine\" id=\"cb44-2\" title=\"2\">{(<span class=\"dv\">0</span>, <span class=\"dv\">1</span>): <span class=\"st\">'Treasure'</span>, (<span class=\"dv\">1</span>, <span class=\"dv\">0</span>): <span class=\"st\">'Treasure'</span>, (<span class=\"dv\">0</span>, <span class=\"dv\">0</span>): <span class=\"st\">'The Hero'</span>, (<span class=\"dv\">1</span>, <span class=\"dv\">1</span>): <span class=\"st\">'The Dragon'</span>}</a></code></pre></div>\n+<p>Block mapping can be nested:</p>\n+<div class=\"sourceCode\" id=\"cb45\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb45-1\" title=\"1\"><span class=\"co\"># YAML</span></a>\n+<a class=\"sourceLine\" id=\"cb45-2\" title=\"2\"><span class=\"fu\">hero:</span></a>\n+<a class=\"sourceLine\" id=\"cb45-3\" title=\"3\">  <span class=\"fu\">hp:</span><span class=\"at\"> </span><span class=\"dv\">34</span></a>\n+<a class=\"sourceLine\" id=\"cb45-4\" title=\"4\">  <span class=\"fu\">sp:</span><span class=\"at\"> </span><span class=\"dv\">8</span></a>\n+<a class=\"sourceLine\" id=\"cb45-5\" title=\"5\">  <span class=\"fu\">level:</span><span class=\"at\"> </span><span class=\"dv\">4</span></a>\n+<a class=\"sourceLine\" id=\"cb45-6\" title=\"6\"><span class=\"fu\">orc:</span></a>\n+<a class=\"sourceLine\" id=\"cb45-7\" title=\"7\">  <span class=\"fu\">hp:</span><span class=\"at\"> </span><span class=\"dv\">12</span></a>\n+<a class=\"sourceLine\" id=\"cb45-8\" title=\"8\">  <span class=\"fu\">sp:</span><span class=\"at\"> </span><span class=\"dv\">0</span></a>\n+<a class=\"sourceLine\" id=\"cb45-9\" title=\"9\">  <span class=\"fu\">level:</span><span class=\"at\"> </span><span class=\"dv\">2</span></a></code></pre></div>\n+<div class=\"sourceCode\" id=\"cb46\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb46-1\" title=\"1\"><span class=\"co\"># Python</span></a>\n+<a class=\"sourceLine\" id=\"cb46-2\" title=\"2\">{<span class=\"st\">'hero'</span>: {<span class=\"st\">'hp'</span>: <span class=\"dv\">34</span>, <span class=\"st\">'sp'</span>: <span class=\"dv\">8</span>, <span class=\"st\">'level'</span>: <span class=\"dv\">4</span>}, <span class=\"st\">'orc'</span>: {<span class=\"st\">'hp'</span>: <span class=\"dv\">12</span>, <span class=\"st\">'sp'</span>: <span class=\"dv\">0</span>, <span class=\"st\">'level'</span>: <span class=\"dv\">2</span>}}</a></code></pre></div>\n+<p>A block mapping may be nested in a block sequence:</p>\n+<div class=\"sourceCode\" id=\"cb47\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb47-1\" title=\"1\"><span class=\"co\"># YAML</span></a>\n+<a class=\"sourceLine\" id=\"cb47-2\" title=\"2\"><span class=\"kw\">-</span> <span class=\"fu\">name:</span><span class=\"at\"> PyYAML</span></a>\n+<a class=\"sourceLine\" id=\"cb47-3\" title=\"3\">  <span class=\"fu\">status:</span><span class=\"at\"> </span><span class=\"dv\">4</span></a>\n+<a class=\"sourceLine\" id=\"cb47-4\" title=\"4\">  <span class=\"fu\">license:</span><span class=\"at\"> MIT</span></a>\n+<a class=\"sourceLine\" id=\"cb47-5\" title=\"5\">  <span class=\"fu\">language:</span><span class=\"at\"> Python</span></a>\n+<a class=\"sourceLine\" id=\"cb47-6\" title=\"6\"><span class=\"kw\">-</span> <span class=\"fu\">name:</span><span class=\"at\"> PySyck</span></a>\n+<a class=\"sourceLine\" id=\"cb47-7\" title=\"7\">  <span class=\"fu\">status:</span><span class=\"at\"> </span><span class=\"dv\">5</span></a>\n+<a class=\"sourceLine\" id=\"cb47-8\" title=\"8\">  <span class=\"fu\">license:</span><span class=\"at\"> BSD</span></a>\n+<a class=\"sourceLine\" id=\"cb47-9\" title=\"9\">  <span class=\"fu\">language:</span><span class=\"at\"> Python</span></a></code></pre></div>\n+<div class=\"sourceCode\" id=\"cb48\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb48-1\" title=\"1\"><span class=\"co\"># Python</span></a>\n+<a class=\"sourceLine\" id=\"cb48-2\" title=\"2\">[{<span class=\"st\">'status'</span>: <span class=\"dv\">4</span>, <span class=\"st\">'language'</span>: <span class=\"st\">'Python'</span>, <span class=\"st\">'name'</span>: <span class=\"st\">'PyYAML'</span>, <span class=\"st\">'license'</span>: <span class=\"st\">'MIT'</span>},</a>\n+<a class=\"sourceLine\" id=\"cb48-3\" title=\"3\">{<span class=\"st\">'status'</span>: <span class=\"dv\">5</span>, <span class=\"st\">'license'</span>: <span class=\"st\">'BSD'</span>, <span class=\"st\">'name'</span>: <span class=\"st\">'PySyck'</span>, <span class=\"st\">'language'</span>: <span class=\"st\">'Python'</span>}]</a></code></pre></div>\n+<h3 id=\"flow-collections\">Flow collections</h3>\n+<p>The syntax of flow collections in YAML is very close to the syntax of list and dictionary constructors in Python:</p>\n+<div class=\"sourceCode\" id=\"cb49\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb49-1\" title=\"1\"><span class=\"co\"># YAML</span></a>\n+<a class=\"sourceLine\" id=\"cb49-2\" title=\"2\"><span class=\"kw\">{</span> <span class=\"fu\">str:</span><span class=\"at\"> </span><span class=\"kw\">[</span><span class=\"dv\">15</span><span class=\"kw\">,</span> <span class=\"dv\">17</span><span class=\"kw\">],</span> <span class=\"fu\">con:</span><span class=\"at\"> </span><span class=\"kw\">[</span><span class=\"dv\">16</span><span class=\"kw\">,</span> <span class=\"dv\">16</span><span class=\"kw\">],</span> <span class=\"fu\">dex:</span><span class=\"at\"> </span><span class=\"kw\">[</span><span class=\"dv\">17</span><span class=\"kw\">,</span> <span class=\"dv\">18</span><span class=\"kw\">],</span> <span class=\"fu\">wis:</span><span class=\"at\"> </span><span class=\"kw\">[</span><span class=\"dv\">16</span><span class=\"kw\">,</span> <span class=\"dv\">16</span><span class=\"kw\">],</span> <span class=\"fu\">int:</span><span class=\"at\"> </span><span class=\"kw\">[</span><span class=\"dv\">10</span><span class=\"kw\">,</span> <span class=\"dv\">13</span><span class=\"kw\">],</span> <span class=\"fu\">chr:</span><span class=\"at\"> </span><span class=\"kw\">[</span><span class=\"dv\">5</span><span class=\"kw\">,</span> <span class=\"dv\">8</span><span class=\"kw\">]</span><span class=\"at\"> </span><span class=\"kw\">}</span></a></code></pre></div>\n+<div class=\"sourceCode\" id=\"cb50\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb50-1\" title=\"1\"><span class=\"co\"># Python</span></a>\n+<a class=\"sourceLine\" id=\"cb50-2\" title=\"2\">{<span class=\"st\">'dex'</span>: [<span class=\"dv\">17</span>, <span class=\"dv\">18</span>], <span class=\"st\">'int'</span>: [<span class=\"dv\">10</span>, <span class=\"dv\">13</span>], <span class=\"st\">'chr'</span>: [<span class=\"dv\">5</span>, <span class=\"dv\">8</span>], <span class=\"st\">'wis'</span>: [<span class=\"dv\">16</span>, <span class=\"dv\">16</span>], <span class=\"st\">'str'</span>: [<span class=\"dv\">15</span>, <span class=\"dv\">17</span>], <span class=\"st\">'con'</span>: [<span class=\"dv\">16</span>, <span class=\"dv\">16</span>]}</a></code></pre></div>\n+<h3 id=\"scalars\">Scalars</h3>\n+<p>There are 5 styles of scalars in YAML: plain, single-quoted, double-quoted, literal, and folded:</p>\n+<div class=\"sourceCode\" id=\"cb51\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb51-1\" title=\"1\"><span class=\"co\"># YAML</span></a>\n+<a class=\"sourceLine\" id=\"cb51-2\" title=\"2\"><span class=\"fu\">plain:</span><span class=\"at\"> Scroll of Remove Curse</span></a>\n+<a class=\"sourceLine\" id=\"cb51-3\" title=\"3\"><span class=\"fu\">single-quoted:</span><span class=\"at\"> </span><span class=\"st\">'EASY_KNOW'</span></a>\n+<a class=\"sourceLine\" id=\"cb51-4\" title=\"4\"><span class=\"fu\">double-quoted:</span><span class=\"at\"> </span><span class=\"st\">&quot;?&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb51-5\" title=\"5\"><span class=\"fu\">literal:</span> <span class=\"st\">|</span>    <span class=\"co\"># Borrowed from http://www.kersbergen.com/flump/religion.html</span></a>\n+<a class=\"sourceLine\" id=\"cb51-6\" title=\"6\">  by hjw              ___</a>\n+<a class=\"sourceLine\" id=\"cb51-7\" title=\"7\">     __              /.-.\\</a>\n+<a class=\"sourceLine\" id=\"cb51-8\" title=\"8\">    /  )_____________\\\\  Y</a>\n+<a class=\"sourceLine\" id=\"cb51-9\" title=\"9\">   /_ /=== == === === =\\ _\\_</a>\n+<a class=\"sourceLine\" id=\"cb51-10\" title=\"10\">  ( /)=== == === === == Y   \\</a>\n+<a class=\"sourceLine\" id=\"cb51-11\" title=\"11\">   `-------------------(  o  )</a>\n+<a class=\"sourceLine\" id=\"cb51-12\" title=\"12\">                        \\___/</a>\n+<a class=\"sourceLine\" id=\"cb51-13\" title=\"13\"><span class=\"fu\">folded:</span> <span class=\"st\">&gt;</span></a>\n+<a class=\"sourceLine\" id=\"cb51-14\" title=\"14\">  It removes all ordinary curses from all equipped items.</a>\n+<a class=\"sourceLine\" id=\"cb51-15\" title=\"15\">  Heavy or permanent curses are unaffected.</a></code></pre></div>\n+<div class=\"sourceCode\" id=\"cb52\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb52-1\" title=\"1\"><span class=\"co\"># Python</span></a>\n+<a class=\"sourceLine\" id=\"cb52-2\" title=\"2\">{<span class=\"st\">'plain'</span>: <span class=\"st\">'Scroll of Remove Curse'</span>,</a>\n+<a class=\"sourceLine\" id=\"cb52-3\" title=\"3\"><span class=\"st\">'literal'</span>:</a>\n+<a class=\"sourceLine\" id=\"cb52-4\" title=\"4\">    <span class=\"st\">'by hjw              ___</span><span class=\"ch\">\\n</span><span class=\"st\">'</span></a>\n+<a class=\"sourceLine\" id=\"cb52-5\" title=\"5\">    <span class=\"st\">'   __              /.-.</span><span class=\"ch\">\\\\\\n</span><span class=\"st\">'</span></a>\n+<a class=\"sourceLine\" id=\"cb52-6\" title=\"6\">    <span class=\"st\">'  /  )_____________</span><span class=\"ch\">\\\\\\\\</span><span class=\"st\">  Y</span><span class=\"ch\">\\n</span><span class=\"st\">'</span></a>\n+<a class=\"sourceLine\" id=\"cb52-7\" title=\"7\">    <span class=\"st\">' /_ /=== == === === =</span><span class=\"ch\">\\\\</span><span class=\"st\"> _</span><span class=\"ch\">\\\\</span><span class=\"st\">_</span><span class=\"ch\">\\n</span><span class=\"st\">'</span></a>\n+<a class=\"sourceLine\" id=\"cb52-8\" title=\"8\">    <span class=\"st\">'( /)=== == === === == Y   </span><span class=\"ch\">\\\\\\n</span><span class=\"st\">'</span></a>\n+<a class=\"sourceLine\" id=\"cb52-9\" title=\"9\">    <span class=\"st\">' `-------------------(  o  )</span><span class=\"ch\">\\n</span><span class=\"st\">'</span></a>\n+<a class=\"sourceLine\" id=\"cb52-10\" title=\"10\">    <span class=\"st\">'                      </span><span class=\"ch\">\\\\</span><span class=\"st\">___/</span><span class=\"ch\">\\n</span><span class=\"st\">'</span>,</a>\n+<a class=\"sourceLine\" id=\"cb52-11\" title=\"11\"><span class=\"st\">'single-quoted'</span>: <span class=\"st\">'EASY_KNOW'</span>,</a>\n+<a class=\"sourceLine\" id=\"cb52-12\" title=\"12\"><span class=\"st\">'double-quoted'</span>: <span class=\"st\">'?'</span>,</a>\n+<a class=\"sourceLine\" id=\"cb52-13\" title=\"13\"><span class=\"st\">'folded'</span>: <span class=\"st\">'It removes all ordinary curses from all equipped items. Heavy or permanent curses are unaffected.</span><span class=\"ch\">\\n</span><span class=\"st\">'</span>}</a></code></pre></div>\n+<p>Each style has its own quirks. A plain scalar does not use indicators to denote its start and end, therefore its the most restricted style. Its natural applications are names of attributes and parameters.</p>\n+<p>Using single-quoted scalars, you may express any value that does not contain special characters. No escaping occurs for single quoted scalars except that a pair of adjacent quotes <code>''</code> is replaced with a lone single quote <code>'</code>.</p>\n+<p>Double-quoted is the most powerful style and the only style that can express any scalar value. Double-quoted scalars allow <em>escaping</em>. Using escaping sequences <code>\\x*</code> and <code>\\u***</code>, you may express any ASCII or Unicode character.</p>\n+<p>There are two kind of block scalar styles: <em>literal</em> and <em>folded</em>. The literal style is the most suitable style for large block of text such as source code. The folded style is similar to the literal style, but two adjacent non-empty lines are joined to a single line separated by a space character.</p>\n+<h3 id=\"aliases\">Aliases</h3>\n+<p><del><em>Note that PyYAML does not yet support recursive objects.</em></del></p>\n+<p>Using YAML you may represent objects of arbitrary graph-like structures. If you want to refer to the same object from different parts of a document, you need to use anchors and aliases.</p>\n+<p>Anchors are denoted by the <code>&amp;</code> indicator while aliases are denoted by ``. For instance, the document</p>\n+<div class=\"sourceCode\" id=\"cb53\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb53-1\" title=\"1\"><span class=\"fu\">left hand:</span><span class=\"at\"> </span><span class=\"dt\">&amp;A</span></a>\n+<a class=\"sourceLine\" id=\"cb53-2\" title=\"2\">  <span class=\"fu\">name:</span><span class=\"at\"> The Bastard Sword of Eowyn</span></a>\n+<a class=\"sourceLine\" id=\"cb53-3\" title=\"3\">  <span class=\"fu\">weight:</span><span class=\"at\"> </span><span class=\"dv\">30</span></a>\n+<a class=\"sourceLine\" id=\"cb53-4\" title=\"4\"><span class=\"fu\">right hand:</span><span class=\"at\"> </span><span class=\"dt\">*A</span></a></code></pre></div>\n+<p>expresses the idea of a hero holding a heavy sword in both hands.</p>\n+<p>PyYAML now fully supports recursive objects. For instance, the document</p>\n+<div class=\"sourceCode\" id=\"cb54\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb54-1\" title=\"1\"><span class=\"dt\">&amp;A</span> <span class=\"kw\">[</span> <span class=\"dt\">*A</span> <span class=\"kw\">]</span></a></code></pre></div>\n+<p>will produce a list object containing a reference to itself.</p>\n+<h3 id=\"tags\">Tags</h3>\n+<p>Tags are used to denote the type of a YAML node. Standard YAML tags are defined at <a href=\"http://yaml.org/type/index.html\" class=\"uri\">http://yaml.org/type/index.html</a>.</p>\n+<p>Tags may be implicit:</p>\n+<div class=\"sourceCode\" id=\"cb55\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb55-1\" title=\"1\"><span class=\"fu\">boolean:</span><span class=\"at\"> </span><span class=\"ch\">true</span></a>\n+<a class=\"sourceLine\" id=\"cb55-2\" title=\"2\"><span class=\"fu\">integer:</span><span class=\"at\"> </span><span class=\"dv\">3</span></a>\n+<a class=\"sourceLine\" id=\"cb55-3\" title=\"3\"><span class=\"fu\">float:</span><span class=\"at\"> </span><span class=\"fl\">3.14</span></a></code></pre></div>\n+<div class=\"sourceCode\" id=\"cb56\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb56-1\" title=\"1\">{<span class=\"st\">'boolean'</span>: <span class=\"va\">True</span>, <span class=\"st\">'integer'</span>: <span class=\"dv\">3</span>, <span class=\"st\">'float'</span>: <span class=\"fl\">3.14</span>}</a></code></pre></div>\n+<p>or explicit:</p>\n+<div class=\"sourceCode\" id=\"cb57\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb57-1\" title=\"1\"><span class=\"fu\">boolean:</span><span class=\"at\"> </span><span class=\"dt\">!!bool</span><span class=\"at\"> </span><span class=\"st\">&quot;true&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb57-2\" title=\"2\"><span class=\"fu\">integer:</span><span class=\"at\"> </span><span class=\"dt\">!!int</span><span class=\"at\"> </span><span class=\"st\">&quot;3&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb57-3\" title=\"3\"><span class=\"fu\">float:</span><span class=\"at\"> </span><span class=\"dt\">!!float</span><span class=\"at\"> </span><span class=\"st\">&quot;3.14&quot;</span></a></code></pre></div>\n+<div class=\"sourceCode\" id=\"cb58\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb58-1\" title=\"1\">{<span class=\"st\">'boolean'</span>: <span class=\"va\">True</span>, <span class=\"st\">'integer'</span>: <span class=\"dv\">3</span>, <span class=\"st\">'float'</span>: <span class=\"fl\">3.14</span>}</a></code></pre></div>\n+<p>Plain scalars without explicitly defined tags are subject to implicit tag resolution. The scalar value is checked against a set of regular expressions and if one of them matches, the corresponding tag is assigned to the scalar. PyYAML allows an application to add custom implicit tag resolvers.</p>\n+<h2 id=\"yaml-tags-and-python-types\">YAML tags and Python types</h2>\n+<p>The following table describes how nodes with different tags are converted to Python objects.</p>\n+<table>\n+<thead>\n+<tr class=\"header\">\n+<th><em>YAML tag</em></th>\n+<th><em>Python type</em></th>\n+</tr>\n+</thead>\n+<tbody>\n+<tr class=\"odd\">\n+<td><em>Standard YAML tags</em></td>\n+<td></td>\n+</tr>\n+<tr class=\"even\">\n+<td><code>!!null</code></td>\n+<td><code>None</code></td>\n+</tr>\n+<tr class=\"odd\">\n+<td><code>!!bool</code></td>\n+<td><code>bool</code></td>\n+</tr>\n+<tr class=\"even\">\n+<td><code>!!int</code></td>\n+<td><code>int</code> or <code>long</code> (<code>int</code> in Python 3)</td>\n+</tr>\n+<tr class=\"odd\">\n+<td><code>!!float</code></td>\n+<td><code>float</code></td>\n+</tr>\n+<tr class=\"even\">\n+<td><code>!!binary</code></td>\n+<td><code>str</code> (<code>bytes</code> in Python 3)</td>\n+</tr>\n+<tr class=\"odd\">\n+<td><code>!!timestamp</code></td>\n+<td><code>datetime.datetime</code></td>\n+</tr>\n+<tr class=\"even\">\n+<td><code>!!omap</code>, <code>!!pairs</code></td>\n+<td><code>list</code> of pairs</td>\n+</tr>\n+<tr class=\"odd\">\n+<td><code>!!set</code></td>\n+<td><code>set</code></td>\n+</tr>\n+<tr class=\"even\">\n+<td><code>!!str</code></td>\n+<td><code>str</code> or <code>unicode</code> (<code>str</code> in Python 3)</td>\n+</tr>\n+<tr class=\"odd\">\n+<td><code>!!seq</code></td>\n+<td><code>list</code></td>\n+</tr>\n+<tr class=\"even\">\n+<td><code>!!map</code></td>\n+<td><code>dict</code></td>\n+</tr>\n+<tr class=\"odd\">\n+<td><em>Python-specific tags</em></td>\n+<td></td>\n+</tr>\n+<tr class=\"even\">\n+<td><code>!!python/none</code></td>\n+<td><code>None</code></td>\n+</tr>\n+<tr class=\"odd\">\n+<td><code>!!python/bool</code></td>\n+<td><code>bool</code></td>\n+</tr>\n+<tr class=\"even\">\n+<td><code>!!python/bytes</code></td>\n+<td>(<code>bytes</code> in Python 3)</td>\n+</tr>\n+<tr class=\"odd\">\n+<td><code>!!python/str</code></td>\n+<td><code>str</code> (<code>str</code> in Python 3)</td>\n+</tr>\n+<tr class=\"even\">\n+<td><code>!!python/unicode</code></td>\n+<td><code>unicode</code> (<code>str</code> in Python 3)</td>\n+</tr>\n+<tr class=\"odd\">\n+<td><code>!!python/int</code></td>\n+<td><code>int</code></td>\n+</tr>\n+<tr class=\"even\">\n+<td><code>!!python/long</code></td>\n+<td><code>long</code> (<code>int</code> in Python 3)</td>\n+</tr>\n+<tr class=\"odd\">\n+<td><code>!!python/float</code></td>\n+<td><code>float</code></td>\n+</tr>\n+<tr class=\"even\">\n+<td><code>!!python/complex</code></td>\n+<td><code>complex</code></td>\n+</tr>\n+<tr class=\"odd\">\n+<td><code>!!python/list</code></td>\n+<td><code>list</code></td>\n+</tr>\n+<tr class=\"even\">\n+<td><code>!!python/tuple</code></td>\n+<td><code>tuple</code></td>\n+</tr>\n+<tr class=\"odd\">\n+<td><code>!!python/dict</code></td>\n+<td><code>dict</code></td>\n+</tr>\n+<tr class=\"even\">\n+<td><em>Complex Python tags</em></td>\n+<td></td>\n+</tr>\n+<tr class=\"odd\">\n+<td><code>!!python/name:module.name</code></td>\n+<td><code>module.name</code></td>\n+</tr>\n+<tr class=\"even\">\n+<td><code>!!python/module:package.module</code></td>\n+<td><code>package.module</code></td>\n+</tr>\n+<tr class=\"odd\">\n+<td><code>!!python/object:module.cls</code></td>\n+<td><code>module.cls</code> instance</td>\n+</tr>\n+<tr class=\"even\">\n+<td><code>!!python/object/new:module.cls</code></td>\n+<td><code>module.cls</code> instance</td>\n+</tr>\n+<tr class=\"odd\">\n+<td><code>!!python/object/apply:module.f</code></td>\n+<td>value of <code>f(...)</code></td>\n+</tr>\n+</tbody>\n+</table>\n+<h3 id=\"string-conversion-python-2-only\">String conversion (Python 2 only)</h3>\n+<p>There are four tags that are converted to <code>str</code> and <code>unicode</code> values: <code>!!str</code>, <code>!!binary</code>, <code>!!python/str</code>, and <code>!!python/unicode</code>.</p>\n+<p><code>!!str</code>-tagged scalars are converted to <code>str</code> objects if its value is <em>ASCII</em>. Otherwise it is converted to <code>unicode</code>. <code>!!binary</code>-tagged scalars are converted to <code>str</code> objects with its value decoded using the <em>base64</em> encoding. <code>!!python/str</code> scalars are converted to <code>str</code> objects encoded with <em>utf-8</em> encoding. <code>!!python/unicode</code> scalars are converted to <code>unicode</code> objects.</p>\n+<p>Conversely, a <code>str</code> object is converted to 1. a <code>!!str</code> scalar if its value is <em>ASCII</em>. 2. a <code>!!python/str</code> scalar if its value is a correct <em>utf-8</em> sequence. 3. a <code>!!binary</code> scalar otherwise.</p>\n+<p>A <code>unicode</code> object is converted to 1. a <code>!!python/unicode</code> scalar if its value is <em>ASCII</em>. 2. a <code>!!str</code> scalar otherwise.</p>\n+<h3 id=\"string-conversion-python-3-only\">String conversion (Python 3 only)</h3>\n+<p>In Python 3, <code>str</code> objects are converted to <code>!!str</code> scalars and <code>bytes</code> objects to <code>!!binary</code> scalars. For compatibility reasons, tags <code>!!python/str</code> and <code>!!python/unicode</code> are still supported and converted to <code>str</code> objects.</p>\n+<h3 id=\"names-and-modules\">Names and modules</h3>\n+<p>In order to represent static Python objects like functions or classes, you need to use a complex <code>!!python/name</code> tag. For instance, the function <code>yaml.dump</code> can be represented as</p>\n+<div class=\"sourceCode\" id=\"cb59\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb59-1\" title=\"1\"><span class=\"dt\">!!python/name:yaml.dump</span></a></code></pre></div>\n+<p>Similarly, modules are represented using the tag <code>!python/module</code>:</p>\n+<div class=\"sourceCode\" id=\"cb60\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb60-1\" title=\"1\"><span class=\"dt\">!!python/module:yaml</span></a></code></pre></div>\n+<h3 id=\"objects\">Objects</h3>\n+<p>Any pickleable object can be serialized using the <code>!!python/object</code> tag:</p>\n+<div class=\"sourceCode\" id=\"cb61\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb61-1\" title=\"1\"><span class=\"dt\">!!python/object:module.Class</span> <span class=\"kw\">{</span> <span class=\"fu\">attribute:</span><span class=\"at\"> value</span><span class=\"kw\">,</span> ... <span class=\"kw\">}</span></a></code></pre></div>\n+<p>In order to support the pickle protocol, two additional forms of the <code>!!python/object</code> tag are provided:</p>\n+<div class=\"sourceCode\" id=\"cb62\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb62-1\" title=\"1\"><span class=\"dt\">!!python/object/new:module.Class</span></a>\n+<a class=\"sourceLine\" id=\"cb62-2\" title=\"2\"><span class=\"fu\">args:</span><span class=\"at\"> </span><span class=\"kw\">[</span>argument<span class=\"kw\">,</span> ...<span class=\"kw\">]</span></a>\n+<a class=\"sourceLine\" id=\"cb62-3\" title=\"3\"><span class=\"fu\">kwds:</span><span class=\"at\"> </span><span class=\"kw\">{</span><span class=\"fu\">key:</span><span class=\"at\"> value</span><span class=\"kw\">,</span> ...<span class=\"kw\">}</span></a>\n+<a class=\"sourceLine\" id=\"cb62-4\" title=\"4\"><span class=\"fu\">state:</span><span class=\"at\"> ...</span></a>\n+<a class=\"sourceLine\" id=\"cb62-5\" title=\"5\"><span class=\"fu\">listitems:</span><span class=\"at\"> </span><span class=\"kw\">[</span>item<span class=\"kw\">,</span> ...<span class=\"kw\">]</span></a>\n+<a class=\"sourceLine\" id=\"cb62-6\" title=\"6\"><span class=\"fu\">dictitems:</span><span class=\"at\"> </span><span class=\"kw\">[</span><span class=\"fu\">key:</span><span class=\"at\"> value</span><span class=\"kw\">,</span> ...<span class=\"kw\">]</span></a>\n+<a class=\"sourceLine\" id=\"cb62-7\" title=\"7\"></a>\n+<a class=\"sourceLine\" id=\"cb62-8\" title=\"8\"><span class=\"dt\">!!python/object/apply:module.function</span></a>\n+<a class=\"sourceLine\" id=\"cb62-9\" title=\"9\"><span class=\"fu\">args:</span><span class=\"at\"> </span><span class=\"kw\">[</span>argument<span class=\"kw\">,</span> ...<span class=\"kw\">]</span></a>\n+<a class=\"sourceLine\" id=\"cb62-10\" title=\"10\"><span class=\"fu\">kwds:</span><span class=\"at\"> </span><span class=\"kw\">{</span><span class=\"fu\">key:</span><span class=\"at\"> value</span><span class=\"kw\">,</span> ...<span class=\"kw\">}</span></a>\n+<a class=\"sourceLine\" id=\"cb62-11\" title=\"11\"><span class=\"fu\">state:</span><span class=\"at\"> ...</span></a>\n+<a class=\"sourceLine\" id=\"cb62-12\" title=\"12\"><span class=\"fu\">listitems:</span><span class=\"at\"> </span><span class=\"kw\">[</span>item<span class=\"kw\">,</span> ...<span class=\"kw\">]</span></a>\n+<a class=\"sourceLine\" id=\"cb62-13\" title=\"13\"><span class=\"fu\">dictitems:</span><span class=\"at\"> </span><span class=\"kw\">[</span><span class=\"fu\">key:</span><span class=\"at\"> value</span><span class=\"kw\">,</span> ...<span class=\"kw\">]</span></a></code></pre></div>\n+<p>If only the <code>args</code> field is non-empty, the above records can be shortened:</p>\n+<div class=\"sourceCode\" id=\"cb63\"><pre class=\"sourceCode yaml\"><code class=\"sourceCode yaml\"><a class=\"sourceLine\" id=\"cb63-1\" title=\"1\"><span class=\"dt\">!!python/object/new:module.Class</span> <span class=\"kw\">[</span>argument<span class=\"kw\">,</span> ...<span class=\"kw\">]</span></a>\n+<a class=\"sourceLine\" id=\"cb63-2\" title=\"2\"></a>\n+<a class=\"sourceLine\" id=\"cb63-3\" title=\"3\"><span class=\"dt\">!!python/object/apply:module.function</span> <span class=\"kw\">[</span>argument<span class=\"kw\">,</span> ...<span class=\"kw\">]</span></a></code></pre></div>\n+<h2 id=\"reference\">Reference</h2>\n+<p><em>Warning: API stability is not guaranteed!</em></p>\n+<h3 id=\"the-yaml-package\">The yaml package</h3>\n+<div class=\"sourceCode\" id=\"cb64\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb64-1\" title=\"1\">scan(stream, Loader<span class=\"op\">=</span>Loader)</a></code></pre></div>\n+<p><code>scan(stream)</code> scans the given <code>stream</code> and produces a sequence of tokens.</p>\n+<div class=\"sourceCode\" id=\"cb65\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb65-1\" title=\"1\">parse(stream, Loader<span class=\"op\">=</span>Loader)</a>\n+<a class=\"sourceLine\" id=\"cb65-2\" title=\"2\"></a>\n+<a class=\"sourceLine\" id=\"cb65-3\" title=\"3\">emit(events, stream<span class=\"op\">=</span><span class=\"va\">None</span>, Dumper<span class=\"op\">=</span>Dumper,</a>\n+<a class=\"sourceLine\" id=\"cb65-4\" title=\"4\">    canonical<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb65-5\" title=\"5\">    indent<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb65-6\" title=\"6\">    width<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb65-7\" title=\"7\">    allow_unicode<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb65-8\" title=\"8\">    line_break<span class=\"op\">=</span><span class=\"va\">None</span>)</a></code></pre></div>\n+<p><code>parse(stream)</code> parses the given <code>stream</code> and produces a sequence of parsing events.</p>\n+<p><code>emit(events, stream=None)</code> serializes the given sequence of parsing <code>events</code> and writes them to the <code>stream</code>. if <code>stream</code> is <code>None</code>, it returns the produced stream.</p>\n+<div class=\"sourceCode\" id=\"cb66\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb66-1\" title=\"1\">compose(stream, Loader<span class=\"op\">=</span>Loader)</a>\n+<a class=\"sourceLine\" id=\"cb66-2\" title=\"2\">compose_all(stream, Loader<span class=\"op\">=</span>Loader)</a>\n+<a class=\"sourceLine\" id=\"cb66-3\" title=\"3\"></a>\n+<a class=\"sourceLine\" id=\"cb66-4\" title=\"4\">serialize(node, stream<span class=\"op\">=</span><span class=\"va\">None</span>, Dumper<span class=\"op\">=</span>Dumper,</a>\n+<a class=\"sourceLine\" id=\"cb66-5\" title=\"5\">    encoding<span class=\"op\">=</span><span class=\"st\">'utf-8'</span>, <span class=\"co\"># encoding=None (Python 3)</span></a>\n+<a class=\"sourceLine\" id=\"cb66-6\" title=\"6\">    explicit_start<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb66-7\" title=\"7\">    explicit_end<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb66-8\" title=\"8\">    version<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb66-9\" title=\"9\">    tags<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb66-10\" title=\"10\">    canonical<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb66-11\" title=\"11\">    indent<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb66-12\" title=\"12\">    width<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb66-13\" title=\"13\">    allow_unicode<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb66-14\" title=\"14\">    line_break<span class=\"op\">=</span><span class=\"va\">None</span>)</a>\n+<a class=\"sourceLine\" id=\"cb66-15\" title=\"15\">serialize_all(nodes, stream<span class=\"op\">=</span><span class=\"va\">None</span>, Dumper<span class=\"op\">=</span>Dumper, ...)</a></code></pre></div>\n+<p><code>compose(stream)</code> parses the given <code>stream</code> and returns the root of the representation graph for the first document in the stream. If there are no documents in the stream, it returns <code>None</code>.</p>\n+<p><code>compose_all(stream)</code> parses the given <code>stream</code> and returns a sequence of representation graphs corresponding to the documents in the stream.</p>\n+<p><code>serialize(node, stream=None)</code> serializes the given representation graph into the <code>stream</code>. If <code>stream</code> is <code>None</code>, it returns the produced stream.</p>\n+<p><code>serialize_all(node, stream=None)</code> serializes the given sequence of representation graphs into the given <code>stream</code>. If <code>stream</code> is <code>None</code>, it returns the produced stream.</p>\n+<div class=\"sourceCode\" id=\"cb67\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb67-1\" title=\"1\">load(stream, Loader<span class=\"op\">=</span>Loader)</a>\n+<a class=\"sourceLine\" id=\"cb67-2\" title=\"2\">load_all(stream, Loader<span class=\"op\">=</span>Loader)</a>\n+<a class=\"sourceLine\" id=\"cb67-3\" title=\"3\"></a>\n+<a class=\"sourceLine\" id=\"cb67-4\" title=\"4\">safe_load(stream)</a>\n+<a class=\"sourceLine\" id=\"cb67-5\" title=\"5\">safe_load_all(stream)</a>\n+<a class=\"sourceLine\" id=\"cb67-6\" title=\"6\"></a>\n+<a class=\"sourceLine\" id=\"cb67-7\" title=\"7\">dump(data, stream<span class=\"op\">=</span><span class=\"va\">None</span>, Dumper<span class=\"op\">=</span>Dumper,</a>\n+<a class=\"sourceLine\" id=\"cb67-8\" title=\"8\">    default_style<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb67-9\" title=\"9\">    default_flow_style<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb67-10\" title=\"10\">    encoding<span class=\"op\">=</span><span class=\"st\">'utf-8'</span>, <span class=\"co\"># encoding=None (Python 3)</span></a>\n+<a class=\"sourceLine\" id=\"cb67-11\" title=\"11\">    explicit_start<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb67-12\" title=\"12\">    explicit_end<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb67-13\" title=\"13\">    version<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb67-14\" title=\"14\">    tags<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb67-15\" title=\"15\">    canonical<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb67-16\" title=\"16\">    indent<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb67-17\" title=\"17\">    width<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb67-18\" title=\"18\">    allow_unicode<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb67-19\" title=\"19\">    line_break<span class=\"op\">=</span><span class=\"va\">None</span>)</a>\n+<a class=\"sourceLine\" id=\"cb67-20\" title=\"20\">dump_all(data, stream<span class=\"op\">=</span><span class=\"va\">None</span>, Dumper<span class=\"op\">=</span>Dumper, ...)</a>\n+<a class=\"sourceLine\" id=\"cb67-21\" title=\"21\"></a>\n+<a class=\"sourceLine\" id=\"cb67-22\" title=\"22\">safe_dump(data, stream<span class=\"op\">=</span><span class=\"va\">None</span>, ...)</a>\n+<a class=\"sourceLine\" id=\"cb67-23\" title=\"23\">safe_dump_all(data, stream<span class=\"op\">=</span><span class=\"va\">None</span>, ...)</a></code></pre></div>\n+<p><code>load(stream)</code> parses the given <code>stream</code> and returns a Python object constructed from for the first document in the stream. If there are no documents in the stream, it returns <code>None</code>.</p>\n+<p><code>load_all(stream)</code> parses the given <code>stream</code> and returns a sequence of Python objects corresponding to the documents in the stream.</p>\n+<p><code>safe_load(stream)</code> parses the given <code>stream</code> and returns a Python object constructed from for the first document in the stream. If there are no documents in the stream, it returns <code>None</code>. <code>safe_load</code> recognizes only standard YAML tags and cannot construct an arbitrary Python object.</p>\n+<p>A python object can be marked as safe and thus be recognized by <code>yaml.safe_load</code>. To do this, derive it from <code>yaml.YAMLObject</code> (as explained in section <em>Constructors, representers, resolvers</em>) and explicitly set its class property <code>yaml_loader</code> to <code>yaml.SafeLoader</code>.</p>\n+<p><code>safe_load_all(stream)</code> parses the given <code>stream</code> and returns a sequence of Python objects corresponding to the documents in the stream. <code>safe_load_all</code> recognizes only standard YAML tags and cannot construct an arbitrary Python object.</p>\n+<p><code>dump(data, stream=None)</code> serializes the given Python object into the <code>stream</code>. If <code>stream</code> is <code>None</code>, it returns the produced stream.</p>\n+<p><code>dump_all(data, stream=None)</code> serializes the given sequence of Python objects into the given <code>stream</code>. If <code>stream</code> is <code>None</code>, it returns the produced stream. Each object is represented as a YAML document.</p>\n+<p><code>safe_dump(data, stream=None)</code> serializes the given Python object into the <code>stream</code>. If <code>stream</code> is <code>None</code>, it returns the produced stream. <code>safe_dump</code> produces only standard YAML tags and cannot represent an arbitrary Python object.</p>\n+<p><code>safe_dump_all(data, stream=None)</code> serializes the given sequence of Python objects into the given <code>stream</code>. If <code>stream</code> is <code>None</code>, it returns the produced stream. Each object is represented as a YAML document. <code>safe_dump_all</code> produces only standard YAML tags and cannot represent an arbitrary Python object.</p>\n+<div class=\"sourceCode\" id=\"cb68\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb68-1\" title=\"1\"><span class=\"kw\">def</span> constructor(loader, node):</a>\n+<a class=\"sourceLine\" id=\"cb68-2\" title=\"2\">    <span class=\"co\"># ...</span></a>\n+<a class=\"sourceLine\" id=\"cb68-3\" title=\"3\">    <span class=\"cf\">return</span> data</a>\n+<a class=\"sourceLine\" id=\"cb68-4\" title=\"4\"></a>\n+<a class=\"sourceLine\" id=\"cb68-5\" title=\"5\"><span class=\"kw\">def</span> multi_constructor(loader, tag_suffix, node):</a>\n+<a class=\"sourceLine\" id=\"cb68-6\" title=\"6\">    <span class=\"co\"># ...</span></a>\n+<a class=\"sourceLine\" id=\"cb68-7\" title=\"7\">    <span class=\"cf\">return</span> data</a>\n+<a class=\"sourceLine\" id=\"cb68-8\" title=\"8\"></a>\n+<a class=\"sourceLine\" id=\"cb68-9\" title=\"9\">add_constructor(tag, constructor, Loader<span class=\"op\">=</span>Loader)</a>\n+<a class=\"sourceLine\" id=\"cb68-10\" title=\"10\">add_multi_constructor(tag_prefix, multi_constructor, Loader<span class=\"op\">=</span>Loader)</a></code></pre></div>\n+<p><code>add_constructor(tag, constructor)</code> specifies a <code>constructor</code> for the given <code>tag</code>. A constructor is a function that converts a node of a YAML representation graph to a native Python object. A constructor accepts an instance of <code>Loader</code> and a node and returns a Python object.</p>\n+<p><code>add_multi_constructor(tag_prefix, multi_constructor)</code> specifies a <code>multi_constructor</code> for the given <code>tag_prefix</code>. A multi-constructor is a function that converts a node of a YAML representation graph to a native Python object. A multi-constructor accepts an instance of <code>Loader</code>, the suffix of the node tag, and a node and returns a Python object.</p>\n+<div class=\"sourceCode\" id=\"cb69\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb69-1\" title=\"1\"><span class=\"kw\">def</span> representer(dumper, data):</a>\n+<a class=\"sourceLine\" id=\"cb69-2\" title=\"2\">    <span class=\"co\"># ...</span></a>\n+<a class=\"sourceLine\" id=\"cb69-3\" title=\"3\">    <span class=\"cf\">return</span> node</a>\n+<a class=\"sourceLine\" id=\"cb69-4\" title=\"4\"></a>\n+<a class=\"sourceLine\" id=\"cb69-5\" title=\"5\"><span class=\"kw\">def</span> multi_representer(dumper, data):</a>\n+<a class=\"sourceLine\" id=\"cb69-6\" title=\"6\">    <span class=\"co\"># ...</span></a>\n+<a class=\"sourceLine\" id=\"cb69-7\" title=\"7\">    <span class=\"cf\">return</span> node</a>\n+<a class=\"sourceLine\" id=\"cb69-8\" title=\"8\"></a>\n+<a class=\"sourceLine\" id=\"cb69-9\" title=\"9\">add_representer(data_type, representer, Dumper<span class=\"op\">=</span>Dumper)</a>\n+<a class=\"sourceLine\" id=\"cb69-10\" title=\"10\">add_multi_representer(base_data_type, multi_representer, Dumper<span class=\"op\">=</span>Dumper)</a></code></pre></div>\n+<p><code>add_representer(data_type, representer)</code> specifies a <code>representer</code> for Python objects of the given <code>data_type</code>. A representer is a function that converts a native Python object to a node of a YAML representation graph. A representer accepts an instance of <code>Dumper</code> and an object and returns a node.</p>\n+<p><code>add_multi_representer(base_data_type, multi_representer)</code> specifies a <code>multi_representer</code> for Python objects of the given <code>base_data_type</code> or any of its subclasses. A multi-representer is a function that converts a native Python object to a node of a YAML representation graph. A multi-representer accepts an instance of <code>Dumper</code> and an object and returns a node.</p>\n+<div class=\"sourceCode\" id=\"cb70\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb70-1\" title=\"1\">add_implicit_resolver(tag, regexp, first, Loader<span class=\"op\">=</span>Loader, Dumper<span class=\"op\">=</span>Dumper)</a>\n+<a class=\"sourceLine\" id=\"cb70-2\" title=\"2\">add_path_resolver(tag, path, kind, Loader<span class=\"op\">=</span>Loader, Dumper<span class=\"op\">=</span>Dumper)</a></code></pre></div>\n+<p><code>add_implicit_resolver(tag, regexp, first)</code> adds an implicit tag resolver for plain scalars. If the scalar value is matched the given <code>regexp</code>, it is assigned the <code>tag</code>. <code>first</code> is a list of possible initial characters or <code>None</code>.</p>\n+<p><code>add_path_resolver(tag, path, kind)</code> adds a path-based implicit tag resolver. A <code>path</code> is a list of keys that form a path to a node in the representation graph. Paths elements can be string values, integers, or <code>None</code>. The <code>kind</code> of a node can be <code>str</code>, <code>list</code>, <code>dict</code>, or <code>None</code>.</p>\n+<h3 id=\"mark\">Mark</h3>\n+<div class=\"sourceCode\" id=\"cb71\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb71-1\" title=\"1\">Mark(name, index, line, column, <span class=\"bu\">buffer</span>, pointer)</a></code></pre></div>\n+<p>An instance of <code>Mark</code> points to a certain position in the input stream. <code>name</code> is the name of the stream, for instance it may be the filename if the input stream is a file. <code>line</code> and <code>column</code> is the line and column of the position (starting from 0). <code>buffer</code>, when it is not <code>None</code>, is a part of the input stream that contain the position and <code>pointer</code> refers to the position in the <code>buffer</code>.</p>\n+<h3 id=\"yamlerror\">YAMLError</h3>\n+<div class=\"sourceCode\" id=\"cb72\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb72-1\" title=\"1\">YAMLError()</a></code></pre></div>\n+<p>If the YAML parser encounters an error condition, it raises an exception which is an instance of <code>YAMLError</code> or of its subclass. An application may catch this exception and warn a user.</p>\n+<div class=\"sourceCode\" id=\"cb73\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb73-1\" title=\"1\"><span class=\"cf\">try</span>:</a>\n+<a class=\"sourceLine\" id=\"cb73-2\" title=\"2\">    config <span class=\"op\">=</span> yaml.load(<span class=\"bu\">file</span>(<span class=\"st\">'config.yaml'</span>, <span class=\"st\">'r'</span>))</a>\n+<a class=\"sourceLine\" id=\"cb73-3\" title=\"3\"><span class=\"cf\">except</span> yaml.YAMLError, exc:</a>\n+<a class=\"sourceLine\" id=\"cb73-4\" title=\"4\">    <span class=\"bu\">print</span> <span class=\"st\">&quot;Error in configuration file:&quot;</span>, exc</a></code></pre></div>\n+<p>An exception produced by the YAML processor may point to the problematic position.</p>\n+<div class=\"sourceCode\" id=\"cb74\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb74-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"cf\">try</span>:</a>\n+<a class=\"sourceLine\" id=\"cb74-2\" title=\"2\">...     yaml.load(<span class=\"st\">&quot;unbalanced blackets: ][&quot;</span>)</a>\n+<a class=\"sourceLine\" id=\"cb74-3\" title=\"3\">... <span class=\"cf\">except</span> yaml.YAMLError, exc:</a>\n+<a class=\"sourceLine\" id=\"cb74-4\" title=\"4\">...     <span class=\"cf\">if</span> <span class=\"bu\">hasattr</span>(exc, <span class=\"st\">'problem_mark'</span>):</a>\n+<a class=\"sourceLine\" id=\"cb74-5\" title=\"5\">...         mark <span class=\"op\">=</span> exc.problem_mark</a>\n+<a class=\"sourceLine\" id=\"cb74-6\" title=\"6\">...         <span class=\"bu\">print</span> <span class=\"st\">&quot;Error position: (</span><span class=\"sc\">%s</span><span class=\"st\">:</span><span class=\"sc\">%s</span><span class=\"st\">)&quot;</span> <span class=\"op\">%</span> (mark.line<span class=\"op\">+</span><span class=\"dv\">1</span>, mark.column<span class=\"op\">+</span><span class=\"dv\">1</span>)</a>\n+<a class=\"sourceLine\" id=\"cb74-7\" title=\"7\"></a>\n+<a class=\"sourceLine\" id=\"cb74-8\" title=\"8\">Error position: (<span class=\"dv\">1</span>:<span class=\"dv\">22</span>)</a></code></pre></div>\n+<h3 id=\"tokens\">Tokens</h3>\n+<p>Tokens are produced by a YAML scanner. They are not really useful except for low-level YAML applications such as syntax highlighting.</p>\n+<p>The PyYAML scanner produces the following types of tokens:</p>\n+<div class=\"sourceCode\" id=\"cb75\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb75-1\" title=\"1\">StreamStartToken(encoding, start_mark, end_mark) <span class=\"co\"># Start of the stream.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-2\" title=\"2\">StreamEndToken(start_mark, end_mark) <span class=\"co\"># End of the stream.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-3\" title=\"3\">DirectiveToken(name, value, start_mark, end_mark) <span class=\"co\"># YAML directive, either %YAML or %TAG.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-4\" title=\"4\">DocumentStartToken(start_mark, end_mark) <span class=\"co\"># '---'.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-5\" title=\"5\">DocumentEndToken(start_mark, end_mark) <span class=\"co\"># '...'.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-6\" title=\"6\">BlockSequenceStartToken(start_mark, end_mark) <span class=\"co\"># Start of a new block sequence.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-7\" title=\"7\">BlockMappingStartToken(start_mark, end_mark) <span class=\"co\"># Start of a new block mapping.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-8\" title=\"8\">BlockEndToken(start_mark, end_mark) <span class=\"co\"># End of a block collection.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-9\" title=\"9\">FlowSequenceStartToken(start_mark, end_mark) <span class=\"co\"># '['.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-10\" title=\"10\">FlowMappingStartToken(start_mark, end_mark) <span class=\"co\"># '{'.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-11\" title=\"11\">FlowSequenceEndToken(start_mark, end_mark) <span class=\"co\"># ']'.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-12\" title=\"12\">FlowMappingEndToken(start_mark, end_mark) <span class=\"co\"># '}'.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-13\" title=\"13\">KeyToken(start_mark, end_mark) <span class=\"co\"># Either '?' or start of a simple key.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-14\" title=\"14\">ValueToken(start_mark, end_mark) <span class=\"co\"># ':'.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-15\" title=\"15\">BlockEntryToken(start_mark, end_mark) <span class=\"co\"># '-'.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-16\" title=\"16\">FlowEntryToken(start_mark, end_mark) <span class=\"co\"># ','.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-17\" title=\"17\">AliasToken(value, start_mark, end_mark) <span class=\"co\"># '*value'.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-18\" title=\"18\">AnchorToken(value, start_mark, end_mark) <span class=\"co\"># '&amp;value'.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-19\" title=\"19\">TagToken(value, start_mark, end_mark) <span class=\"co\"># '!value'.</span></a>\n+<a class=\"sourceLine\" id=\"cb75-20\" title=\"20\">ScalarToken(value, plain, style, start_mark, end_mark) <span class=\"co\"># 'value'.</span></a></code></pre></div>\n+<p><code>start_mark</code> and <code>end_mark</code> denote the beginning and the end of a token.</p>\n+<p>Example:</p>\n+<div class=\"sourceCode\" id=\"cb76\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb76-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> document <span class=\"op\">=</span> <span class=\"st\">&quot;&quot;&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb76-2\" title=\"2\"><span class=\"st\">... ---</span></a>\n+<a class=\"sourceLine\" id=\"cb76-3\" title=\"3\"><span class=\"st\">... block sequence:</span></a>\n+<a class=\"sourceLine\" id=\"cb76-4\" title=\"4\"><span class=\"st\">... - BlockEntryToken</span></a>\n+<a class=\"sourceLine\" id=\"cb76-5\" title=\"5\"><span class=\"st\">... block mapping:</span></a>\n+<a class=\"sourceLine\" id=\"cb76-6\" title=\"6\"><span class=\"st\">...   ? KeyToken</span></a>\n+<a class=\"sourceLine\" id=\"cb76-7\" title=\"7\"><span class=\"st\">...   : ValueToken</span></a>\n+<a class=\"sourceLine\" id=\"cb76-8\" title=\"8\"><span class=\"st\">... flow sequence: [FlowEntryToken, FlowEntryToken]</span></a>\n+<a class=\"sourceLine\" id=\"cb76-9\" title=\"9\"><span class=\"st\">... flow mapping: {KeyToken: ValueToken}</span></a>\n+<a class=\"sourceLine\" id=\"cb76-10\" title=\"10\"><span class=\"st\">... anchors and tags:</span></a>\n+<a class=\"sourceLine\" id=\"cb76-11\" title=\"11\"><span class=\"st\">... - &amp;A !!int '5'</span></a>\n+<a class=\"sourceLine\" id=\"cb76-12\" title=\"12\"><span class=\"st\">... - *A</span></a>\n+<a class=\"sourceLine\" id=\"cb76-13\" title=\"13\"><span class=\"st\">... ...</span></a>\n+<a class=\"sourceLine\" id=\"cb76-14\" title=\"14\"><span class=\"st\">... &quot;&quot;&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb76-15\" title=\"15\"></a>\n+<a class=\"sourceLine\" id=\"cb76-16\" title=\"16\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"cf\">for</span> token <span class=\"kw\">in</span> yaml.scan(document):</a>\n+<a class=\"sourceLine\" id=\"cb76-17\" title=\"17\">...     <span class=\"bu\">print</span> token</a>\n+<a class=\"sourceLine\" id=\"cb76-18\" title=\"18\"></a>\n+<a class=\"sourceLine\" id=\"cb76-19\" title=\"19\">StreamStartToken(encoding<span class=\"op\">=</span><span class=\"st\">'utf-8'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb76-20\" title=\"20\"></a>\n+<a class=\"sourceLine\" id=\"cb76-21\" title=\"21\">DocumentStartToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-22\" title=\"22\"></a>\n+<a class=\"sourceLine\" id=\"cb76-23\" title=\"23\">BlockMappingStartToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-24\" title=\"24\"></a>\n+<a class=\"sourceLine\" id=\"cb76-25\" title=\"25\">KeyToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-26\" title=\"26\">ScalarToken(plain<span class=\"op\">=</span><span class=\"va\">True</span>, style<span class=\"op\">=</span><span class=\"va\">None</span>, value<span class=\"op\">=</span><span class=\"st\">u'block sequence'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb76-27\" title=\"27\"></a>\n+<a class=\"sourceLine\" id=\"cb76-28\" title=\"28\">ValueToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-29\" title=\"29\">BlockEntryToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-30\" title=\"30\">ScalarToken(plain<span class=\"op\">=</span><span class=\"va\">True</span>, style<span class=\"op\">=</span><span class=\"va\">None</span>, value<span class=\"op\">=</span><span class=\"st\">u'BlockEntryToken'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb76-31\" title=\"31\"></a>\n+<a class=\"sourceLine\" id=\"cb76-32\" title=\"32\">KeyToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-33\" title=\"33\">ScalarToken(plain<span class=\"op\">=</span><span class=\"va\">True</span>, style<span class=\"op\">=</span><span class=\"va\">None</span>, value<span class=\"op\">=</span><span class=\"st\">u'block mapping'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb76-34\" title=\"34\"></a>\n+<a class=\"sourceLine\" id=\"cb76-35\" title=\"35\">ValueToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-36\" title=\"36\">BlockMappingStartToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-37\" title=\"37\"></a>\n+<a class=\"sourceLine\" id=\"cb76-38\" title=\"38\">KeyToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-39\" title=\"39\">ScalarToken(plain<span class=\"op\">=</span><span class=\"va\">True</span>, style<span class=\"op\">=</span><span class=\"va\">None</span>, value<span class=\"op\">=</span><span class=\"st\">u'KeyToken'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb76-40\" title=\"40\">ValueToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-41\" title=\"41\">ScalarToken(plain<span class=\"op\">=</span><span class=\"va\">True</span>, style<span class=\"op\">=</span><span class=\"va\">None</span>, value<span class=\"op\">=</span><span class=\"st\">u'ValueToken'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb76-42\" title=\"42\">BlockEndToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-43\" title=\"43\"></a>\n+<a class=\"sourceLine\" id=\"cb76-44\" title=\"44\">KeyToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-45\" title=\"45\">ScalarToken(plain<span class=\"op\">=</span><span class=\"va\">True</span>, style<span class=\"op\">=</span><span class=\"va\">None</span>, value<span class=\"op\">=</span><span class=\"st\">u'flow sequence'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb76-46\" title=\"46\"></a>\n+<a class=\"sourceLine\" id=\"cb76-47\" title=\"47\">ValueToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-48\" title=\"48\">FlowSequenceStartToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-49\" title=\"49\">ScalarToken(plain<span class=\"op\">=</span><span class=\"va\">True</span>, style<span class=\"op\">=</span><span class=\"va\">None</span>, value<span class=\"op\">=</span><span class=\"st\">u'FlowEntryToken'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb76-50\" title=\"50\">FlowEntryToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-51\" title=\"51\">ScalarToken(plain<span class=\"op\">=</span><span class=\"va\">True</span>, style<span class=\"op\">=</span><span class=\"va\">None</span>, value<span class=\"op\">=</span><span class=\"st\">u'FlowEntryToken'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb76-52\" title=\"52\">FlowSequenceEndToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-53\" title=\"53\"></a>\n+<a class=\"sourceLine\" id=\"cb76-54\" title=\"54\">KeyToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-55\" title=\"55\">ScalarToken(plain<span class=\"op\">=</span><span class=\"va\">True</span>, style<span class=\"op\">=</span><span class=\"va\">None</span>, value<span class=\"op\">=</span><span class=\"st\">u'flow mapping'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb76-56\" title=\"56\"></a>\n+<a class=\"sourceLine\" id=\"cb76-57\" title=\"57\">ValueToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-58\" title=\"58\">FlowMappingStartToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-59\" title=\"59\">KeyToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-60\" title=\"60\">ScalarToken(plain<span class=\"op\">=</span><span class=\"va\">True</span>, style<span class=\"op\">=</span><span class=\"va\">None</span>, value<span class=\"op\">=</span><span class=\"st\">u'KeyToken'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb76-61\" title=\"61\">ValueToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-62\" title=\"62\">ScalarToken(plain<span class=\"op\">=</span><span class=\"va\">True</span>, style<span class=\"op\">=</span><span class=\"va\">None</span>, value<span class=\"op\">=</span><span class=\"st\">u'ValueToken'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb76-63\" title=\"63\">FlowMappingEndToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-64\" title=\"64\"></a>\n+<a class=\"sourceLine\" id=\"cb76-65\" title=\"65\">KeyToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-66\" title=\"66\">ScalarToken(plain<span class=\"op\">=</span><span class=\"va\">True</span>, style<span class=\"op\">=</span><span class=\"va\">None</span>, value<span class=\"op\">=</span><span class=\"st\">u'anchors and tags'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb76-67\" title=\"67\"></a>\n+<a class=\"sourceLine\" id=\"cb76-68\" title=\"68\">ValueToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-69\" title=\"69\">BlockEntryToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-70\" title=\"70\">AnchorToken(value<span class=\"op\">=</span><span class=\"st\">u'A'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb76-71\" title=\"71\">TagToken(value<span class=\"op\">=</span>(<span class=\"st\">u'!!'</span>, <span class=\"st\">u'int'</span>))</a>\n+<a class=\"sourceLine\" id=\"cb76-72\" title=\"72\">ScalarToken(plain<span class=\"op\">=</span><span class=\"va\">False</span>, style<span class=\"op\">=</span><span class=\"st\">&quot;'&quot;</span>, value<span class=\"op\">=</span><span class=\"st\">u'5'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb76-73\" title=\"73\"></a>\n+<a class=\"sourceLine\" id=\"cb76-74\" title=\"74\">BlockEntryToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-75\" title=\"75\">AliasToken(value<span class=\"op\">=</span><span class=\"st\">u'A'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb76-76\" title=\"76\"></a>\n+<a class=\"sourceLine\" id=\"cb76-77\" title=\"77\">BlockEndToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-78\" title=\"78\"></a>\n+<a class=\"sourceLine\" id=\"cb76-79\" title=\"79\">DocumentEndToken()</a>\n+<a class=\"sourceLine\" id=\"cb76-80\" title=\"80\"></a>\n+<a class=\"sourceLine\" id=\"cb76-81\" title=\"81\">StreamEndToken()</a></code></pre></div>\n+<h3 id=\"events\">Events</h3>\n+<p>Events are used by the low-level Parser and Emitter interfaces, which are similar to the SAX API. While the Parser parses a YAML stream and produces a sequence of events, the Emitter accepts a sequence of events and emits a YAML stream.</p>\n+<p>The following events are defined:</p>\n+<div class=\"sourceCode\" id=\"cb77\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb77-1\" title=\"1\">StreamStartEvent(encoding, start_mark, end_mark)</a>\n+<a class=\"sourceLine\" id=\"cb77-2\" title=\"2\">StreamEndEvent(start_mark, end_mark)</a>\n+<a class=\"sourceLine\" id=\"cb77-3\" title=\"3\">DocumentStartEvent(explicit, version, tags, start_mark, end_mark)</a>\n+<a class=\"sourceLine\" id=\"cb77-4\" title=\"4\">DocumentEndEvent(start_mark, end_mark)</a>\n+<a class=\"sourceLine\" id=\"cb77-5\" title=\"5\">SequenceStartEvent(anchor, tag, implicit, flow_style, start_mark, end_mark)</a>\n+<a class=\"sourceLine\" id=\"cb77-6\" title=\"6\">SequenceEndEvent(start_mark, end_mark)</a>\n+<a class=\"sourceLine\" id=\"cb77-7\" title=\"7\">MappingStartEvent(anchor, tag, implicit, flow_style, start_mark, end_mark)</a>\n+<a class=\"sourceLine\" id=\"cb77-8\" title=\"8\">MappingEndEvent(start_mark, end_mark)</a>\n+<a class=\"sourceLine\" id=\"cb77-9\" title=\"9\">AliasEvent(anchor, start_mark, end_mark)</a>\n+<a class=\"sourceLine\" id=\"cb77-10\" title=\"10\">ScalarEvent(anchor, tag, implicit, value, style, start_mark, end_mark)</a></code></pre></div>\n+<p>The <code>flow_style</code> flag indicates if a collection is block or flow. The possible values are <code>None</code>, <code>True</code>, <code>False</code>. The <code>style</code> flag of a scalar event indicates the style of the scalar. Possible values are <code>None</code>, <code>_</code>, <code>'\\_</code>, <code>'&quot;'</code>, <code>'|'</code>, <code>'&gt;'</code>. The <code>implicit</code> flag of a collection start event indicates if the tag may be omitted when the collection is emitted. The <code>implicit</code> flag of a scalar event is a pair of boolean values that indicate if the tag may be omitted when the scalar is emitted in a plain and non-plain style correspondingly.</p>\n+<p>Example:</p>\n+<div class=\"sourceCode\" id=\"cb78\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb78-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> document <span class=\"op\">=</span> <span class=\"st\">&quot;&quot;&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb78-2\" title=\"2\"><span class=\"st\">... scalar: &amp;A !!int '5'</span></a>\n+<a class=\"sourceLine\" id=\"cb78-3\" title=\"3\"><span class=\"st\">... alias: *A</span></a>\n+<a class=\"sourceLine\" id=\"cb78-4\" title=\"4\"><span class=\"st\">... sequence: [1, 2, 3]</span></a>\n+<a class=\"sourceLine\" id=\"cb78-5\" title=\"5\"><span class=\"st\">... mapping: [1: one, 2: two, 3: three]</span></a>\n+<a class=\"sourceLine\" id=\"cb78-6\" title=\"6\"><span class=\"st\">... &quot;&quot;&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb78-7\" title=\"7\"></a>\n+<a class=\"sourceLine\" id=\"cb78-8\" title=\"8\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"cf\">for</span> event <span class=\"kw\">in</span> yaml.parse(document):</a>\n+<a class=\"sourceLine\" id=\"cb78-9\" title=\"9\">...     <span class=\"bu\">print</span> event</a>\n+<a class=\"sourceLine\" id=\"cb78-10\" title=\"10\"></a>\n+<a class=\"sourceLine\" id=\"cb78-11\" title=\"11\">StreamStartEvent()</a>\n+<a class=\"sourceLine\" id=\"cb78-12\" title=\"12\"></a>\n+<a class=\"sourceLine\" id=\"cb78-13\" title=\"13\">DocumentStartEvent()</a>\n+<a class=\"sourceLine\" id=\"cb78-14\" title=\"14\"></a>\n+<a class=\"sourceLine\" id=\"cb78-15\" title=\"15\">MappingStartEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"va\">None</span>, implicit<span class=\"op\">=</span><span class=\"va\">True</span>)</a>\n+<a class=\"sourceLine\" id=\"cb78-16\" title=\"16\"></a>\n+<a class=\"sourceLine\" id=\"cb78-17\" title=\"17\">ScalarEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"va\">None</span>, implicit<span class=\"op\">=</span>(<span class=\"va\">True</span>, <span class=\"va\">False</span>), value<span class=\"op\">=</span><span class=\"st\">u'scalar'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb78-18\" title=\"18\">ScalarEvent(anchor<span class=\"op\">=</span><span class=\"st\">u'A'</span>, tag<span class=\"op\">=</span><span class=\"st\">u'tag:yaml.org,2002:int'</span>, implicit<span class=\"op\">=</span>(<span class=\"va\">False</span>, <span class=\"va\">False</span>), value<span class=\"op\">=</span><span class=\"st\">u'5'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb78-19\" title=\"19\"></a>\n+<a class=\"sourceLine\" id=\"cb78-20\" title=\"20\">ScalarEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"va\">None</span>, implicit<span class=\"op\">=</span>(<span class=\"va\">True</span>, <span class=\"va\">False</span>), value<span class=\"op\">=</span><span class=\"st\">u'alias'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb78-21\" title=\"21\">AliasEvent(anchor<span class=\"op\">=</span><span class=\"st\">u'A'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb78-22\" title=\"22\"></a>\n+<a class=\"sourceLine\" id=\"cb78-23\" title=\"23\">ScalarEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"va\">None</span>, implicit<span class=\"op\">=</span>(<span class=\"va\">True</span>, <span class=\"va\">False</span>), value<span class=\"op\">=</span><span class=\"st\">u'sequence'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb78-24\" title=\"24\">SequenceStartEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"va\">None</span>, implicit<span class=\"op\">=</span><span class=\"va\">True</span>)</a>\n+<a class=\"sourceLine\" id=\"cb78-25\" title=\"25\">ScalarEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"va\">None</span>, implicit<span class=\"op\">=</span>(<span class=\"va\">True</span>, <span class=\"va\">False</span>), value<span class=\"op\">=</span><span class=\"st\">u'1'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb78-26\" title=\"26\">ScalarEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"va\">None</span>, implicit<span class=\"op\">=</span>(<span class=\"va\">True</span>, <span class=\"va\">False</span>), value<span class=\"op\">=</span><span class=\"st\">u'2'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb78-27\" title=\"27\">ScalarEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"va\">None</span>, implicit<span class=\"op\">=</span>(<span class=\"va\">True</span>, <span class=\"va\">False</span>), value<span class=\"op\">=</span><span class=\"st\">u'3'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb78-28\" title=\"28\">SequenceEndEvent()</a>\n+<a class=\"sourceLine\" id=\"cb78-29\" title=\"29\"></a>\n+<a class=\"sourceLine\" id=\"cb78-30\" title=\"30\">ScalarEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"va\">None</span>, implicit<span class=\"op\">=</span>(<span class=\"va\">True</span>, <span class=\"va\">False</span>), value<span class=\"op\">=</span><span class=\"st\">u'mapping'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb78-31\" title=\"31\">MappingStartEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"va\">None</span>, implicit<span class=\"op\">=</span><span class=\"va\">True</span>)</a>\n+<a class=\"sourceLine\" id=\"cb78-32\" title=\"32\">ScalarEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"va\">None</span>, implicit<span class=\"op\">=</span>(<span class=\"va\">True</span>, <span class=\"va\">False</span>), value<span class=\"op\">=</span><span class=\"st\">u'1'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb78-33\" title=\"33\">ScalarEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"va\">None</span>, implicit<span class=\"op\">=</span>(<span class=\"va\">True</span>, <span class=\"va\">False</span>), value<span class=\"op\">=</span><span class=\"st\">u'one'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb78-34\" title=\"34\">ScalarEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"va\">None</span>, implicit<span class=\"op\">=</span>(<span class=\"va\">True</span>, <span class=\"va\">False</span>), value<span class=\"op\">=</span><span class=\"st\">u'2'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb78-35\" title=\"35\">ScalarEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"va\">None</span>, implicit<span class=\"op\">=</span>(<span class=\"va\">True</span>, <span class=\"va\">False</span>), value<span class=\"op\">=</span><span class=\"st\">u'two'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb78-36\" title=\"36\">ScalarEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"va\">None</span>, implicit<span class=\"op\">=</span>(<span class=\"va\">True</span>, <span class=\"va\">False</span>), value<span class=\"op\">=</span><span class=\"st\">u'3'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb78-37\" title=\"37\">ScalarEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"va\">None</span>, implicit<span class=\"op\">=</span>(<span class=\"va\">True</span>, <span class=\"va\">False</span>), value<span class=\"op\">=</span><span class=\"st\">u'three'</span>)</a>\n+<a class=\"sourceLine\" id=\"cb78-38\" title=\"38\">MappingEndEvent()</a>\n+<a class=\"sourceLine\" id=\"cb78-39\" title=\"39\"></a>\n+<a class=\"sourceLine\" id=\"cb78-40\" title=\"40\">MappingEndEvent()</a>\n+<a class=\"sourceLine\" id=\"cb78-41\" title=\"41\"></a>\n+<a class=\"sourceLine\" id=\"cb78-42\" title=\"42\">DocumentEndEvent()</a>\n+<a class=\"sourceLine\" id=\"cb78-43\" title=\"43\"></a>\n+<a class=\"sourceLine\" id=\"cb78-44\" title=\"44\">StreamEndEvent()</a>\n+<a class=\"sourceLine\" id=\"cb78-45\" title=\"45\"></a>\n+<a class=\"sourceLine\" id=\"cb78-46\" title=\"46\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.emit([</a>\n+<a class=\"sourceLine\" id=\"cb78-47\" title=\"47\">...     yaml.StreamStartEvent(encoding<span class=\"op\">=</span><span class=\"st\">'utf-8'</span>),</a>\n+<a class=\"sourceLine\" id=\"cb78-48\" title=\"48\">...     yaml.DocumentStartEvent(explicit<span class=\"op\">=</span><span class=\"va\">True</span>),</a>\n+<a class=\"sourceLine\" id=\"cb78-49\" title=\"49\">...     yaml.MappingStartEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"st\">u'tag:yaml.org,2002:map'</span>, implicit<span class=\"op\">=</span><span class=\"va\">True</span>, flow_style<span class=\"op\">=</span><span class=\"va\">False</span>),</a>\n+<a class=\"sourceLine\" id=\"cb78-50\" title=\"50\">...     yaml.ScalarEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"st\">u'tag:yaml.org,2002:str'</span>, implicit<span class=\"op\">=</span>(<span class=\"va\">True</span>, <span class=\"va\">True</span>), value<span class=\"op\">=</span><span class=\"st\">u'agile languages'</span>),</a>\n+<a class=\"sourceLine\" id=\"cb78-51\" title=\"51\">...     yaml.SequenceStartEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"st\">u'tag:yaml.org,2002:seq'</span>, implicit<span class=\"op\">=</span><span class=\"va\">True</span>, flow_style<span class=\"op\">=</span><span class=\"va\">True</span>),</a>\n+<a class=\"sourceLine\" id=\"cb78-52\" title=\"52\">...     yaml.ScalarEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"st\">u'tag:yaml.org,2002:str'</span>, implicit<span class=\"op\">=</span>(<span class=\"va\">True</span>, <span class=\"va\">True</span>), value<span class=\"op\">=</span><span class=\"st\">u'Python'</span>),</a>\n+<a class=\"sourceLine\" id=\"cb78-53\" title=\"53\">...     yaml.ScalarEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"st\">u'tag:yaml.org,2002:str'</span>, implicit<span class=\"op\">=</span>(<span class=\"va\">True</span>, <span class=\"va\">True</span>), value<span class=\"op\">=</span><span class=\"st\">u'Perl'</span>),</a>\n+<a class=\"sourceLine\" id=\"cb78-54\" title=\"54\">...     yaml.ScalarEvent(anchor<span class=\"op\">=</span><span class=\"va\">None</span>, tag<span class=\"op\">=</span><span class=\"st\">u'tag:yaml.org,2002:str'</span>, implicit<span class=\"op\">=</span>(<span class=\"va\">True</span>, <span class=\"va\">True</span>), value<span class=\"op\">=</span><span class=\"st\">u'Ruby'</span>),</a>\n+<a class=\"sourceLine\" id=\"cb78-55\" title=\"55\">...     yaml.SequenceEndEvent(),</a>\n+<a class=\"sourceLine\" id=\"cb78-56\" title=\"56\">...     yaml.MappingEndEvent(),</a>\n+<a class=\"sourceLine\" id=\"cb78-57\" title=\"57\">...     yaml.DocumentEndEvent(explicit<span class=\"op\">=</span><span class=\"va\">True</span>),</a>\n+<a class=\"sourceLine\" id=\"cb78-58\" title=\"58\">...     yaml.StreamEndEvent(),</a>\n+<a class=\"sourceLine\" id=\"cb78-59\" title=\"59\">... ])</a>\n+<a class=\"sourceLine\" id=\"cb78-60\" title=\"60\"></a>\n+<a class=\"sourceLine\" id=\"cb78-61\" title=\"61\"><span class=\"op\">---</span></a>\n+<a class=\"sourceLine\" id=\"cb78-62\" title=\"62\">agile languages: [Python, Perl, Ruby]</a>\n+<a class=\"sourceLine\" id=\"cb78-63\" title=\"63\">...</a></code></pre></div>\n+<h3 id=\"nodes\">Nodes</h3>\n+<p>Nodes are entities in the YAML informational model. There are three kinds of nodes: <em>scalar</em>, <em>sequence</em>, and <em>mapping</em>. In PyYAML, nodes are produced by Composer and can be serialized to a YAML stream by Serializer.</p>\n+<div class=\"sourceCode\" id=\"cb79\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb79-1\" title=\"1\">ScalarNode(tag, value, style, start_mark, end_mark)</a>\n+<a class=\"sourceLine\" id=\"cb79-2\" title=\"2\">SequenceNode(tag, value, flow_style, start_mark, end_mark)</a>\n+<a class=\"sourceLine\" id=\"cb79-3\" title=\"3\">MappingNode(tag, value, flow_style, start_mark, end_mark)</a></code></pre></div>\n+<p>The <code>style</code> and <code>flow_style</code> flags have the same meaning as for events. The value of a scalar node must be a unicode string. The value of a sequence node is a list of nodes. The value of a mapping node is a list of pairs consisting of key and value nodes.</p>\n+<p>Example:</p>\n+<div class=\"sourceCode\" id=\"cb80\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb80-1\" title=\"1\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.compose(<span class=\"st\">&quot;&quot;&quot;</span></a>\n+<a class=\"sourceLine\" id=\"cb80-2\" title=\"2\"><span class=\"st\">... kinds:</span></a>\n+<a class=\"sourceLine\" id=\"cb80-3\" title=\"3\"><span class=\"st\">... - scalar</span></a>\n+<a class=\"sourceLine\" id=\"cb80-4\" title=\"4\"><span class=\"st\">... - sequence</span></a>\n+<a class=\"sourceLine\" id=\"cb80-5\" title=\"5\"><span class=\"st\">... - mapping</span></a>\n+<a class=\"sourceLine\" id=\"cb80-6\" title=\"6\"><span class=\"st\">... &quot;&quot;&quot;</span>)</a>\n+<a class=\"sourceLine\" id=\"cb80-7\" title=\"7\"></a>\n+<a class=\"sourceLine\" id=\"cb80-8\" title=\"8\">MappingNode(tag<span class=\"op\">=</span><span class=\"st\">u'tag:yaml.org,2002:map'</span>, value<span class=\"op\">=</span>[</a>\n+<a class=\"sourceLine\" id=\"cb80-9\" title=\"9\">    (ScalarNode(tag<span class=\"op\">=</span><span class=\"st\">u'tag:yaml.org,2002:str'</span>, value<span class=\"op\">=</span><span class=\"st\">u'kinds'</span>), SequenceNode(tag<span class=\"op\">=</span><span class=\"st\">u'tag:yaml.org,2002:seq'</span>, value<span class=\"op\">=</span>[</a>\n+<a class=\"sourceLine\" id=\"cb80-10\" title=\"10\">        ScalarNode(tag<span class=\"op\">=</span><span class=\"st\">u'tag:yaml.org,2002:str'</span>, value<span class=\"op\">=</span><span class=\"st\">u'scalar'</span>),</a>\n+<a class=\"sourceLine\" id=\"cb80-11\" title=\"11\">        ScalarNode(tag<span class=\"op\">=</span><span class=\"st\">u'tag:yaml.org,2002:str'</span>, value<span class=\"op\">=</span><span class=\"st\">u'sequence'</span>),</a>\n+<a class=\"sourceLine\" id=\"cb80-12\" title=\"12\">        ScalarNode(tag<span class=\"op\">=</span><span class=\"st\">u'tag:yaml.org,2002:str'</span>, value<span class=\"op\">=</span><span class=\"st\">u'mapping'</span>)]))])</a>\n+<a class=\"sourceLine\" id=\"cb80-13\" title=\"13\"></a>\n+<a class=\"sourceLine\" id=\"cb80-14\" title=\"14\"><span class=\"op\">&gt;&gt;&gt;</span> <span class=\"bu\">print</span> yaml.serialize(yaml.SequenceNode(tag<span class=\"op\">=</span><span class=\"st\">u'tag:yaml.org,2002:seq'</span>, value<span class=\"op\">=</span>[</a>\n+<a class=\"sourceLine\" id=\"cb80-15\" title=\"15\">...     yaml.ScalarNode(tag<span class=\"op\">=</span><span class=\"st\">u'tag:yaml.org,2002:str'</span>, value<span class=\"op\">=</span><span class=\"st\">u'scalar'</span>),</a>\n+<a class=\"sourceLine\" id=\"cb80-16\" title=\"16\">...     yaml.ScalarNode(tag<span class=\"op\">=</span><span class=\"st\">u'tag:yaml.org,2002:str'</span>, value<span class=\"op\">=</span><span class=\"st\">u'sequence'</span>),</a>\n+<a class=\"sourceLine\" id=\"cb80-17\" title=\"17\">...     yaml.ScalarNode(tag<span class=\"op\">=</span><span class=\"st\">u'tag:yaml.org,2002:str'</span>, value<span class=\"op\">=</span><span class=\"st\">u'mapping'</span>)]))</a>\n+<a class=\"sourceLine\" id=\"cb80-18\" title=\"18\"></a>\n+<a class=\"sourceLine\" id=\"cb80-19\" title=\"19\"><span class=\"op\">-</span> scalar</a>\n+<a class=\"sourceLine\" id=\"cb80-20\" title=\"20\"><span class=\"op\">-</span> sequence</a>\n+<a class=\"sourceLine\" id=\"cb80-21\" title=\"21\"><span class=\"op\">-</span> mapping</a></code></pre></div>\n+<h3 id=\"loader\">Loader</h3>\n+<div class=\"sourceCode\" id=\"cb81\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb81-1\" title=\"1\">Loader(stream)</a>\n+<a class=\"sourceLine\" id=\"cb81-2\" title=\"2\">SafeLoader(stream)</a>\n+<a class=\"sourceLine\" id=\"cb81-3\" title=\"3\">BaseLoader(stream)</a>\n+<a class=\"sourceLine\" id=\"cb81-4\" title=\"4\"></a>\n+<a class=\"sourceLine\" id=\"cb81-5\" title=\"5\"><span class=\"co\"># The following classes are available only if you build LibYAML bindings.</span></a>\n+<a class=\"sourceLine\" id=\"cb81-6\" title=\"6\">CLoader(stream)</a>\n+<a class=\"sourceLine\" id=\"cb81-7\" title=\"7\">CSafeLoader(stream)</a>\n+<a class=\"sourceLine\" id=\"cb81-8\" title=\"8\">CBaseLoader(stream)</a></code></pre></div>\n+<p><code>Loader(stream)</code> is the most common of the above classes and should be used in most cases. <code>stream</code> is an input YAML stream. It can be a string, a Unicode string, an open file, an open Unicode file.</p>\n+<p><code>Loader</code> supports all predefined tags and may construct an arbitrary Python object. Therefore it is not safe to use <code>Loader</code> to load a document received from an untrusted source. By default, the functions <code>scan</code>, <code>parse</code>, <code>compose</code>, <code>construct</code>, and others use <code>Loader</code>.</p>\n+<p><code>SafeLoader(stream)</code> supports only standard YAML tags and thus it does not construct class instances and probably safe to use with documents received from an untrusted source. The functions <code>safe_load</code> and <code>safe_load_all</code> use <code>SafeLoader</code> to parse a stream.</p>\n+<p><code>BaseLoader(stream)</code> does not resolve or support any tags and construct only basic Python objects: lists, dictionaries and Unicode strings.</p>\n+<p><code>CLoader</code>, <code>CSafeLoader</code>, <code>CBaseLoader</code> are versions of the above classes written in C using the <a href=\"LibYAML\" class=\"uri\">LibYAML</a> library.</p>\n+<div class=\"sourceCode\" id=\"cb82\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb82-1\" title=\"1\">Loader.check_token(<span class=\"op\">*</span>TokenClasses)</a>\n+<a class=\"sourceLine\" id=\"cb82-2\" title=\"2\">Loader.peek_token()</a>\n+<a class=\"sourceLine\" id=\"cb82-3\" title=\"3\">Loader.get_token()</a></code></pre></div>\n+<p><code>Loader.check_token(*TokenClasses)</code> returns <code>True</code> if the next token in the stream is an instance of one of the given <code>TokenClasses</code>. Otherwise it returns <code>False</code>.</p>\n+<p><code>Loader.peek_token()</code> returns the next token in the stream, but does not remove it from the internal token queue. The function returns <code>None</code> at the end of the stream.</p>\n+<p><code>Loader.get_token()</code> returns the next token in the stream and removes it from the internal token queue. The function returns <code>None</code> at the end of the stream.</p>\n+<div class=\"sourceCode\" id=\"cb83\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb83-1\" title=\"1\">Loader.check_event(<span class=\"op\">*</span>EventClasses)</a>\n+<a class=\"sourceLine\" id=\"cb83-2\" title=\"2\">Loader.peek_event()</a>\n+<a class=\"sourceLine\" id=\"cb83-3\" title=\"3\">Loader.get_event()</a></code></pre></div>\n+<p><code>Loader.check_event(*EventClasses)</code> returns <code>True</code> if the next event in the stream is an instance of one of the given <code>EventClasses</code>. Otherwise it returns <code>False</code>.</p>\n+<p><code>Loader.peek_event()</code> returns the next event in the stream, but does not remove it from the internal event queue. The function returns <code>None</code> at the end of the stream.</p>\n+<p><code>Loader.get_event()</code> returns the next event in the stream and removes it from the internal event queue. The function returns <code>None</code> at the end of the stream.</p>\n+<div class=\"sourceCode\" id=\"cb84\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb84-1\" title=\"1\">Loader.check_node()</a>\n+<a class=\"sourceLine\" id=\"cb84-2\" title=\"2\">Loader.get_node()</a></code></pre></div>\n+<p><code>Loader.check_node()</code> returns <code>True</code> is there are more documents available in the stream. Otherwise it returns <code>False</code>.</p>\n+<p><code>Loader.get_node()</code> construct the representation graph of the next document in the stream and returns its root node.</p>\n+<div class=\"sourceCode\" id=\"cb85\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb85-1\" title=\"1\">Loader.check_data()</a>\n+<a class=\"sourceLine\" id=\"cb85-2\" title=\"2\">Loader.get_data()</a>\n+<a class=\"sourceLine\" id=\"cb85-3\" title=\"3\"></a>\n+<a class=\"sourceLine\" id=\"cb85-4\" title=\"4\">Loader.add_constructor(tag, constructor) <span class=\"co\"># Loader.add_constructor is a class method.</span></a>\n+<a class=\"sourceLine\" id=\"cb85-5\" title=\"5\">Loader.add_multi_constructor(tag_prefix, multi_constructor) <span class=\"co\"># Loader.add_multi_constructor is a class method.</span></a>\n+<a class=\"sourceLine\" id=\"cb85-6\" title=\"6\"></a>\n+<a class=\"sourceLine\" id=\"cb85-7\" title=\"7\">Loader.construct_scalar(node)</a>\n+<a class=\"sourceLine\" id=\"cb85-8\" title=\"8\">Loader.construct_sequence(node)</a>\n+<a class=\"sourceLine\" id=\"cb85-9\" title=\"9\">Loader.construct_mapping(node)</a></code></pre></div>\n+<p><code>Loader.check_data()</code> returns <code>True</code> is there are more documents available in the stream. Otherwise it returns <code>False</code>.</p>\n+<p><code>Loader.get_data()</code> constructs and returns a Python object corresponding to the next document in the stream.</p>\n+<p><code>Loader.add_constructor(tag, constructor)</code>: see <code>add_constructor</code>.</p>\n+<p><code>Loader.add_multi_constructor(tag_prefix, multi_constructor)</code>: see <code>add_multi_constructor</code>.</p>\n+<p><code>Loader.construct_scalar(node)</code> checks that the given <code>node</code> is a scalar and returns its value. This function is intended to be used in constructors.</p>\n+<p><code>Loader.construct_sequence(node)</code> checks that the given <code>node</code> is a sequence and returns a list of Python objects corresponding to the node items. This function is intended to be used in constructors.</p>\n+<p><code>Loader.construct_mapping(node)</code> checks that the given <code>node</code> is a mapping and returns a dictionary of Python objects corresponding to the node keys and values. This function is intended to be used in constructors.</p>\n+<div class=\"sourceCode\" id=\"cb86\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb86-1\" title=\"1\">Loader.add_implicit_resolver(tag, regexp, first) <span class=\"co\"># Loader.add_implicit_resolver is a class method.</span></a>\n+<a class=\"sourceLine\" id=\"cb86-2\" title=\"2\">Loader.add_path_resolver(tag, path, kind) <span class=\"co\"># Loader.add_path_resolver is a class method.</span></a></code></pre></div>\n+<p><code>Loader.add_implicit_resolver(tag, regexp, first)</code>: see <code>add_implicit_resolver</code>.</p>\n+<p><code>Loader.add_path_resolver(tag, path, kind)</code>: see <code>add_path_resolver</code>.</p>\n+<h3 id=\"dumper\">Dumper</h3>\n+<div class=\"sourceCode\" id=\"cb87\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb87-1\" title=\"1\">Dumper(stream,</a>\n+<a class=\"sourceLine\" id=\"cb87-2\" title=\"2\">    default_style<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb87-3\" title=\"3\">    default_flow_style<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb87-4\" title=\"4\">    canonical<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb87-5\" title=\"5\">    indent<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb87-6\" title=\"6\">    width<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb87-7\" title=\"7\">    allow_unicode<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb87-8\" title=\"8\">    line_break<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb87-9\" title=\"9\">    encoding<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb87-10\" title=\"10\">    explicit_start<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb87-11\" title=\"11\">    explicit_end<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb87-12\" title=\"12\">    version<span class=\"op\">=</span><span class=\"va\">None</span>,</a>\n+<a class=\"sourceLine\" id=\"cb87-13\" title=\"13\">    tags<span class=\"op\">=</span><span class=\"va\">None</span>)</a>\n+<a class=\"sourceLine\" id=\"cb87-14\" title=\"14\">SafeDumper(stream, ...)</a>\n+<a class=\"sourceLine\" id=\"cb87-15\" title=\"15\">BaseDumper(stream, ...)</a>\n+<a class=\"sourceLine\" id=\"cb87-16\" title=\"16\"></a>\n+<a class=\"sourceLine\" id=\"cb87-17\" title=\"17\"><span class=\"co\"># The following classes are available only if you build LibYAML bindings.</span></a>\n+<a class=\"sourceLine\" id=\"cb87-18\" title=\"18\">CDumper(stream, ...)</a>\n+<a class=\"sourceLine\" id=\"cb87-19\" title=\"19\">CSafeDumper(stream, ...)</a>\n+<a class=\"sourceLine\" id=\"cb87-20\" title=\"20\">CBaseDumper(stream, ...)</a></code></pre></div>\n+<p><code>Dumper(stream)</code> is the most common of the above classes and should be used in most cases. <code>stream</code> is an output YAML stream. It can be an open file or an open Unicode file.</p>\n+<p><code>Dumper</code> supports all predefined tags and may represent an arbitrary Python object. Therefore it may produce a document that cannot be loaded by other YAML processors. By default, the functions <code>emit</code>, <code>serialize</code>, <code>dump</code>, and others use <code>Dumper</code>.</p>\n+<p><code>SafeDumper(stream)</code> produces only standard YAML tags and thus cannot represent class instances and probably more compatible with other YAML processors. The functions <code>safe_dump</code> and <code>safe_dump_all</code> use <code>SafeDumper</code> to produce a YAML document.</p>\n+<p><code>BaseDumper(stream)</code> does not support any tags and is useful only for subclassing.</p>\n+<p><code>CDumper</code>, <code>CSafeDumper</code>, <code>CBaseDumper</code> are versions of the above classes written in C using the <a href=\"LibYAML\" class=\"uri\">LibYAML</a> library.</p>\n+<div class=\"sourceCode\" id=\"cb88\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb88-1\" title=\"1\">Dumper.emit(event)</a></code></pre></div>\n+<p><code>Dumper.emit(event)</code> serializes the given <code>event</code> and writes it to the output stream.</p>\n+<div class=\"sourceCode\" id=\"cb89\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb89-1\" title=\"1\">Dumper.<span class=\"bu\">open</span>()</a>\n+<a class=\"sourceLine\" id=\"cb89-2\" title=\"2\">Dumper.serialize(node)</a>\n+<a class=\"sourceLine\" id=\"cb89-3\" title=\"3\">Dumper.close()</a></code></pre></div>\n+<p><code>Dumper.open()</code> emits <code>StreamStartEvent</code>.</p>\n+<p><code>Dumper.serialize(node)</code> serializes the given representation graph into the output stream.</p>\n+<p><code>Dumper.close()</code> emits <code>StreamEndEvent</code>.</p>\n+<div class=\"sourceCode\" id=\"cb90\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb90-1\" title=\"1\">Dumper.represent(data)</a>\n+<a class=\"sourceLine\" id=\"cb90-2\" title=\"2\"></a>\n+<a class=\"sourceLine\" id=\"cb90-3\" title=\"3\">Dumper.add_representer(data_type, representer) <span class=\"co\"># Dumper.add_representer is a class method.</span></a>\n+<a class=\"sourceLine\" id=\"cb90-4\" title=\"4\">Dumper.add_multi_representer(base_data_type, multi_representer) <span class=\"co\"># Dumper.add_multi_representer is a class method.</span></a>\n+<a class=\"sourceLine\" id=\"cb90-5\" title=\"5\"></a>\n+<a class=\"sourceLine\" id=\"cb90-6\" title=\"6\">Dumper.represent_scalar(tag, value, style<span class=\"op\">=</span><span class=\"va\">None</span>)</a>\n+<a class=\"sourceLine\" id=\"cb90-7\" title=\"7\">Dumper.represent_sequence(tag, value, flow_style<span class=\"op\">=</span><span class=\"va\">None</span>)</a>\n+<a class=\"sourceLine\" id=\"cb90-8\" title=\"8\">Dumper.represent_mapping(tag, value, flow_style<span class=\"op\">=</span><span class=\"va\">None</span>)</a></code></pre></div>\n+<p><code>Dumper.represent(data)</code> serializes the given Python object to the output YAML stream.</p>\n+<p><code>Dumper.add_representer(data_type, representer)</code>: see <code>add_representer</code>.</p>\n+<p><code>Dumper.add_multi_representer(base_data_type, multi_representer)</code>: see <code>add_multi_representer</code>.</p>\n+<p><code>Dumper.represent_scalar(tag, value, style=None)</code> returns a scalar node with the given <code>tag</code>, <code>value</code>, and <code>style</code>. This function is intended to be used in representers.</p>\n+<p><code>Dumper.represent_sequence(tag, sequence, flow_style=None)</code> return a sequence node with the given <code>tag</code> and subnodes generated from the items of the given <code>sequence</code>.</p>\n+<p><code>Dumper.represent_mapping(tag, mapping, flow_style=None)</code> return a mapping node with the given <code>tag</code> and subnodes generated from the keys and values of the given <code>mapping</code>.</p>\n+<div class=\"sourceCode\" id=\"cb91\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb91-1\" title=\"1\">Dumper.add_implicit_resolver(tag, regexp, first) <span class=\"co\"># Dumper.add_implicit_resolver is a class method.</span></a>\n+<a class=\"sourceLine\" id=\"cb91-2\" title=\"2\">Dumper.add_path_resolver(tag, path, kind) <span class=\"co\"># Dumper.add_path_resolver is a class method.</span></a></code></pre></div>\n+<p><code>Dumper.add_implicit_resolver(tag, regexp, first)</code>: see <code>add_implicit_resolver</code>.</p>\n+<p><code>Dumper.add_path_resolver(tag, path, kind)</code>: see <code>add_path_resolver</code>.</p>\n+<h3 id=\"yamlobject\">YAMLObject</h3>\n+<div class=\"sourceCode\" id=\"cb92\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><a class=\"sourceLine\" id=\"cb92-1\" title=\"1\"><span class=\"kw\">class</span> MyYAMLObject(YAMLObject):</a>\n+<a class=\"sourceLine\" id=\"cb92-2\" title=\"2\">    yaml_loader <span class=\"op\">=</span> Loader</a>\n+<a class=\"sourceLine\" id=\"cb92-3\" title=\"3\">    yaml_dumper <span class=\"op\">=</span> Dumper</a>\n+<a class=\"sourceLine\" id=\"cb92-4\" title=\"4\"></a>\n+<a class=\"sourceLine\" id=\"cb92-5\" title=\"5\">    yaml_tag <span class=\"op\">=</span> <span class=\"st\">u'...'</span></a>\n+<a class=\"sourceLine\" id=\"cb92-6\" title=\"6\">    yaml_flow_style <span class=\"op\">=</span> ...</a>\n+<a class=\"sourceLine\" id=\"cb92-7\" title=\"7\"></a>\n+<a class=\"sourceLine\" id=\"cb92-8\" title=\"8\">    <span class=\"at\">@classmethod</span></a>\n+<a class=\"sourceLine\" id=\"cb92-9\" title=\"9\">    <span class=\"kw\">def</span> from_yaml(cls, loader, node):</a>\n+<a class=\"sourceLine\" id=\"cb92-10\" title=\"10\">        <span class=\"co\"># ...</span></a>\n+<a class=\"sourceLine\" id=\"cb92-11\" title=\"11\">        <span class=\"cf\">return</span> data</a>\n+<a class=\"sourceLine\" id=\"cb92-12\" title=\"12\"></a>\n+<a class=\"sourceLine\" id=\"cb92-13\" title=\"13\">    <span class=\"at\">@classmethod</span></a>\n+<a class=\"sourceLine\" id=\"cb92-14\" title=\"14\">    <span class=\"kw\">def</span> to_yaml(cls, dumper, data):</a>\n+<a class=\"sourceLine\" id=\"cb92-15\" title=\"15\">        <span class=\"co\"># ...</span></a>\n+<a class=\"sourceLine\" id=\"cb92-16\" title=\"16\">        <span class=\"cf\">return</span> node</a></code></pre></div>\n+<p>Subclassing <code>YAMLObject</code> is an easy way to define tags, constructors, and representers for your classes. You only need to override the <code>yaml_tag</code> attribute. If you want to define your custom constructor and representer, redefine the <code>from_yaml</code> and <code>to_yaml</code> method correspondingly.</p>\n+<h2 id=\"deviations-from-the-specification\">Deviations from the specification</h2>\n+<p><em>need to update this section</em></p>\n+<ul>\n+<li>rules for tabs in YAML are confusing. We are close, but not there yet. Perhaps both the spec and the parser should be fixed. Anyway, the best rule for tabs in YAML is to not use them at all.</li>\n+<li>Byte order mark. The initial BOM is stripped, but BOMs inside the stream are considered as parts of the content. It can be fixed, but its not really important now.</li>\n+<li><del>Empty plain scalars are not allowed if alias or tag is specified.</del> This is done to prevent anomalities like <em>[ !tag, value]</em>, which can be interpreted both as <em>[ !&lt;!tag,&gt; value ]</em> and <em>[ !&lt;!tag&gt; &quot;,value&quot; ]</em>. The spec should be fixed.</li>\n+<li><p>Indentation of flow collections. The spec requires them to be indented more than their block parent node. Unfortunately this rule renders many intuitively correct constructs invalid, for instance,</p>\n+<pre><code>  block: {\n+  } # this is indentation violation according to the spec.</code></pre></li>\n+<li><p>: is not allowed for plain scalars in the flow mode. <del><em>{1:2}</em> is interpreted as <em>{ 1 : 2 }</em>.</del></p></li>\n+</ul>\n+</body>\n+</html>\ndiff --git a/mobly/config_parser.py b/mobly/config_parser.py\nindex 094777a..cf6a7dc 100644\n--- a/mobly/config_parser.py\n+++ b/mobly/config_parser.py\n@@ -150,7 +150,7 @@ def _load_config_file(path):\n         A dict that represents info in the config file.\n     \"\"\"\n     with open(utils.abs_path(path), 'r') as f:\n-        conf = yaml.load(f)\n+        conf = yaml.load(f, Loader=yaml.Loader)\n         return conf\n \n \ndiff --git a/mobly/test_runner.py b/mobly/test_runner.py\nindex 5ae2767..ce1ba42 100644\n--- a/mobly/test_runner.py\n+++ b/mobly/test_runner.py\n@@ -283,6 +283,13 @@ class TestRunner(object):\n                 cls_result = test_instance.run(tests)\n                 self.results += cls_result\n             except signals.TestAbortAll as e:\n+                # Include all tests for aborted classes\n+                self.results += e.results\n+                for test_run_info in self._test_run_infos:\n+                    if test_run_info.tests:\n+                        for test in test_run_info.tests:\n+                            self.results.add_test_result(test, records.TestResult.TEST_FAILURE)\n+                raise e\n                 self.results += e.results\n                 raise e\n \ndiff --git a/test_config.yaml b/test_config.yaml\nnew file mode 100644\nindex 0000000..5576253\n--- /dev/null\n+++ b/test_config.yaml\n@@ -0,0 +1,6 @@\n+log_path: /tmp/mobly_logs\n+test_bed_name: test_bed\n+controller_configs: {}\n+TestBeds:\n+  - test_bed_name: test_bed\n+    controller_configs: {}\ndiff --git a/test_script.py b/test_script.py\nnew file mode 100644\nindex 0000000..822654c\n--- /dev/null\n+++ b/test_script.py\n@@ -0,0 +1,10 @@\n+from mobly import test_runner\n+from mobly import signals\n+from mobly import base_test\n+\n+class TestClass(base_test.BaseTestClass):\n+    def test_method(self):\n+        raise signals.TestAbortAll(\"Simulated abort\")\n+\n+if __name__ == '__main__':\n+    test_runner.main()\n",
  "eval_logs": "Will execute following command for apply_patch:\n```\n\ncd //mobly &&\nsource activate base &&\nconda activate mobly &&\ngit apply -v /swebench_matterhorn/prediction_patch.patch --allow-empty\n```\n\n/swebench_matterhorn/prediction_patch.patch:88: trailing whitespace.\nline-height: 1.15; \n/swebench_matterhorn/prediction_patch.patch:89: trailing whitespace.\n-ms-text-size-adjust: 100%; \n/swebench_matterhorn/prediction_patch.patch:90: trailing whitespace.\n-webkit-text-size-adjust: 100%; \n/swebench_matterhorn/prediction_patch.patch:115: trailing whitespace.\nmain { \n/swebench_matterhorn/prediction_patch.patch:124: trailing whitespace.\nbox-sizing: content-box; \nChecking patch PyYAMLDocumentation...\nChecking patch mobly/config_parser.py...\nChecking patch mobly/test_runner.py...\nChecking patch test_config.yaml...\nChecking patch test_script.py...\nApplied patch PyYAMLDocumentation cleanly.\nApplied patch mobly/config_parser.py cleanly.\nApplied patch mobly/test_runner.py cleanly.\nApplied patch test_config.yaml cleanly.\nApplied patch test_script.py cleanly.\nwarning: squelched 34 whitespace errors\nwarning: 39 lines add whitespace errors.\nWill execute following command for apply_patch:\n```\n\ncd //mobly &&\nsource activate base &&\nconda activate mobly &&\ngit restore mobly/base_test.py &&\ngit restore tests/mobly/base_test_test.py &&\ngit restore tests/mobly/records_test.py &&\ngit apply -v /swebench_matterhorn/test_patch.patch --allow-empty\n```\n\nChecking patch mobly/base_test.py...\nChecking patch tests/mobly/base_test_test.py...\nChecking patch tests/mobly/records_test.py...\nApplied patch mobly/base_test.py cleanly.\nApplied patch tests/mobly/base_test_test.py cleanly.\nApplied patch tests/mobly/records_test.py cleanly.\n___ENVIRONMENT_SET_UP_PATCH_APPLIED___\n2024-10-03 02:10:34,827 - root - INFO - Will run the following test command\n2024-10-03 02:10:34,827 - root - INFO - \n```\ncd //mobly &&\nsource activate base &&\nconda activate mobly &&\npytest --no-header -rA --tb=no  -p no:cacheprovider -W ignore::DeprecationWarning mobly/base_test.py tests/mobly/base_test_test.py tests/mobly/records_test.py\n```\nWill execute following command for run_tests:\n```\n\ncd //mobly &&\nsource activate base &&\nconda activate mobly &&\npytest --no-header -rA --tb=no  -p no:cacheprovider -W ignore::DeprecationWarning mobly/base_test.py tests/mobly/base_test_test.py tests/mobly/records_test.py\n```\n\n___TESTS_SECTION___\n============================= test session starts ==============================\ncollected 76 items\n\ntests/mobly/base_test_test.py ..........FF...........F.F................ [ 55%]\n................                                                         [ 76%]\ntests/mobly/records_test.py ...F...F........F.                           [100%]\n\n=========================== short test summary info ============================\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_skip\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_assert_raises_fail_with_wrong_error\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_current_test_name\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_teardown_test_executed_if_setup_test_fails\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_cli_test_selection_override_self_tests_list\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_assert_equal_pass\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_unpack_userparams_optional_with_default\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_generate_tests_call_outside_of_setup_generated_tests\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_generate_tests_selected_run\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_assert_raises_pass\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_both_teardown_and_test_body_raise_exceptions\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_unpack_userparams_required_missing\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_assert_raises_regex_pass\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_on_pass_raise_exception\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_self_tests_list\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_teardown_test_assert_fail\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_uncaught_exception\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_assert_equal_fail_with_msg\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_teardown_test_raise_exception\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_unpack_userparams_required\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_on_fail_executed_if_test_fails\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_fail\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_teardown_test_executed_if_test_pass\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_unpack_userparams_default_overwrite\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_assert_raises_regex_fail_with_noop\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_generate_tests_run\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_setup_test_fail_by_test_signal\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_missing_requested_test_func\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_unpack_userparams_default_overwrite_by_optional_param_list\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_assert_raises_fail_with_noop\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_default_execution_of_all_tests\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_on_fail_executed_if_test_setup_fails_by_exception\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_explicit_pass_but_teardown_test_raises_an_exception\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_unpack_userparams_optional\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_on_fail_raise_exception\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_assert_raises_regex_fail_with_wrong_error\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_self_tests_list_fail_by_convention\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_assert_raises_fail_with_wrong_regex\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_cli_test_selection_fail_by_convention\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_unpack_userparams_optional_missing\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_unpack_userparams_basic\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_failure_in_procedure_functions_is_recorded\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_on_fail_executed_if_teardown_test_fails\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_unpack_userparams_default_overwrite_by_required_param_list\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_setup_test_fail_by_exception\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_failure_to_call_procedure_function_is_recorded\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_implicit_pass\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_assert_equal_fail\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_teardown_test_executed_if_test_fails\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_generated_tests\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_assert_true\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_explicit_pass\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_unpack_userparams_default_None\nPASSED tests/mobly/base_test_test.py::BaseTestTest::test_skip_if\nPASSED tests/mobly/records_test.py::RecordsTest::test_result_record_pass_none\nPASSED tests/mobly/records_test.py::RecordsTest::test_is_all_pass\nPASSED tests/mobly/records_test.py::RecordsTest::test_result_record_fail_none\nPASSED tests/mobly/records_test.py::RecordsTest::test_result_record_skip_with_float_extra\nPASSED tests/mobly/records_test.py::RecordsTest::test_is_all_pass_with_fail_class\nPASSED tests/mobly/records_test.py::RecordsTest::test_result_record_skip_with_json_extra\nPASSED tests/mobly/records_test.py::RecordsTest::test_result_record_fail_with_float_extra\nPASSED tests/mobly/records_test.py::RecordsTest::test_result_add_operator_success\nPASSED tests/mobly/records_test.py::RecordsTest::test_result_record_fail_stacktrace\nPASSED tests/mobly/records_test.py::RecordsTest::test_result_record_pass_with_json_extra\nPASSED tests/mobly/records_test.py::RecordsTest::test_is_all_pass_negative\nPASSED tests/mobly/records_test.py::RecordsTest::test_result_record_pass_with_float_extra\nPASSED tests/mobly/records_test.py::RecordsTest::test_result_record_skip_none\nPASSED tests/mobly/records_test.py::RecordsTest::test_result_add_operator_type_mismatch\nPASSED tests/mobly/records_test.py::RecordsTest::test_result_record_fail_with_json_extra\nFAILED tests/mobly/base_test_test.py::BaseTestTest::test_abort_setup_class - ...\nFAILED tests/mobly/base_test_test.py::BaseTestTest::test_abort_class_in_test\nFAILED tests/mobly/base_test_test.py::BaseTestTest::test_setup_class_fail_by_exception\nFAILED tests/mobly/base_test_test.py::BaseTestTest::test_generate_tests_dup_test_name\nFAILED tests/mobly/records_test.py::RecordsTest::test_result_fail_class_with_special_error\nFAILED tests/mobly/records_test.py::RecordsTest::test_result_fail_class_with_test_signal\nFAILED tests/mobly/records_test.py::RecordsTest::test_is_test_executed - Attr...\n========================= 7 failed, 69 passed in 0.66s =========================\n___TESTS_SECTION_END___\nSome tests failed.\n"
}